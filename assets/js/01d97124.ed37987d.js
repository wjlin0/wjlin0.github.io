"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[2005],{2848:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u6e17\u900f\u624b\u6cd5/JS\u8fd8\u539f/README","title":"JS\u8fd8\u539f","description":"|\u4f5c\u8005|\u4fee\u8ba2\u65f6\u95f4|","source":"@site/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/05.\u6e17\u900f\u624b\u6cd5/03.JS\u8fd8\u539f/README.md","sourceDirName":"\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/05.\u6e17\u900f\u624b\u6cd5/03.JS\u8fd8\u539f","slug":"/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u6e17\u900f\u624b\u6cd5/JS\u8fd8\u539f/","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u6e17\u900f\u624b\u6cd5/JS\u8fd8\u539f/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/01.\u6e17\u900f\u6d4b\u8bd5/05.\u6e17\u900f\u624b\u6cd5/03.JS\u8fd8\u539f/README.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"SpringBoot\u6e17\u900f","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u6e17\u900f\u624b\u6cd5/SpringBoot\u6e17\u900f/"},"next":{"title":"fscan\u514d\u6740","permalink":"/docs/\u4e2a\u4eba\u77e5\u8bc6\u5e93/\u6e17\u900f\u6d4b\u8bd5/\u514d\u6740/fscan\u514d\u6740/"}}');var t=r(4848),c=r(8453);const a={},i="JS\u8fd8\u539f",l={},d=[{value:"\u4ec0\u4e48\u662f AST",id:"\u4ec0\u4e48\u662f-ast",level:2},{value:"AST \u5728\u7f16\u8bd1\u4e2d\u7684\u4f4d\u7f6e",id:"ast-\u5728\u7f16\u8bd1\u4e2d\u7684\u4f4d\u7f6e",level:2},{value:"\u8bcd\u6cd5\u5206\u6790",id:"\u8bcd\u6cd5\u5206\u6790",level:3},{value:"\u8bed\u6cd5\u5206\u6790",id:"\u8bed\u6cd5\u5206\u6790",level:3},{value:"\u4ee3\u7801\u751f\u6210",id:"\u4ee3\u7801\u751f\u6210",level:3},{value:"Babel \u7b80\u4ecb",id:"babel-\u7b80\u4ecb",level:2},{value:"@babel/core",id:"babelcore",level:3},{value:"@babel/parser",id:"babelparser",level:3},{value:"@babel/generator",id:"babelgenerator",level:3},{value:"@babel/traverse",id:"babeltraverse",level:3},{value:"@babel/types",id:"babeltypes",level:3},{value:"\u5e38\u89c1\u6df7\u6dc6\u8fd8\u539f",id:"\u5e38\u89c1\u6df7\u6dc6\u8fd8\u539f",level:2},{value:"\u5b57\u7b26\u4e32\u8fd8\u539f",id:"\u5b57\u7b26\u4e32\u8fd8\u539f",level:3},{value:"\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f\u8fd8\u539f",id:"\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f\u8fd8\u539f",level:3},{value:"\u8868\u8fbe\u5f0f\u8fd8\u539f",id:"\u8868\u8fbe\u5f0f\u8fd8\u539f",level:3},{value:"\u5220\u9664\u672a\u4f7f\u7528\u53d8\u91cf",id:"\u5220\u9664\u672a\u4f7f\u7528\u53d8\u91cf",level:3},{value:"\u5220\u9664\u5197\u4f59\u903b\u8f91\u4ee3\u7801",id:"\u5220\u9664\u5197\u4f59\u903b\u8f91\u4ee3\u7801",level:3},{value:"\u82b1\u6307\u4ee4\u8f6c\u4e8c\u9879\u5f0f",id:"\u82b1\u6307\u4ee4\u8f6c\u4e8c\u9879\u5f0f",level:3},{value:"switch-case \u63a7\u5236\u6d41\u5e73\u5766\u5316",id:"switch-case-\u63a7\u5236\u6d41\u5e73\u5766\u5316",level:3},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"js\u8fd8\u539f",children:"JS\u8fd8\u539f"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{style:{textAlign:"left"},children:"\u4f5c\u8005"}),(0,t.jsx)(e.th,{style:{textAlign:"left"},children:"\u4fee\u8ba2\u65f6\u95f4"})]})}),(0,t.jsx)(e.tbody,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{style:{textAlign:"left"},children:(0,t.jsx)(e.img,{src:"https://img.shields.io/badge/wjlin0-%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93-green",alt:"wjlin0"})}),(0,t.jsx)(e.td,{style:{textAlign:"left"},children:"2025-10-15 00:35:28"})]})})]}),"\n",(0,t.jsx)(e.h1,{id:"\u9006\u5411\u8fdb\u9636\u5229\u7528-ast-\u6280\u672f\u8fd8\u539f-javascript-\u6df7\u6dc6\u4ee3\u7801",children:"\u9006\u5411\u8fdb\u9636\uff0c\u5229\u7528 AST \u6280\u672f\u8fd8\u539f JavaScript \u6df7\u6dc6\u4ee3\u7801"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647047.png-.png",alt:"img"})}),"\n",(0,t.jsx)(e.h2,{id:"\u4ec0\u4e48\u662f-ast",children:"\u4ec0\u4e48\u662f AST"}),"\n",(0,t.jsx)(e.p,{children:"AST\uff08Abstract Syntax Tree\uff09\uff0c\u4e2d\u6587\u62bd\u8c61\u8bed\u6cd5\u6811\uff0c\u7b80\u79f0\u8bed\u6cd5\u6811\uff08Syntax Tree\uff09\uff0c\u662f\u6e90\u4ee3\u7801\u7684\u62bd\u8c61\u8bed\u6cd5\u7ed3\u6784\u7684\u6811\u72b6\u8868\u73b0\u5f62\u5f0f\uff0c\u6811\u4e0a\u7684\u6bcf\u4e2a\u8282\u70b9\u90fd\u8868\u793a\u6e90\u4ee3\u7801\u4e2d\u7684\u4e00\u79cd\u7ed3\u6784\u3002\u8bed\u6cd5\u6811\u4e0d\u662f\u67d0\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\u72ec\u6709\u7684\uff0cJavaScript\u3001Python\u3001Java\u3001Golang \u7b49\u51e0\u4e4e\u6240\u6709\u7f16\u7a0b\u8bed\u8a00\u90fd\u6709\u8bed\u6cd5\u6811\u3002"}),"\n",(0,t.jsx)(e.p,{children:"\u5c0f\u65f6\u5019\u6211\u4eec\u5f97\u5230\u4e00\u4e2a\u73a9\u5177\uff0c\u603b\u559c\u6b22\u628a\u73a9\u5177\u62c6\u89e3\u6210\u4e00\u4e2a\u4e00\u4e2a\u5c0f\u96f6\u4ef6\uff0c\u7136\u540e\u6309\u7167\u6211\u4eec\u81ea\u5df1\u7684\u60f3\u6cd5\uff0c\u628a\u96f6\u4ef6\u91cd\u65b0\u7ec4\u88c5\u8d77\u6765\uff0c\u4e00\u4e2a\u65b0\u73a9\u5177\u5c31\u8bde\u751f\u4e86\u3002\u800c JavaScript \u5c31\u50cf\u4e00\u53f0\u7cbe\u5999\u8fd0\u4f5c\u7684\u673a\u5668\uff0c\u901a\u8fc7 AST \u89e3\u6790\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u50cf\u7ae5\u5e74\u65f6\u62c6\u89e3\u73a9\u5177\u4e00\u6837\uff0c\u6df1\u5165\u4e86\u89e3 JavaScript \u8fd9\u53f0\u673a\u5668\u7684\u5404\u4e2a\u96f6\u90e8\u4ef6\uff0c\u7136\u540e\u91cd\u65b0\u6309\u7167\u6211\u4eec\u81ea\u5df1\u7684\u610f\u613f\u6765\u7ec4\u88c5\u3002"}),"\n",(0,t.jsx)(e.p,{children:"AST \u7684\u7528\u9014\u5f88\u5e7f\uff0cIDE \u7684\u8bed\u6cd5\u9ad8\u4eae\u3001\u4ee3\u7801\u68c0\u67e5\u3001\u683c\u5f0f\u5316\u3001\u538b\u7f29\u3001\u8f6c\u8bd1\u7b49\uff0c\u90fd\u9700\u8981\u5148\u5c06\u4ee3\u7801\u8f6c\u5316\u6210 AST \u518d\u8fdb\u884c\u540e\u7eed\u7684\u64cd\u4f5c\uff0cES5 \u548c ES6 \u8bed\u6cd5\u5dee\u5f02\uff0c\u4e3a\u4e86\u5411\u540e\u517c\u5bb9\uff0c\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u9700\u8981\u8fdb\u884c\u8bed\u6cd5\u7684\u8f6c\u6362\uff0c\u4e5f\u4f1a\u7528\u5230 AST\u3002AST \u5e76\u4e0d\u662f\u4e3a\u4e86\u9006\u5411\u800c\u751f\uff0c\u4f46\u505a\u9006\u5411\u5b66\u4f1a\u4e86 AST\uff0c\u5728\u89e3\u6df7\u6dc6\u65f6\u53ef\u4ee5\u5982\u9c7c\u5f97\u6c34\u3002"}),"\n",(0,t.jsxs)(e.p,{children:["AST \u6709\u4e00\u4e2a\u5728\u7ebf\u89e3\u6790\u7f51\u7ad9\uff1a",(0,t.jsx)(e.a,{href:"https://astexplorer.net/",children:"https://astexplorer.net/"})," \uff0c\u9876\u90e8\u53ef\u4ee5\u9009\u62e9\u8bed\u8a00\u3001\u7f16\u8bd1\u5668\u3001\u662f\u5426\u5f00\u542f\u8f6c\u5316\u7b49\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u533a\u57df\u2460\u662f\u6e90\u4ee3\u7801\uff0c\u533a\u57df\u2461\u662f\u5bf9\u5e94\u7684 AST \u8bed\u6cd5\u6811\uff0c\u533a\u57df\u2462\u662f\u8f6c\u6362\u4ee3\u7801\uff0c\u53ef\u4ee5\u5bf9\u8bed\u6cd5\u6811\u8fdb\u884c\u5404\u79cd\u64cd\u4f5c\uff0c\u533a\u57df\u2463\u662f\u8f6c\u6362\u540e\u751f\u6210\u7684\u65b0\u4ee3\u7801\u3002\u56fe\u4e2d\u539f\u6765\u7684 Unicode \u5b57\u7b26\u7ecf\u8fc7\u64cd\u4f5c\u4e4b\u540e\u5c31\u53d8\u6210\u4e86\u6b63\u5e38\u5b57\u7b26\u3002"]}),"\n",(0,t.jsx)(e.p,{children:"\u8bed\u6cd5\u6811\u6ca1\u6709\u5355\u4e00\u7684\u683c\u5f0f\uff0c\u9009\u62e9\u4e0d\u540c\u7684\u8bed\u8a00\u3001\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5728 JavaScript \u4e2d\uff0c\u7f16\u8bd1\u5668\u6709 Acorn\u3001Espree\u3001Esprima\u3001Recast\u3001Uglify-JS \u7b49\uff0c\u4f7f\u7528\u6700\u591a\u7684\u662f Babel\uff0c\u540e\u7eed\u7684\u5b66\u4e60\u4e5f\u662f\u4ee5 Babel \u4e3a\u4f8b\u3002"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647049.png-.png",alt:"01"})}),"\n",(0,t.jsx)(e.h2,{id:"ast-\u5728\u7f16\u8bd1\u4e2d\u7684\u4f4d\u7f6e",children:"AST \u5728\u7f16\u8bd1\u4e2d\u7684\u4f4d\u7f6e"}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u7f16\u8bd1\u539f\u7406\u4e2d\uff0c\u7f16\u8bd1\u5668\u8f6c\u6362\u4ee3\u7801\u901a\u5e38\u8981\u7ecf\u8fc7\u4e09\u4e2a\u6b65\u9aa4\uff1a\u8bcd\u6cd5\u5206\u6790\uff08Lexical Analysis\uff09\u3001\u8bed\u6cd5\u5206\u6790\uff08Syntax Analysis\uff09\u3001\u4ee3\u7801\u751f\u6210\uff08Code Generation\uff09\uff0c\u4e0b\u56fe\u751f\u52a8\u5c55\u793a\u4e86\u8fd9\u4e00\u8fc7\u7a0b\uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647050.png-.png",alt:"02"})}),"\n",(0,t.jsx)(e.h3,{id:"\u8bcd\u6cd5\u5206\u6790",children:"\u8bcd\u6cd5\u5206\u6790"}),"\n",(0,t.jsxs)(e.p,{children:["\u8bcd\u6cd5\u5206\u6790\u9636\u6bb5\u662f\u7f16\u8bd1\u8fc7\u7a0b\u7684\u7b2c\u4e00\u4e2a\u9636\u6bb5\uff0c\u8fd9\u4e2a\u9636\u6bb5\u7684\u4efb\u52a1\u662f\u4ece\u5de6\u5230\u53f3\u4e00\u4e2a\u5b57\u7b26\u4e00\u4e2a\u5b57\u7b26\u5730\u8bfb\u5165\u6e90\u7a0b\u5e8f\uff0c\u7136\u540e\u6839\u636e\u6784\u8bcd\u89c4\u5219\u8bc6\u522b\u5355\u8bcd\uff0c\u751f\u6210 token \u7b26\u53f7\u6d41\uff0c\u6bd4\u5982 ",(0,t.jsx)(e.code,{children:"isPanda('\ud83d\udc3c')"}),"\uff0c\u4f1a\u88ab\u62c6\u5206\u6210 ",(0,t.jsx)(e.code,{children:"isPanda"}),"\uff0c",(0,t.jsx)(e.code,{children:"("}),"\uff0c",(0,t.jsx)(e.code,{children:"'\ud83d\udc3c'"}),"\uff0c",(0,t.jsx)(e.code,{children:")"})," \u56db\u90e8\u5206\uff0c\u6bcf\u90e8\u5206\u90fd\u6709\u4e0d\u540c\u7684\u542b\u4e49\uff0c\u53ef\u4ee5\u5c06\u8bcd\u6cd5\u5206\u6790\u8fc7\u7a0b\u60f3\u8c61\u4e3a\u4e0d\u540c\u7c7b\u578b\u6807\u8bb0\u7684\u5217\u8868\u6216\u6570\u7ec4\u3002"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647051.gif-.png",alt:"03"})}),"\n",(0,t.jsx)(e.h3,{id:"\u8bed\u6cd5\u5206\u6790",children:"\u8bed\u6cd5\u5206\u6790"}),"\n",(0,t.jsxs)(e.p,{children:["\u8bed\u6cd5\u5206\u6790\u662f\u7f16\u8bd1\u8fc7\u7a0b\u7684\u4e00\u4e2a\u903b\u8f91\u9636\u6bb5\uff0c\u8bed\u6cd5\u5206\u6790\u7684\u4efb\u52a1\u662f\u5728\u8bcd\u6cd5\u5206\u6790\u7684\u57fa\u7840\u4e0a\u5c06\u5355\u8bcd\u5e8f\u5217\u7ec4\u5408\u6210\u5404\u7c7b\u8bed\u6cd5\u77ed\u8bed\uff0c\u6bd4\u5982\u201c\u7a0b\u5e8f\u201d\uff0c\u201c\u8bed\u53e5\u201d\uff0c\u201c\u8868\u8fbe\u5f0f\u201d\u7b49\uff0c\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c",(0,t.jsx)(e.code,{children:"isPanda('\ud83d\udc3c')"})," \u5c31\u4f1a\u88ab\u5206\u6790\u4e3a\u4e00\u6761\u8868\u8fbe\u8bed\u53e5 ",(0,t.jsx)(e.code,{children:"ExpressionStatement"}),"\uff0c",(0,t.jsx)(e.code,{children:"isPanda()"})," \u5c31\u4f1a\u88ab\u5206\u6790\u6210\u4e00\u4e2a\u51fd\u6570\u8868\u8fbe\u5f0f ",(0,t.jsx)(e.code,{children:"CallExpression"}),"\uff0c",(0,t.jsx)(e.code,{children:"\ud83d\udc3c"})," \u5c31\u4f1a\u88ab\u5206\u6790\u6210\u4e00\u4e2a\u53d8\u91cf ",(0,t.jsx)(e.code,{children:"Literal"})," \u7b49\uff0c\u4f17\u591a\u8bed\u6cd5\u4e4b\u95f4\u7684\u4f9d\u8d56\u3001\u5d4c\u5957\u5173\u7cfb\uff0c\u5c31\u6784\u6210\u4e86\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\uff0c\u5373 AST \u8bed\u6cd5\u6811\u3002"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://img2022.cnblogs.com/other/2501174/202204/2501174-20220427101415313-1435211089.gif",children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647052.gif-.png",alt:"04"})})}),"\n",(0,t.jsx)(e.h3,{id:"\u4ee3\u7801\u751f\u6210",children:"\u4ee3\u7801\u751f\u6210"}),"\n",(0,t.jsxs)(e.p,{children:["\u4ee3\u7801\u751f\u6210\u662f\u6700\u540e\u4e00\u6b65\uff0c\u5c06 AST \u8bed\u6cd5\u6811\u8f6c\u6362\u6210\u53ef\u6267\u884c\u4ee3\u7801\u5373\u53ef\uff0c\u5728\u8f6c\u6362\u4e4b\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u64cd\u4f5c\u8bed\u6cd5\u6811\uff0c\u8fdb\u884c\u589e\u5220\u6539\u67e5\u7b49\u64cd\u4f5c\uff0c\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u786e\u5b9a\u53d8\u91cf\u7684\u58f0\u660e\u4f4d\u7f6e\u3001\u66f4\u6539\u53d8\u91cf\u7684\u503c\u3001\u5220\u9664\u67d0\u4e9b\u8282\u70b9\u7b49\uff0c\u6211\u4eec\u5c06\u8bed\u53e5 ",(0,t.jsx)(e.code,{children:"isPanda('\ud83d\udc3c')"})," \u4fee\u6539\u4e3a\u4e00\u4e2a\u5e03\u5c14\u7c7b\u578b\u7684 ",(0,t.jsx)(e.code,{children:"Literal"}),"\uff1a",(0,t.jsx)(e.code,{children:"true"}),"\uff0c\u8bed\u6cd5\u6811\u5c31\u6709\u5982\u4e0b\u53d8\u5316\uff1a"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647053.gif-.png",alt:"05"})}),"\n",(0,t.jsx)(e.h2,{id:"babel-\u7b80\u4ecb",children:"Babel \u7b80\u4ecb"}),"\n",(0,t.jsxs)(e.p,{children:["Babel \u662f\u4e00\u4e2a JavaScript \u7f16\u8bd1\u5668\uff0c\u4e5f\u53ef\u4ee5\u8bf4\u662f\u4e00\u4e2a\u89e3\u6790\u5e93\uff0cBabel \u4e2d\u6587\u7f51\uff1a",(0,t.jsx)(e.a,{href:"https://www.babeljs.cn/",children:"https://www.babeljs.cn/"})," \uff0cBabel \u82f1\u6587\u5b98\u7f51\uff1a",(0,t.jsx)(e.a,{href:"https://babeljs.io/",children:"https://babeljs.io/"})," \uff0cBabel \u5185\u7f6e\u4e86\u5f88\u591a\u5206\u6790 JavaScript \u4ee3\u7801\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528 Babel \u5c06 JavaScript \u4ee3\u7801\u8f6c\u6362\u6210 AST \u8bed\u6cd5\u6811\uff0c\u7136\u540e\u589e\u5220\u6539\u67e5\u7b49\u64cd\u4f5c\u4e4b\u540e\uff0c\u518d\u8f6c\u6362\u6210 JavaScript \u4ee3\u7801\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["Babel \u5305\u542b\u7684\u5404\u79cd\u529f\u80fd\u5305\u3001API\u3001\u5404\u65b9\u6cd5\u53ef\u9009\u53c2\u6570\u7b49\uff0c\u90fd\u975e\u5e38\u591a\uff0c\u672c\u6587\u4e0d\u4e00\u4e00\u5217\u4e3e\uff0c\u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u5f53\u591a\u67e5\u8be2\u5b98\u65b9\u6587\u6863\uff0c\u6216\u8005\u53c2\u8003\u6587\u672b\u7ed9\u51fa\u7684\u4e00\u4e9b\u5b66\u4e60\u8d44\u6599\u3002Babel \u7684\u5b89\u88c5\u548c\u5176\u4ed6 Node \u5305\u4e00\u6837\uff0c\u9700\u8981\u54ea\u4e2a\u5b89\u88c5\u54ea\u4e2a\u5373\u53ef\uff0c\u6bd4\u5982 ",(0,t.jsx)(e.code,{children:"npm install @babel/core @babel/parser @babel/traverse @babel/generator"})]}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u505a\u9006\u5411\u89e3\u6df7\u6dc6\u4e2d\uff0c\u4e3b\u8981\u7528\u5230\u4e86 Babel \u7684\u4ee5\u4e0b\u51e0\u4e2a\u529f\u80fd\u5305\uff0c\u672c\u6587\u4e5f\u4ec5\u4ecb\u7ecd\u4ee5\u4e0b\u51e0\u4e2a\u529f\u80fd\u5305\uff1a"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"@babel/core"}),"\uff1aBabel \u7f16\u8bd1\u5668\u672c\u8eab\uff0c\u63d0\u4f9b\u4e86 babel \u7684\u7f16\u8bd1 API\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"@babel/parser"}),"\uff1a\u5c06 JavaScript \u4ee3\u7801\u89e3\u6790\u6210 AST \u8bed\u6cd5\u6811\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"@babel/traverse"}),"\uff1a\u904d\u5386\u3001\u4fee\u6539 AST \u8bed\u6cd5\u6811\u7684\u5404\u4e2a\u8282\u70b9\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"@babel/generator"}),"\uff1a\u5c06 AST \u8fd8\u539f\u6210 JavaScript \u4ee3\u7801\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"@babel/types"}),"\uff1a\u5224\u65ad\u3001\u9a8c\u8bc1\u8282\u70b9\u7684\u7c7b\u578b\u3001\u6784\u5efa\u65b0 AST \u8282\u70b9\u7b49\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647054.png-.png",alt:"06"})}),"\n",(0,t.jsx)(e.h3,{id:"babelcore",children:"@babel/core"}),"\n",(0,t.jsxs)(e.p,{children:["Babel \u7f16\u8bd1\u5668\u672c\u8eab\uff0c\u88ab\u62c6\u5206\u6210\u4e86\u4e09\u4e2a\u6a21\u5757\uff1a",(0,t.jsx)(e.code,{children:"@babel/parser"}),"\u3001",(0,t.jsx)(e.code,{children:"@babel/traverse"}),"\u3001",(0,t.jsx)(e.code,{children:"@babel/generator"}),"\uff0c\u6bd4\u5982\u4ee5\u4e0b\u65b9\u6cd5\u7684\u5bfc\u5165\u6548\u679c\u90fd\u662f\u4e00\u6837\u7684\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const parse = require("@babel/parser").parse;\n\nconst parse = require("@babel/core").parse;\n\n\nconst traverse = require("@babel/traverse").default\n\nconst traverse = require("@babel/core").traverse\n'})}),"\n",(0,t.jsx)(e.h3,{id:"babelparser",children:"@babel/parser"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"@babel/parser"})," \u53ef\u4ee5\u5c06 JavaScript \u4ee3\u7801\u89e3\u6790\u6210 AST \u8bed\u6cd5\u6811\uff0c\u5176\u4e2d\u4e3b\u8981\u63d0\u4f9b\u4e86\u4e24\u4e2a\u65b9\u6cd5\uff1a"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"parser.parse(code, [{options}])"}),"\uff1a\u89e3\u6790\u4e00\u6bb5 JavaScript \u4ee3\u7801\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"parser.parseExpression(code, [{options}])"}),"\uff1a\u8003\u8651\u5230\u4e86\u6027\u80fd\u95ee\u9898\uff0c\u89e3\u6790\u5355\u4e2a JavaScript \u8868\u8fbe\u5f0f\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u90e8\u5206\u53ef\u9009\u53c2\u6570 ",(0,t.jsx)(e.code,{children:"options"}),"\uff1a"]}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u53c2\u6570"}),(0,t.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"allowImportExportEverywhere"})}),(0,t.jsxs)(e.td,{children:["\u9ed8\u8ba4 ",(0,t.jsx)(e.code,{children:"import"})," \u548c ",(0,t.jsx)(e.code,{children:"export"})," \u58f0\u660e\u8bed\u53e5\u53ea\u80fd\u51fa\u73b0\u5728\u7a0b\u5e8f\u7684\u6700\u9876\u5c42\uff0c\u8bbe\u7f6e\u4e3a ",(0,t.jsx)(e.code,{children:"true"})," \u5219\u5728\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u4ee5\u58f0\u660e"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"allowReturnOutsideFunction"})}),(0,t.jsxs)(e.td,{children:["\u9ed8\u8ba4\u5982\u679c\u5728\u9876\u5c42\u4e2d\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"return"})," \u8bed\u53e5\u4f1a\u5f15\u8d77\u9519\u8bef\uff0c\u8bbe\u7f6e\u4e3a ",(0,t.jsx)(e.code,{children:"true"})," \u5c31\u4e0d\u4f1a\u62a5\u9519"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"sourceType"})}),(0,t.jsxs)(e.td,{children:["\u9ed8\u8ba4\u4e3a ",(0,t.jsx)(e.code,{children:"script"}),"\uff0c\u5f53\u4ee3\u7801\u4e2d\u542b\u6709 ",(0,t.jsx)(e.code,{children:"import"})," \u3001",(0,t.jsx)(e.code,{children:"export"})," \u7b49\u5173\u952e\u5b57\u65f6\u4f1a\u62a5\u9519\uff0c\u9700\u8981\u6307\u5b9a\u4e3a ",(0,t.jsx)(e.code,{children:"module"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"errorRecovery"})}),(0,t.jsxs)(e.td,{children:["\u9ed8\u8ba4\u5982\u679c babel \u53d1\u73b0\u4e00\u4e9b\u4e0d\u6b63\u5e38\u7684\u4ee3\u7801\u5c31\u4f1a\u629b\u51fa\u9519\u8bef\uff0c\u8bbe\u7f6e\u4e3a ",(0,t.jsx)(e.code,{children:"true"})," \u5219\u4f1a\u5728\u4fdd\u5b58\u89e3\u6790\u9519\u8bef\u7684\u540c\u65f6\u7ee7\u7eed\u89e3\u6790\u4ee3\u7801\uff0c\u9519\u8bef\u7684\u8bb0\u5f55\u5c06\u88ab\u4fdd\u5b58\u5728\u6700\u7ec8\u751f\u6210\u7684 AST \u7684 errors \u5c5e\u6027\u4e2d\uff0c\u5f53\u7136\u5982\u679c\u9047\u5230\u4e25\u91cd\u7684\u9519\u8bef\uff0c\u4f9d\u7136\u4f1a\u7ec8\u6b62\u89e3\u6790"]})]})]})]}),"\n",(0,t.jsx)(e.p,{children:"\u4e3e\u4e2a\u4f8b\u5b50\u770b\u5f97\u6bd4\u8f83\u6e05\u695a\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const parser = require("@babel/parser");\n\n\n\nconst code = "const a = 1;";\n\nconst ast = parser.parse(code, {sourceType: "module"})\n\nconsole.log(ast)\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:'{sourceType: "module"}'})," \u6f14\u793a\u4e86\u5982\u4f55\u6dfb\u52a0\u53ef\u9009\u53c2\u6570\uff0c\u8f93\u51fa\u7684\u5c31\u662f AST \u8bed\u6cd5\u6811\uff0c\u8fd9\u548c\u5728\u7ebf\u7f51\u7ad9 ",(0,t.jsx)(e.a,{href:"https://astexplorer.net/",children:"https://astexplorer.net/"})," \u89e3\u6790\u51fa\u6765\u7684\u8bed\u6cd5\u6811\u662f\u4e00\u6837\u7684\uff1a"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647055.png-.png",alt:"07"})}),"\n",(0,t.jsx)(e.h3,{id:"babelgenerator",children:"@babel/generator"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"@babel/generator"})," \u53ef\u4ee5\u5c06 AST \u8fd8\u539f\u6210 JavaScript \u4ee3\u7801\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a ",(0,t.jsx)(e.code,{children:"generate"})," \u65b9\u6cd5\uff1a",(0,t.jsx)(e.code,{children:"generate(ast, [{options}], code)"}),"\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u90e8\u5206\u53ef\u9009\u53c2\u6570 ",(0,t.jsx)(e.code,{children:"options"}),"\uff1a"]}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u53c2\u6570"}),(0,t.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"auxiliaryCommentBefore"})}),(0,t.jsx)(e.td,{children:"\u5728\u8f93\u51fa\u6587\u4ef6\u5185\u5bb9\u7684\u5934\u90e8\u6dfb\u52a0\u6ce8\u91ca\u5757\u6587\u5b57"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"auxiliaryCommentAfter"})}),(0,t.jsx)(e.td,{children:"\u5728\u8f93\u51fa\u6587\u4ef6\u5185\u5bb9\u7684\u672b\u5c3e\u6dfb\u52a0\u6ce8\u91ca\u5757\u6587\u5b57"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"comments"})}),(0,t.jsx)(e.td,{children:"\u8f93\u51fa\u5185\u5bb9\u662f\u5426\u5305\u542b\u6ce8\u91ca"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"compact"})}),(0,t.jsx)(e.td,{children:"\u8f93\u51fa\u5185\u5bb9\u662f\u5426\u4e0d\u6dfb\u52a0\u7a7a\u683c\uff0c\u907f\u514d\u683c\u5f0f\u5316"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"concise"})}),(0,t.jsx)(e.td,{children:"\u8f93\u51fa\u5185\u5bb9\u662f\u5426\u51cf\u5c11\u7a7a\u683c\u4f7f\u5176\u66f4\u7d27\u51d1\u4e00\u4e9b"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"minified"})}),(0,t.jsx)(e.td,{children:"\u662f\u5426\u538b\u7f29\u8f93\u51fa\u4ee3\u7801"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"retainLines"})}),(0,t.jsx)(e.td,{children:"\u5c1d\u8bd5\u5728\u8f93\u51fa\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e0e\u6e90\u4ee3\u7801\u4e2d\u76f8\u540c\u7684\u884c\u53f7"})]})]})]}),"\n",(0,t.jsxs)(e.p,{children:["\u63a5\u7740\u524d\u9762\u7684\u4f8b\u5b50\uff0c\u539f\u4ee3\u7801\u662f ",(0,t.jsx)(e.code,{children:"const a = 1;"}),"\uff0c\u73b0\u5728\u6211\u4eec\u628a ",(0,t.jsx)(e.code,{children:"a"})," \u53d8\u91cf\u4fee\u6539\u4e3a ",(0,t.jsx)(e.code,{children:"b"}),"\uff0c\u503c ",(0,t.jsx)(e.code,{children:"1"})," \u4fee\u6539\u4e3a ",(0,t.jsx)(e.code,{children:"2"}),"\uff0c\u7136\u540e\u5c06 AST \u8fd8\u539f\u751f\u6210\u65b0\u7684 JS \u4ee3\u7801\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const parser = require("@babel/parser");\n\nconst generate = require("@babel/generator").default\n\n\n\nconst code = "const a = 1;";\n\nconst ast = parser.parse(code, {sourceType: "module"})\n\nast.program.body[0].declarations[0].id.name = "b"\n\nast.program.body[0].declarations[0].init.value = 2\n\nconst result = generate(ast, {minified: true})\n\n\n\nconsole.log(result.code)\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u6700\u7ec8\u8f93\u51fa\u7684\u662f ",(0,t.jsx)(e.code,{children:"const b=2;"}),"\uff0c\u53d8\u91cf\u540d\u548c\u503c\u90fd\u6210\u529f\u66f4\u6539\u4e86\uff0c\u7531\u4e8e\u52a0\u4e86\u538b\u7f29\u5904\u7406\uff0c\u7b49\u53f7\u5de6\u53f3\u4e24\u8fb9\u7684\u7a7a\u683c\u4e5f\u6ca1\u4e86\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u4ee3\u7801\u91cc ",(0,t.jsx)(e.code,{children:"{minified: true}"})," \u6f14\u793a\u4e86\u5982\u4f55\u6dfb\u52a0\u53ef\u9009\u53c2\u6570\uff0c\u8fd9\u91cc\u8868\u793a\u538b\u7f29\u8f93\u51fa\u4ee3\u7801\uff0c",(0,t.jsx)(e.code,{children:"generate"})," \u5f97\u5230\u7684 ",(0,t.jsx)(e.code,{children:"result"})," \u5f97\u5230\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u7684 ",(0,t.jsx)(e.code,{children:"code"})," \u5c5e\u6027\u624d\u662f\u6700\u7ec8\u7684 JS \u4ee3\u7801\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u4ee3\u7801\u91cc ",(0,t.jsx)(e.code,{children:"ast.program.body[0].declarations[0].id.name"})," \u662f a \u5728 AST \u4e2d\u7684\u4f4d\u7f6e\uff0c",(0,t.jsx)(e.code,{children:"ast.program.body[0].declarations[0].init.value"})," \u662f 1 \u5728 AST \u4e2d\u7684\u4f4d\u7f6e\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647056.png-.png",alt:"08"})}),"\n",(0,t.jsx)(e.h3,{id:"babeltraverse",children:"@babel/traverse"}),"\n",(0,t.jsxs)(e.p,{children:["\u5f53\u4ee3\u7801\u591a\u4e86\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u50cf\u524d\u9762\u90a3\u6837\u6328\u4e2a\u5b9a\u4f4d\u5e76\u4fee\u6539\uff0c\u5bf9\u4e8e\u76f8\u540c\u7c7b\u578b\u7684\u8282\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u904d\u5386\u6240\u6709\u8282\u70b9\u6765\u8fdb\u884c\u4fee\u6539\uff0c\u8fd9\u91cc\u5c31\u7528\u5230\u4e86 ",(0,t.jsx)(e.code,{children:"@babel/traverse"}),"\uff0c\u5b83\u901a\u5e38\u548c ",(0,t.jsx)(e.code,{children:"visitor"})," \u4e00\u8d77\u4f7f\u7528\uff0c",(0,t.jsx)(e.code,{children:"visitor"})," \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u540d\u5b57\u662f\u53ef\u4ee5\u968f\u610f\u53d6\u7684\uff0c",(0,t.jsx)(e.code,{children:"visitor"})," \u91cc\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e9b\u65b9\u6cd5\u6765\u8fc7\u6ee4\u8282\u70b9\uff0c\u8fd9\u91cc\u8fd8\u662f\u7528\u4e00\u4e2a\u4f8b\u5b50\u6765\u6f14\u793a\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const parser = require("@babel/parser");\n\nconst generate = require("@babel/generator").default\n\nconst traverse = require("@babel/traverse").default\n\n\n\nconst code = `\n\nconst a = 1500;\n\nconst b = 60;\n\nconst c = "hi";\n\nconst d = 787;\n\nconst e = "1244";\n\n`\n\nconst ast = parser.parse(code)\n\n\n\nconst visitor = {\n\n    NumericLiteral(path){\n\n        path.node.value = (path.node.value + 100) * 2\n\n    },\n\n    StringLiteral(path){\n\n        path.node.value = "I Love JavaScript!"\n\n    }\n\n}\n\n\n\ntraverse(ast, visitor)\n\nconst result = generate(ast)\n\nconsole.log(result.code)\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u91cc\u7684\u539f\u59cb\u4ee3\u7801\u5b9a\u4e49\u4e86 abcde \u4e94\u4e2a\u53d8\u91cf\uff0c\u5176\u503c\u6709\u6570\u5b57\u4e5f\u6709\u5b57\u7b26\u4e32\uff0c\u6211\u4eec\u5728 AST \u4e2d\u53ef\u4ee5\u770b\u5230\u5bf9\u5e94\u7684\u7c7b\u578b\u4e3a ",(0,t.jsx)(e.code,{children:"NumericLiteral"})," \u548c ",(0,t.jsx)(e.code,{children:"StringLiteral"}),"\uff1a"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647058.png-.png",alt:"09"})}),"\n",(0,t.jsxs)(e.p,{children:["\u7136\u540e\u6211\u4eec\u58f0\u660e\u4e86\u4e00\u4e2a ",(0,t.jsx)(e.code,{children:"visitor"})," \u5bf9\u8c61\uff0c\u7136\u540e\u5b9a\u4e49\u5bf9\u5e94\u7c7b\u578b\u7684\u5904\u7406\u65b9\u6cd5\uff0c",(0,t.jsx)(e.code,{children:"traverse"})," \u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f AST \u5bf9\u8c61\uff0c\u7b2c\u4e8c\u4e2a\u662f ",(0,t.jsx)(e.code,{children:"visitor"}),"\uff0c\u5f53 ",(0,t.jsx)(e.code,{children:"traverse"})," \u904d\u5386\u6240\u6709\u8282\u70b9\uff0c\u9047\u5230\u8282\u70b9\u7c7b\u578b\u4e3a ",(0,t.jsx)(e.code,{children:"NumericLiteral"})," \u548c ",(0,t.jsx)(e.code,{children:"StringLiteral"})," \u65f6\uff0c\u5c31\u4f1a\u8c03\u7528 ",(0,t.jsx)(e.code,{children:"visitor"})," \u4e2d\u5bf9\u5e94\u7684\u5904\u7406\u65b9\u6cd5\uff0c",(0,t.jsx)(e.code,{children:"visitor"})," \u4e2d\u7684\u65b9\u6cd5\u4f1a\u63a5\u6536\u4e00\u4e2a\u5f53\u524d\u8282\u70b9\u7684 ",(0,t.jsx)(e.code,{children:"path"})," \u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7684\u7c7b\u578b\u662f ",(0,t.jsx)(e.code,{children:"NodePath"}),"\uff0c\u8be5\u5bf9\u8c61\u6709\u975e\u5e38\u591a\u7684\u5c5e\u6027\uff0c\u4ee5\u4e0b\u4ecb\u7ecd\u51e0\u79cd\u6700\u5e38\u7528\u7684\uff1a"]}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u5c5e\u6027"}),(0,t.jsx)(e.th,{children:"\u63cf\u8ff0"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"toString()"})}),(0,t.jsx)(e.td,{children:"\u5f53\u524d\u8def\u5f84\u7684\u6e90\u7801"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"node"})}),(0,t.jsx)(e.td,{children:"\u5f53\u524d\u8def\u5f84\u7684\u8282\u70b9"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"parent"})}),(0,t.jsx)(e.td,{children:"\u5f53\u524d\u8def\u5f84\u7684\u7236\u7ea7\u8282\u70b9"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"parentPath"})}),(0,t.jsx)(e.td,{children:"\u5f53\u524d\u8def\u5f84\u7684\u7236\u7ea7\u8def\u5f84"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"type"})}),(0,t.jsx)(e.td,{children:"\u5f53\u524d\u8def\u5f84\u7684\u7c7b\u578b"})]})]})]}),"\n",(0,t.jsxs)(e.p,{children:["PS\uff1a",(0,t.jsx)(e.code,{children:"path"})," \u5bf9\u8c61\u9664\u4e86\u6709\u5f88\u591a\u5c5e\u6027\u4ee5\u5916\uff0c\u8fd8\u6709\u5f88\u591a\u65b9\u6cd5\uff0c\u6bd4\u5982\u66ff\u6362\u8282\u70b9\u3001\u5220\u9664\u8282\u70b9\u3001\u63d2\u5165\u8282\u70b9\u3001\u5bfb\u627e\u7236\u7ea7\u8282\u70b9\u3001\u83b7\u53d6\u540c\u7ea7\u8282\u70b9\u3001\u6dfb\u52a0\u6ce8\u91ca\u3001\u5224\u65ad\u8282\u70b9\u7c7b\u578b\u7b49\uff0c\u53ef\u5728\u9700\u8981\u65f6\u67e5\u8be2\u76f8\u5173\u6587\u6863\u6216\u67e5\u770b\u6e90\u7801\uff0c\u540e\u7eed\u4ecb\u7ecd ",(0,t.jsx)(e.code,{children:"@babel/types"})," \u90e8\u5206\u5c06\u4f1a\u4e3e\u90e8\u5206\u4f8b\u5b50\u6765\u6f14\u793a\uff0c\u4ee5\u540e\u7684\u5b9e\u6218\u6587\u7ae0\u4e2d\u4e5f\u4f1a\u6709\u76f8\u5173\u5b9e\u4f8b\uff0c\u7bc7\u5e45\u6709\u9650\u672c\u6587\u4e0d\u518d\u7ec6\u8bf4\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u56e0\u6b64\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c",(0,t.jsx)(e.code,{children:"path.node.value"})," \u5c31\u62ff\u5230\u4e86\u53d8\u91cf\u7684\u503c\uff0c\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u4e86\u3002\u4ee5\u4e0a\u4ee3\u7801\u8fd0\u884c\u540e\uff0c\u6240\u6709\u6570\u5b57\u90fd\u4f1a\u52a0\u4e0a100\u540e\u518d\u4e58\u4ee52\uff0c\u6240\u6709\u5b57\u7b26\u4e32\u90fd\u4f1a\u88ab\u66ff\u6362\u6210 ",(0,t.jsx)(e.code,{children:"I Love JavaScript!"}),"\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const a = 3200;\n\nconst b = 320;\n\nconst c = "I Love JavaScript!";\n\nconst d = 1774;\n\nconst e = "I Love JavaScript!";\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u5982\u679c\u591a\u4e2a\u7c7b\u578b\u7684\u8282\u70b9\uff0c\u5904\u7406\u7684\u65b9\u5f0f\u90fd\u4e00\u6837\uff0c\u90a3\u4e48\u8fd8\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"|"})," \u5c06\u6240\u6709\u8282\u70b9\u8fde\u63a5\u6210\u5b57\u7b26\u4e32\uff0c\u5c06\u540c\u4e00\u4e2a\u65b9\u6cd5\u5e94\u7528\u5230\u6240\u6709\u8282\u70b9\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const visitor = {\n\n    "NumericLiteral|StringLiteral"(path) {\n\n        path.node.value = "I Love JavaScript!"\n\n    }\n\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"visitor"})," \u5bf9\u8c61\u6709\u591a\u79cd\u5199\u6cd5\uff0c\u4ee5\u4e0b\u51e0\u79cd\u5199\u6cd5\u7684\u6548\u679c\u90fd\u662f\u4e00\u6837\u7684\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const visitor = {\n\n    NumericLiteral(path){\n\n        path.node.value = (path.node.value + 100) * 2\n\n    },\n\n    StringLiteral(path){\n\n        path.node.value = "I Love JavaScript!"\n\n    }\n\n}\nconst visitor = {\n\n    NumericLiteral: function (path){\n\n        path.node.value = (path.node.value + 100) * 2\n\n    },\n\n    StringLiteral: function (path){\n\n        path.node.value = "I Love JavaScript!"\n\n    }\n\n}\nconst visitor = {\n\n    NumericLiteral: {\n\n        enter(path) {\n\n            path.node.value = (path.node.value + 100) * 2\n\n        }\n\n    },\n\n    StringLiteral: {\n\n        enter(path) {\n\n            path.node.value = "I Love JavaScript!"\n\n        }\n\n    }\n\n}\nconst visitor = {\n\n    enter(path) {\n\n        if (path.node.type === "NumericLiteral") {\n\n            path.node.value = (path.node.value + 100) * 2\n\n        }\n\n        if (path.node.type === "StringLiteral") {\n\n            path.node.value = "I Love JavaScript!"\n\n        }\n\n    }\n\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u4ee5\u4e0a\u51e0\u79cd\u5199\u6cd5\u4e2d\u6709\u7528\u5230\u4e86 ",(0,t.jsx)(e.code,{children:"enter"})," \u65b9\u6cd5\uff0c\u5728\u8282\u70b9\u7684\u904d\u5386\u8fc7\u7a0b\u4e2d\uff0c\u8fdb\u5165\u8282\u70b9\uff08enter\uff09\u4e0e\u9000\u51fa\uff08exit\uff09\u8282\u70b9\u90fd\u4f1a\u8bbf\u95ee\u4e00\u6b21\u8282\u70b9\uff0c",(0,t.jsx)(e.code,{children:"traverse"})," \u9ed8\u8ba4\u5728\u8fdb\u5165\u8282\u70b9\u65f6\u8fdb\u884c\u8282\u70b9\u7684\u5904\u7406\uff0c\u5982\u679c\u8981\u5728\u9000\u51fa\u8282\u70b9\u65f6\u5904\u7406\uff0c\u90a3\u4e48\u5728 ",(0,t.jsx)(e.code,{children:"visitor"})," \u4e2d\u5c31\u5fc5\u987b\u58f0\u660e ",(0,t.jsx)(e.code,{children:"exit"})," \u65b9\u6cd5\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"babeltypes",children:"@babel/types"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"@babel/types"})," \u4e3b\u8981\u7528\u4e8e\u6784\u5efa\u65b0\u7684 AST \u8282\u70b9\uff0c\u524d\u9762\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a ",(0,t.jsx)(e.code,{children:"const a = 1;"}),"\uff0c\u5982\u679c\u60f3\u8981\u589e\u52a0\u5185\u5bb9\uff0c\u6bd4\u5982\u53d8\u6210 ",(0,t.jsx)(e.code,{children:"const a = 1; const b = a * 5 + 1;"}),"\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7 ",(0,t.jsx)(e.code,{children:"@babel/types"})," \u6765\u5b9e\u73b0\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u9996\u5148\u89c2\u5bdf\u4e00\u4e0b AST \u8bed\u6cd5\u6811\uff0c\u539f\u8bed\u53e5\u53ea\u6709\u4e00\u4e2a ",(0,t.jsx)(e.code,{children:"VariableDeclaration"})," \u8282\u70b9\uff0c\u73b0\u5728\u589e\u52a0\u4e86\u4e00\u4e2a\uff1a"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647059.png-.png",alt:"10"})}),"\n",(0,t.jsxs)(e.p,{children:["\u90a3\u4e48\u6211\u4eec\u7684\u601d\u8def\u5c31\u662f\u5728\u904d\u5386\u8282\u70b9\u65f6\uff0c\u904d\u5386\u5230 ",(0,t.jsx)(e.code,{children:"VariableDeclaration"})," \u8282\u70b9\uff0c\u5c31\u5728\u5176\u540e\u9762\u589e\u52a0\u4e00\u4e2a ",(0,t.jsx)(e.code,{children:"VariableDeclaration"})," \u8282\u70b9\uff0c\u751f\u6210 ",(0,t.jsx)(e.code,{children:"VariableDeclaration"})," \u8282\u70b9\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"types.variableDeclaration()"})," \u65b9\u6cd5\uff0c\u5728 types \u4e2d\u5404\u79cd\u65b9\u6cd5\u540d\u79f0\u548c\u6211\u4eec\u5728 AST \u4e2d\u770b\u5230\u7684\u662f\u4e00\u6837\u7684\uff0c\u53ea\u4e0d\u8fc7\u9996\u5b57\u6bcd\u662f\u5c0f\u5199\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u9700\u8981\u77e5\u9053\u6240\u6709\u65b9\u6cd5\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u80fd\u5927\u81f4\u63a8\u65ad\u5176\u65b9\u6cd5\u540d\uff0c\u53ea\u77e5\u9053\u8fd9\u4e2a\u65b9\u6cd5\u8fd8\u4e0d\u884c\uff0c\u8fd8\u5f97\u77e5\u9053\u4f20\u5165\u7684\u53c2\u6570\u662f\u4ec0\u4e48\uff0c\u53ef\u4ee5\u67e5\u6587\u6863\uff0c\u4e0d\u8fc7K\u54e5\u8fd9\u91cc\u63a8\u8350\u76f4\u63a5\u770b\u6e90\u7801\uff0c\u975e\u5e38\u6e05\u6670\u660e\u4e86\uff0c\u4ee5 Pycharm \u4e3a\u4f8b\uff0c\u6309\u4f4f Ctrl \u952e\uff0c\u518d\u70b9\u51fb\u65b9\u6cd5\u540d\uff0c\u5c31\u8fdb\u5230\u6e90\u7801\u91cc\u4e86\uff1a"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://img2022.cnblogs.com/other/2501174/202204/2501174-20220427101421832-1311123747.png",children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647060.png-.png",alt:"11"})})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'function variableDeclaration(kind: "var" | "let" | "const", declarations: Array<BabelNodeVariableDeclarator>)\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230\u9700\u8981 ",(0,t.jsx)(e.code,{children:"kind"})," \u548c ",(0,t.jsx)(e.code,{children:"declarations"})," \u4e24\u4e2a\u53c2\u6570\uff0c\u5176\u4e2d ",(0,t.jsx)(e.code,{children:"declarations"})," \u662f ",(0,t.jsx)(e.code,{children:"VariableDeclarator"})," \u7c7b\u578b\u7684\u8282\u70b9\u7ec4\u6210\u7684\u5217\u8868\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5148\u5199\u51fa\u4ee5\u4e0b ",(0,t.jsx)(e.code,{children:"visitor"})," \u90e8\u5206\u7684\u4ee3\u7801\uff0c\u5176\u4e2d ",(0,t.jsx)(e.code,{children:"path.insertAfter()"})," \u662f\u5728\u8be5\u8282\u70b9\u4e4b\u540e\u63d2\u5165\u65b0\u8282\u70b9\u7684\u610f\u601d\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const visitor = {\n\n    VariableDeclaration(path) {\n\n        let declaration = types.variableDeclaration("const", [declarator])\n\n        path.insertAfter(declaration)\n\n    }\n\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u63a5\u4e0b\u6765\u6211\u4eec\u8fd8\u9700\u8981\u8fdb\u4e00\u6b65\u5b9a\u4e49 ",(0,t.jsx)(e.code,{children:"declarator"}),"\uff0c\u4e5f\u5c31\u662f ",(0,t.jsx)(e.code,{children:"VariableDeclarator"})," \u7c7b\u578b\u7684\u8282\u70b9\uff0c\u67e5\u8be2\u5176\u6e90\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"function variableDeclarator(id: BabelNodeLVal, init?: BabelNodeExpression)\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u89c2\u5bdf AST\uff0cid \u4e3a ",(0,t.jsx)(e.code,{children:"Identifier"})," \u5bf9\u8c61\uff0cinit \u4e3a ",(0,t.jsx)(e.code,{children:"BinaryExpression"})," \u5bf9\u8c61\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647061.png-.png",alt:"12"})}),"\n",(0,t.jsxs)(e.p,{children:["\u5148\u6765\u5904\u7406 id\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"types.identifier()"})," \u65b9\u6cd5\u6765\u751f\u6210\uff0c\u5176\u6e90\u7801\u4e3a ",(0,t.jsx)(e.code,{children:"function identifier(name: string)"}),"\uff0cname \u5728\u8fd9\u91cc\u5c31\u662f b \u4e86\uff0c\u6b64\u65f6 ",(0,t.jsx)(e.code,{children:"visitor"})," \u4ee3\u7801\u5c31\u53ef\u4ee5\u8fd9\u4e48\u5199\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const visitor = {\n\n    VariableDeclaration(path) {\n\n        let declarator = types.variableDeclarator(types.identifier("b"), init)\n\n        let declaration = types.variableDeclaration("const", [declarator])\n\n        path.insertAfter(declaration)\n\n    }\n\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u518d\u6765\u770b init \u8be5\u5982\u4f55\u5b9a\u4e49\uff0c\u9996\u5148\u4ecd\u7136\u662f\u770b AST \u7ed3\u6784\uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647062.png-.png",alt:"13"})}),"\n",(0,t.jsxs)(e.p,{children:["init \u4e3a ",(0,t.jsx)(e.code,{children:"BinaryExpression"})," \u5bf9\u8c61\uff0cleft \u5de6\u8fb9\u662f ",(0,t.jsx)(e.code,{children:"BinaryExpression"}),"\uff0cright \u53f3\u8fb9\u662f ",(0,t.jsx)(e.code,{children:"NumericLiteral"}),"\uff0c\u53ef\u4ee5\u7528 ",(0,t.jsx)(e.code,{children:"types.binaryExpression()"})," \u65b9\u6cd5\u6765\u751f\u6210 init\uff0c\u5176\u6e90\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'function binaryExpression(\n\n    operator: "+" | "-" | "/" | "%" | "*" | "**" | "&" | "|" | ">>" | ">>>" | "<<" | "^" | "==" | "===" | "!=" | "!==" | "in" | "instanceof" | ">" | "<" | ">=" | "<=",\n\n    left: BabelNodeExpression | BabelNodePrivateName, \n\n    right: BabelNodeExpression\n\n)\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u6b64\u65f6 ",(0,t.jsx)(e.code,{children:"visitor"})," \u4ee3\u7801\u5c31\u53ef\u4ee5\u8fd9\u4e48\u5199\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const visitor = {\n\n    VariableDeclaration(path) {\n\n        let init = types.binaryExpression("+", left, right)\n\n        let declarator = types.variableDeclarator(types.identifier("b"), init)\n\n        let declaration = types.variableDeclaration("const", [declarator])\n\n        path.insertAfter(declaration)\n\n    }\n\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u7136\u540e\u7ee7\u7eed\u6784\u9020 left \u548c right\uff0c\u548c\u524d\u9762\u7684\u65b9\u6cd5\u4e00\u6837\uff0c\u89c2\u5bdf AST \u8bed\u6cd5\u6811\uff0c\u67e5\u8be2\u5bf9\u5e94\u65b9\u6cd5\u5e94\u8be5\u4f20\u5165\u7684\u53c2\u6570\uff0c\u5c42\u5c42\u5d4c\u5957\uff0c\u76f4\u5230\u628a\u6240\u6709\u7684\u8282\u70b9\u90fd\u6784\u9020\u5b8c\u6bd5\uff0c\u6700\u7ec8\u7684 ",(0,t.jsx)(e.code,{children:"visitor"})," \u4ee3\u7801\u5e94\u8be5\u662f\u8fd9\u6837\u7684\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const visitor = {\n\n    VariableDeclaration(path) {\n\n        let left = types.binaryExpression("*", types.identifier("a"), types.numericLiteral(5))\n\n        let right = types.numericLiteral(1)\n\n        let init = types.binaryExpression("+", left, right)\n\n        let declarator = types.variableDeclarator(types.identifier("b"), init)\n\n        let declaration = types.variableDeclaration("const", [declarator])\n\n        path.insertAfter(declaration)\n\n        path.stop()\n\n    }\n\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u6ce8\u610f\uff1a",(0,t.jsx)(e.code,{children:"path.insertAfter()"})," \u63d2\u5165\u8282\u70b9\u8bed\u53e5\u540e\u9762\u52a0\u4e86\u4e00\u53e5 ",(0,t.jsx)(e.code,{children:"path.stop()"}),"\uff0c\u8868\u793a\u63d2\u5165\u5b8c\u6210\u540e\u7acb\u5373\u505c\u6b62\u904d\u5386\u5f53\u524d\u8282\u70b9\u548c\u540e\u7eed\u7684\u5b50\u8282\u70b9\uff0c\u6dfb\u52a0\u7684\u65b0\u8282\u70b9\u4e5f\u662f ",(0,t.jsx)(e.code,{children:"VariableDeclaration"}),"\uff0c\u5982\u679c\u4e0d\u52a0\u505c\u6b62\u8bed\u53e5\u7684\u8bdd\uff0c\u5c31\u4f1a\u65e0\u9650\u5faa\u73af\u63d2\u5165\u4e0b\u53bb\u3002"]}),"\n",(0,t.jsx)(e.p,{children:"\u63d2\u5165\u65b0\u8282\u70b9\u540e\uff0c\u518d\u8f6c\u6362\u6210 JavaScript \u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u591a\u4e86\u4e00\u884c\u65b0\u4ee3\u7801\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647063.png-.png",alt:"14"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5e38\u89c1\u6df7\u6dc6\u8fd8\u539f",children:"\u5e38\u89c1\u6df7\u6dc6\u8fd8\u539f"}),"\n",(0,t.jsx)(e.p,{children:"\u4e86\u89e3\u4e86 AST \u548c babel \u540e\uff0c\u5c31\u53ef\u4ee5\u5bf9 JavaScript \u6df7\u6dc6\u4ee3\u7801\u8fdb\u884c\u8fd8\u539f\u4e86\uff0c\u4ee5\u4e0b\u662f\u90e8\u5206\u6837\u4f8b\uff0c\u5e26\u4f60\u8fdb\u4e00\u6b65\u719f\u6089 babel \u7684\u5404\u79cd\u64cd\u4f5c\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"\u5b57\u7b26\u4e32\u8fd8\u539f",children:"\u5b57\u7b26\u4e32\u8fd8\u539f"}),"\n",(0,t.jsx)(e.p,{children:"\u6587\u7ae0\u5f00\u5934\u7684\u56fe\u4e2d\u4e3e\u4e86\u4e2a\u4f8b\u5b50\uff0c\u6b63\u5e38\u5b57\u7b26\u88ab\u6362\u6210\u4e86 Unicode \u7f16\u7801\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"console['\\u006c\\u006f\\u0067']('\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0077\\u006f\\u0072\\u006c\\u0064\\u0021')\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u89c2\u5bdf AST \u7ed3\u6784\uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://img2022.cnblogs.com/other/2501174/202204/2501174-20220427101426636-489998048.png",children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647064.png-.png",alt:"15"})})}),"\n",(0,t.jsxs)(e.p,{children:["\u6211\u4eec\u53d1\u73b0 Unicode \u7f16\u7801\u5bf9\u5e94\u7684\u662f ",(0,t.jsx)(e.code,{children:"raw"}),"\uff0c\u800c ",(0,t.jsx)(e.code,{children:"rawValue"})," \u548c ",(0,t.jsx)(e.code,{children:"value"})," \u90fd\u662f\u6b63\u5e38\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06 ",(0,t.jsx)(e.code,{children:"raw"})," \u66ff\u6362\u6210 ",(0,t.jsx)(e.code,{children:"rawValue"})," \u6216 ",(0,t.jsx)(e.code,{children:"value"})," \u5373\u53ef\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u5f15\u53f7\u7684\u95ee\u9898\uff0c\u672c\u6765\u662f ",(0,t.jsx)(e.code,{children:'console["log"]'}),"\uff0c\u4f60\u8fd8\u539f\u540e\u53d8\u6210\u4e86 ",(0,t.jsx)(e.code,{children:"console[log]"}),"\uff0c\u81ea\u7136\u4f1a\u62a5\u9519\u7684\uff0c\u9664\u4e86\u66ff\u6362\u503c\u4ee5\u5916\uff0c\u8fd9\u91cc\u76f4\u63a5\u5220\u9664 extra \u8282\u70b9\uff0c\u6216\u8005\u5220\u9664 raw \u503c\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u6240\u4ee5\u4ee5\u4e0b\u51e0\u79cd\u5199\u6cd5\u90fd\u53ef\u4ee5\u8fd8\u539f\u4ee3\u7801\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"const parser = require(\"@babel/parser\");\n\nconst generate = require(\"@babel/generator\").default\n\nconst traverse = require(\"@babel/traverse\").default\n\n\n\nconst code = `console['\\u006c\\u006f\\u0067']('\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0077\\u006f\\u0072\\u006c\\u0064\\u0021')`\n\nconst ast = parser.parse(code)\n\n\n\nconst visitor = {\n\n    StringLiteral(path) {\n\n        // \u4ee5\u4e0b\u65b9\u6cd5\u5747\u53ef\n\n        // path.node.extra.raw = path.node.rawValue\n\n        // path.node.extra.raw = '\"' + path.node.value + '\"'\n\n        // delete path.node.extra\n\n        delete path.node.extra.raw\n\n    }\n\n}\n\n\n\ntraverse(ast, visitor)\n\nconst result = generate(ast)\n\nconsole.log(result.code)\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd8\u539f\u7ed3\u679c\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'console["log"]("Hello world!");\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f\u8fd8\u539f",children:"\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f\u8fd8\u539f"}),"\n",(0,t.jsx)(e.p,{children:"\u4ee5\u524d\u9762\u7684\u4f8b\u5b50"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'console["log"]("Hello world!");\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u5728JS\u4e2d\uff0c\u5c5e\u6027\u7684\u8bbf\u95ee\u65b9\u5f0f\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u4ee5",(0,t.jsx)(e.code,{children:"[]"}),"\u7684\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f",(0,t.jsx)(e.code,{children:"."}),"\u7684\u65b9\u5f0f\uff0c\u5728\u4f7f\u7528\u4e2a\u4eba\u5f00\u53d1\u4e2d\uff0c\u666e\u904d\u4f7f\u7528",(0,t.jsx)(e.code,{children:"."}),"\u7684\u65b9\u5f0f\u8fdb\u884c\u8bbf\u95ee\uff0c"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647065.png-.png",alt:"image-20250117094913357"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647066.png-.png",alt:"image-20250117095910230"})}),"\n",(0,t.jsxs)(e.p,{children:["\u4e0e",(0,t.jsx)(e.code,{children:"."}),"\u65b9\u5f0f\u4e0d\u540c\uff0c\u53ef\u4ee5\u770b\u5230\u591a\u51fa\u4e86",(0,t.jsx)(e.code,{children:"computed=true"}),"\u548c",(0,t.jsx)(e.code,{children:"property"}),"\u7684\u7c7b\u578b\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4fee\u6539",(0,t.jsx)(e.code,{children:"computed=flase"}),"\u548c\u8fd8\u539f",(0,t.jsx)(e.code,{children:"property"}),"\u7684 \u7c7b\u578b\u5373\u53ef\u5373\u53ef\u8fd8\u539f\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const parser = require("@babel/parser");\n\nconst types = require("@babel/types");\n\nconst generate = require("@babel/generator").default\n\nconst traverse = require("@babel/traverse").default\n\n\n\nconst code = `\nconsole[\'log\'](\'hello, world!\');\n`\n\nconst ast = parser.parse(code)\n\n\n\nconst visitor = {\n\n    MemberExpression(path){\n        if(path.node.computed){\n            path.node.computed = false\n            path.node.property = types.identifier("log");\n            debugger\n\n        }\n    }\n\n}\n\n\n\ntraverse(ast, visitor)\n\nconst result = generate(ast)\n\nconsole.log(result.code)\n\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u8868\u8fbe\u5f0f\u8fd8\u539f",children:"\u8868\u8fbe\u5f0f\u8fd8\u539f"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"![]"})," \u53ef\u8868\u793a false\uff0c",(0,t.jsx)(e.code,{children:"!![]"})," \u6216\u8005 ",(0,t.jsx)(e.code,{children:"!+[]"})," \u53ef\u8868\u793a true\uff0c\u5728\u4e00\u4e9b\u6df7\u6dc6\u4ee3\u7801\u4e2d\uff0c\u7ecf\u5e38\u6709\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u628a\u7b80\u5355\u7684\u8868\u8fbe\u5f0f\u590d\u6742\u5316\uff0c\u5f80\u5f80\u9700\u8981\u6267\u884c\u4e00\u4e0b\u8bed\u53e5\uff0c\u624d\u80fd\u5f97\u5230\u771f\u6b63\u7684\u7ed3\u679c\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const a = !![]+!![]+!![];\n\nconst b = Math.floor(12.34 * 2.12)\n\nconst c = 10 >> 3 << 1\n\nconst d = String(21.3 + 14 * 1.32)\n\nconst e = parseInt("1.893" + "45.9088")\n\nconst f = parseFloat("23.2334" + "21.89112")\n\nconst g = 20 < 18 ? \'\u672a\u6210\u5e74\' : \'\u6210\u5e74\'\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u60f3\u8981\u6267\u884c\u8bed\u53e5\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3 ",(0,t.jsx)(e.code,{children:"path.evaluate()"})," \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u4f1a\u5bf9 path \u5bf9\u8c61\u8fdb\u884c\u6267\u884c\u64cd\u4f5c\uff0c\u81ea\u52a8\u8ba1\u7b97\u51fa\u7ed3\u679c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u7684 ",(0,t.jsx)(e.code,{children:"confident"})," \u5c5e\u6027\u8868\u793a\u7f6e\u4fe1\u5ea6\uff0c",(0,t.jsx)(e.code,{children:"value"})," \u8868\u793a\u8ba1\u7b97\u7ed3\u679c\uff0c\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"types.valueToNode()"})," \u65b9\u6cd5\u521b\u5efa\u8282\u70b9\uff0c\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"path.replaceInline()"})," \u65b9\u6cd5\u5c06\u8282\u70b9\u66ff\u6362\u6210\u8ba1\u7b97\u7ed3\u679c\u751f\u6210\u7684\u65b0\u8282\u70b9\uff0c\u66ff\u6362\u65b9\u6cd5\u6709\u4e00\u4e0b\u51e0\u79cd\uff1a"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"replaceWith"}),"\uff1a\u7528\u4e00\u4e2a\u8282\u70b9\u66ff\u6362\u53e6\u4e00\u4e2a\u8282\u70b9\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"replaceWithMultiple"}),"\uff1a\u7528\u591a\u4e2a\u8282\u70b9\u66ff\u6362\u53e6\u4e00\u4e2a\u8282\u70b9\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"replaceWithSourceString"}),"\uff1a\u5c06\u4f20\u5165\u7684\u6e90\u7801\u5b57\u7b26\u4e32\u89e3\u6790\u6210\u5bf9\u5e94 Node \u540e\u518d\u66ff\u6362\uff0c\u6027\u80fd\u8f83\u5dee\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"replaceInline"}),"\uff1a\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u8282\u70b9\u66ff\u6362\u53e6\u4e00\u4e2a\u8282\u70b9\uff0c\u76f8\u5f53\u4e8e\u540c\u65f6\u6709\u4e86\u524d\u4e24\u4e2a\u51fd\u6570\u7684\u529f\u80fd\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5bf9\u5e94\u7684 AST \u5904\u7406\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const fs = require(\'fs\');\nconst parser = require("@babel/parser");\nconst traverse = require("@babel/traverse").default\nconst generate = require("@babel/generator").default\nconst types = require("@babel/types");\n\n\n\n\n\nconst code = `\nconst a = !![]+!![]+!![];\nconst b = Math.floor(12.34 * 2.12)\nconst c = 10 >> 3 << 1\nconst d = String(21.3 + 14 * 1.32)\nconst e = parseInt("1.893" + "45.9088")\nconst f = parseFloat("23.2334" + "21.89112")\nconst g = 20 < 18 ? \'\u672a\u6210\u5e74\' : \'\u6210\u5e74\'\n`;\n\n\n\nconst visitor = {\n    "BinaryExpression|CallExpression|ConditionalExpression"(path){\n        const {confident, value} = path.evaluate();\n        if (confident){\n            let node = types.valueToNode(value);\n            if (node.type === \'StringLiteral\'){\n                node.extra = {\n                    raw: `"${value}"`,\n                    rawValue: `${value}`,\n                }\n            }\n            // console.log(node);\n            path.replaceInline(node)\n        }\n    },\n}\nconst ast = parser.parse(code, {sourceType: "module"})\ntraverse(ast, visitor)\nconst result = generate(ast)\nconsole.log(result.code)\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6700\u7ec8\u7ed3\u679c\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const a = 3;\nconst b = 26;\nconst c = 2;\nconst d = "39.78";\nconst e = 1;\nconst f = 23.233421;\nconst g = "\u6210\u5e74";\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u5220\u9664\u672a\u4f7f\u7528\u53d8\u91cf",children:"\u5220\u9664\u672a\u4f7f\u7528\u53d8\u91cf"}),"\n",(0,t.jsx)(e.p,{children:"\u6709\u65f6\u5019\u4ee3\u7801\u91cc\u4f1a\u6709\u4e00\u4e9b\u5e76\u6ca1\u6709\u4f7f\u7528\u5230\u7684\u591a\u4f59\u53d8\u91cf\uff0c\u5220\u9664\u8fd9\u4e9b\u591a\u4f59\u53d8\u91cf\u6709\u52a9\u4e8e\u66f4\u52a0\u9ad8\u6548\u7684\u5206\u6790\u4ee3\u7801\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"const a = 1;\n\nconst b = a * 2;\n\nconst c = 2;\n\nconst d = b + 1;\n\nconst e = 3;\n\nconsole.log(d)\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u5220\u9664\u591a\u4f59\u53d8\u91cf\uff0c\u9996\u5148\u8981\u4e86\u89e3 ",(0,t.jsx)(e.code,{children:"NodePath"})," \u4e2d\u7684 ",(0,t.jsx)(e.code,{children:"scope"}),"\uff0c",(0,t.jsx)(e.code,{children:"scope"})," \u7684\u4f5c\u7528\u4e3b\u8981\u662f\u67e5\u627e\u6807\u8bc6\u7b26\u7684\u4f5c\u7528\u57df\u3001\u83b7\u53d6\u5e76\u4fee\u6539\u6807\u8bc6\u7b26\u7684\u6240\u6709\u5f15\u7528\u7b49\uff0c\u5220\u9664\u672a\u4f7f\u7528\u53d8\u91cf\u4e3b\u8981\u7528\u5230\u4e86 ",(0,t.jsx)(e.code,{children:"scope.getBinding()"})," \u65b9\u6cd5\uff0c\u4f20\u5165\u7684\u503c\u662f\u5f53\u524d\u8282\u70b9\u80fd\u591f\u5f15\u7528\u5230\u7684\u6807\u8bc6\u7b26\u540d\u79f0\uff0c\u8fd4\u56de\u7684\u5173\u952e\u5c5e\u6027\u6709\u4ee5\u4e0b\u51e0\u4e2a\uff1a"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"identifier"}),"\uff1a\u6807\u8bc6\u7b26\u7684 Node \u5bf9\u8c61\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"path"}),"\uff1a\u6807\u8bc6\u7b26\u7684 NodePath \u5bf9\u8c61\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"constant"}),"\uff1a\u6807\u8bc6\u7b26\u662f\u5426\u4e3a\u5e38\u91cf\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"referenced"}),"\uff1a\u6807\u8bc6\u7b26\u662f\u5426\u88ab\u5f15\u7528\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"references"}),"\uff1a\u6807\u8bc6\u7b26\u88ab\u5f15\u7528\u7684\u6b21\u6570\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"constantViolations"}),"\uff1a\u5982\u679c\u6807\u8bc6\u7b26\u88ab\u4fee\u6539\uff0c\u5219\u4f1a\u5b58\u653e\u6240\u6709\u4fee\u6539\u8be5\u6807\u8bc6\u7b26\u8282\u70b9\u7684 Path \u5bf9\u8c61\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"referencePaths"}),"\uff1a\u5982\u679c\u6807\u8bc6\u7b26\u88ab\u5f15\u7528\uff0c\u5219\u4f1a\u5b58\u653e\u6240\u6709\u5f15\u7528\u8be5\u6807\u8bc6\u7b26\u8282\u70b9\u7684 Path \u5bf9\u8c61\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",(0,t.jsx)(e.code,{children:"constantViolations"}),"\u3001",(0,t.jsx)(e.code,{children:"referenced"}),"\u3001",(0,t.jsx)(e.code,{children:"references"}),"\u3001",(0,t.jsx)(e.code,{children:"referencePaths"})," \u591a\u4e2a\u53c2\u6570\u6765\u5224\u65ad\u53d8\u91cf\u662f\u5426\u53ef\u4ee5\u88ab\u5220\u9664\uff0cAST \u5904\u7406\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const parser = require("@babel/parser");\n\nconst generate = require("@babel/generator").default\n\nconst traverse = require("@babel/traverse").default\n\n\n\nconst code = `\n\nconst a = 1;\n\nconst b = a * 2;\n\nconst c = 2;\n\nconst d = b + 1;\n\nconst e = 3;\n\nconsole.log(d)\n\n`\n\nconst ast = parser.parse(code)\n\n\n\nconst visitor = {\n\n    VariableDeclarator(path){\n\n        const binding = path.scope.getBinding(path.node.id.name);\n\n\n\n        // \u5982\u6807\u8bc6\u7b26\u88ab\u4fee\u6539\u8fc7\uff0c\u5219\u4e0d\u80fd\u8fdb\u884c\u5220\u9664\u52a8\u4f5c\u3002\n\n        if (!binding || binding.constantViolations.length > 0) {\n\n            return;\n\n        }\n\n\n\n        // \u672a\u88ab\u5f15\u7528\n\n        if (!binding.referenced) {\n\n            path.remove();\n\n        }\n\n\n\n        // \u88ab\u5f15\u7528\u6b21\u6570\u4e3a0\n\n        // if (binding.references === 0) {\n\n        //     path.remove();\n\n        // }\n\n\n\n        // \u957f\u5ea6\u4e3a0\uff0c\u53d8\u91cf\u6ca1\u6709\u88ab\u5f15\u7528\u8fc7\n\n        // if (binding.referencePaths.length === 0) {\n\n        //     path.remove();\n\n        // }\n\n    }\n\n}\n\n\n\ntraverse(ast, visitor)\n\nconst result = generate(ast)\n\nconsole.log(result.code)\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u5904\u7406\u540e\u7684\u4ee3\u7801\uff08\u672a\u4f7f\u7528\u7684 b\u3001c\u3001e \u53d8\u91cf\u5df2\u88ab\u5220\u9664\uff09\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"const a = 1;\n\nconst b = a * 2;\n\nconst d = b + 1;\n\nconsole.log(d);\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5220\u9664\u5197\u4f59\u903b\u8f91\u4ee3\u7801",children:"\u5220\u9664\u5197\u4f59\u903b\u8f91\u4ee3\u7801"}),"\n",(0,t.jsx)(e.p,{children:"\u6709\u65f6\u5019\u4e3a\u4e86\u589e\u52a0\u9006\u5411\u96be\u5ea6\uff0c\u4f1a\u6709\u5f88\u591a\u5d4c\u5957\u7684 if-else \u8bed\u53e5\uff0c\u5927\u91cf\u5224\u65ad\u4e3a\u5047\u7684\u5197\u4f59\u903b\u8f91\u4ee3\u7801\uff0c\u540c\u6837\u53ef\u4ee5\u5229\u7528 AST \u5c06\u5176\u5220\u9664\u6389\uff0c\u53ea\u7559\u4e0b\u5224\u65ad\u4e3a\u771f\u7684\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"const example = function () {\n\n    let a;\n\n    if (false) {\n\n        a = 1;\n\n    } else {\n\n        if (1) {\n\n            a = 2;\n\n        }\n\n        else {\n\n            a = 3;\n\n        }\n\n    }\n\n    return a;\n\n};\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u89c2\u5bdf AST\uff0c\u5224\u65ad\u6761\u4ef6\u5bf9\u5e94\u7684\u662f ",(0,t.jsx)(e.code,{children:"test"})," \u8282\u70b9\uff0cif \u5bf9\u5e94\u7684\u662f ",(0,t.jsx)(e.code,{children:"consequent"})," \u8282\u70b9\uff0celse \u5bf9\u5e94\u7684\u662f ",(0,t.jsx)(e.code,{children:"alternate"})," \u8282\u70b9\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647067.png-.png",alt:"16"})}),"\n",(0,t.jsx)(e.p,{children:"AST \u5904\u7406\u601d\u8def\u4ee5\u53ca\u4ee3\u7801\uff1a"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\u7b5b\u9009\u51fa ",(0,t.jsx)(e.code,{children:"BooleanLiteral"})," \u548c ",(0,t.jsx)(e.code,{children:"NumericLiteral"})," \u8282\u70b9\uff0c\u53d6\u5176\u5bf9\u5e94\u7684\u503c\uff0c\u5373 ",(0,t.jsx)(e.code,{children:"path.node.test.value"}),"\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:["\u5224\u65ad ",(0,t.jsx)(e.code,{children:"value"})," \u503c\u4e3a\u771f\uff0c\u5219\u5c06\u8282\u70b9\u66ff\u6362\u6210 ",(0,t.jsx)(e.code,{children:"consequent"})," \u8282\u70b9\u4e0b\u7684\u5185\u5bb9\uff0c\u5373 ",(0,t.jsx)(e.code,{children:"path.node.consequent.body"}),"\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:["\u5224\u65ad ",(0,t.jsx)(e.code,{children:"value"})," \u503c\u4e3a\u5047\uff0c\u5219\u66ff\u6362\u6210 ",(0,t.jsx)(e.code,{children:"alternate"})," \u8282\u70b9\u4e0b\u7684\u5185\u5bb9\uff0c\u5373 ",(0,t.jsx)(e.code,{children:"path.node.alternate.body"}),"\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:["\u6709\u7684 if \u8bed\u53e5\u53ef\u80fd\u6ca1\u6709\u5199 else\uff0c\u4e5f\u5c31\u6ca1\u6709 ",(0,t.jsx)(e.code,{children:"alternate"}),"\uff0c\u6240\u4ee5\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5224\u65ad ",(0,t.jsx)(e.code,{children:"value"})," \u503c\u4e3a\u5047\uff0c\u5219\u76f4\u63a5\u79fb\u9664\u8be5\u8282\u70b9\uff0c\u5373 ",(0,t.jsx)(e.code,{children:"path.remove()"})]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const parser = require("@babel/parser");\n\nconst generate = require("@babel/generator").default\n\nconst traverse = require("@babel/traverse").default\n\nconst types = require(\'@babel/types\');\n\n\n\nconst code = `\n\nconst example = function () {\n\n    let a;\n\n    if (false) {\n\n        a = 1;\n\n    } else {\n\n        if (1) {\n\n            a = 2;\n\n        }\n\n        else {\n\n            a = 3;\n\n        }\n\n    }\n\n    return a;\n\n};\n\n`\n\nconst ast = parser.parse(code)\n\n\n\nconst visitor = {\n\n    enter(path) {\n\n        if (types.isBooleanLiteral(path.node.test) || types.isNumericLiteral(path.node.test)) {\n\n            if (path.node.test.value) {\n\n                path.replaceInline(path.node.consequent.body);\n\n            } else {\n\n                if (path.node.alternate) {\n\n                    path.replaceInline(path.node.alternate.body);\n\n                } else {\n\n                    path.remove()\n\n                }\n\n            }\n\n        }\n\n    }\n\n}\n\n\n\ntraverse(ast, visitor)\n\nconst result = generate(ast)\n\nconsole.log(result.code)\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u5904\u7406\u7ed3\u679c\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"const example = function () {\n\n  let a;\n\n  a = 2;\n\n  return a;\n\n};\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u82b1\u6307\u4ee4\u8f6c\u4e8c\u9879\u5f0f",children:"\u82b1\u6307\u4ee4\u8f6c\u4e8c\u9879\u5f0f"}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u6709\u7684\u4ee3\u7801\u4e2d\uff0c\u539f\u672c\u7684\u4e24\u9879\u5f0f\uff0c\u901a\u8fc7\u51fd\u6570\u8ba1\u7b97\uff0c\u88ab\u5c42\u5c42\u5957\u5a03\u3002\u5c31\u50cf\u4e0b\u9762\u8fd9\u6837"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647068.png-.png",alt:"img"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e00\u4e2a\u7b80\u5355\u7684\u4ee3\u7801"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'function double_b64_decode(sss) {\n    return atob(atob(sss));\n}\n\nvar Arr = ["Ykc5bg=="];\n\nfunction _wYQm(j, k) {\n    return j - k;\n}\n\nfunction _sTFb(j, k) {\n    return j - k;\n}\n\nfunction _rSeS(j, k) {\n    return j + k;\n}\n\nfunction _EXMS(j, k) {\n    return j <= k;\n}\n\nfunction \\u0064\\u0069\\u0067\\u0075\\u0069(\\u006e) {\n    return \\u005f\\u0045\\u0058\\u004d\\u0053(\\u006e, (866095 ^ 871791) - (13812 ^ 20426)) ? (835770 ^ 145588) - (520846 ^ 592515) : \\u005f\\u0072\\u0053\\u0065\\u0053(\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0073\\u0054\\u0046\\u0062(\\u006e, (846611 ^ 391233) - (844466 ^ 389603))), \\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0077\\u0059\\u0051\\u006d(\\u006e, (372786 ^ 381554) - (538795 ^ 547477))));\n}\n\n\\u0063\\u006f\\u006e\\u0073\\u006f\\u006c\\u0065[\\u0064\\u006f\\u0075\\u0062\\u006c\\u0065\\u005f\\u0062\\u0036\\u0034\\u005f\\u0064\\u0065\\u0063\\u006f\\u0064\\u0065(\\u0041\\u0072\\u0072[(812069 ^ 947940) - (417221 ^ 282372)])](\\u0064\\u0069\\u0067\\u0075\\u0069((425420 ^ 179515) - (347329 ^ 101420)));\n\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u9996\u5148\u6211\u4eec\u9700\u8981\u5bf9",(0,t.jsx)(e.code,{children:"\\u0065"}),"\u8f6c\u7801\uff0c\u7136\u800c\u5927\u90e8\u5206\u7f16\u8bd1\u5668\u81ea\u52a8\u5e2e\u4f60\u5904\u7406\u8fd9\u4e2a",(0,t.jsx)(e.code,{children:"unicode"}),"\u6240\u4ee5\uff0c\u4f60\u53ea\u9700\u8981\u62ff\u53bb\u8dd1\u4e00\u904d\uff0c\u4e0d\u9700\u8981\u505a\u4efb\u4f55\u64cd\u4f5c\u3002"]}),"\n",(0,t.jsx)(e.p,{children:"\u5f97\u5230\u4ee5\u4e0b\u4ee3\u7801"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'function double_b64_decode(sss) {\n  return atob(atob(sss));\n}\nvar Arr = ["Ykc5bg=="];\nfunction _wYQm(j, k) {\n  return j - k;\n}\nfunction _sTFb(j, k) {\n  return j - k;\n}\nfunction _rSeS(j, k) {\n  return j + k;\n}\nfunction _EXMS(j, k) {\n  return j <= k;\n}\nfunction digui(n) {\n  return _EXMS(n, (866095 ^ 871791) - (13812 ^ 20426)) ? (835770 ^ 145588) - (520846 ^ 592515) : _rSeS(digui(_sTFb(n, (846611 ^ 391233) - (844466 ^ 389603))), digui(_wYQm(n, (372786 ^ 381554) - (538795 ^ 547477))));\n}\nconsole[double_b64_decode(Arr[(812069 ^ 947940) - (417221 ^ 282372)])](digui((425420 ^ 179515) - (347329 ^ 101420)));\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u63a5\u4e0b\u6765\u6211\u4eec\u5904\u7406\u5e38\u6570\u4e8c\u9879\u8ba1\u7b97\uff0c\u5728\u6811\u72b6\u56fe\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u7c7b\u88ab\u5206\u4e3a",(0,t.jsx)(e.code,{children:"BinaryExpression"}),"\u7c7b\u578b"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647069.png-.png",alt:"image-20250117102349713"})}),"\n",(0,t.jsx)(e.p,{children:"\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u8ba1\u7b97\u5373\u53ef"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const fs = require(\'fs\');\nconst parser = require("@babel/parser");\nconst traverse = require("@babel/traverse").default\nconst generate = require("@babel/generator").default\nconst types = require("@babel/types");\nconst code = `\nfunction double_b64_decode(sss){return atob(atob(sss));}var Arr=["Ykc5bg=="];function _wYQm(j,k){return j-k;}function _sTFb(j,k){return j-k;}function _rSeS(j,k){return j+k;}function _EXMS(j,k){return j<=k;}function \\u0064\\u0069\\u0067\\u0075\\u0069(\\u006e){return \\u005f\\u0045\\u0058\\u004d\\u0053(\\u006e,(866095^871791)-(13812^20426))?(835770^145588)-(520846^592515):\\u005f\\u0072\\u0053\\u0065\\u0053(\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0073\\u0054\\u0046\\u0062(\\u006e,(846611^391233)-(844466^389603))),\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0077\\u0059\\u0051\\u006d(\\u006e,(372786^381554)-(538795^547477))));}\\u0063\\u006f\\u006e\\u0073\\u006f\\u006c\\u0065[\\u0064\\u006f\\u0075\\u0062\\u006c\\u0065\\u005f\\u0062\\u0036\\u0034\\u005f\\u0064\\u0065\\u0063\\u006f\\u0064\\u0065(\\u0041\\u0072\\u0072[(812069^947940)-(417221^282372)])](\\u0064\\u0069\\u0067\\u0075\\u0069((425420^179515)-(347329^101420)));\n`;\nconst ast = parser.parse(code, )\nconst visitor = {\n\n    BinaryExpression(path) {\n        const {confident, value} = path.evaluate();\n        if (confident) {\n            path.replaceInline(types.valueToNode(value));\n        }\n    },\n\n}\ntraverse(ast, visitor);\nconst result = generate(ast);\nconsole.log(result.code);\n// output: \n// function double_b64_decode(sss) {\n//   return atob(atob(sss));\n// }\n// var Arr = ["Ykc5bg=="];\n// function _wYQm(j, k) {\n//   return j - k;\n// }\n// function _sTFb(j, k) {\n//   return j - k;\n// }\n// function _rSeS(j, k) {\n//   return j + k;\n// }\n// function _EXMS(j, k) {\n//   return j <= k;\n// }\n// function digui(n) {\n//   return _EXMS(n, 2) ? 1 : _rSeS(digui(_sTFb(n, 1)), digui(_wYQm(n, 2)));\n// }\n// console[double_b64_decode(Arr[0])](digui(10));\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230\u6709\u4e2a",(0,t.jsx)(e.code,{children:"double_b64_decode"})," \u51fd\u6570\u5bf9",(0,t.jsx)(e.code,{children:"Arr[0]"}),"\u8fdb\u884c\u4e86\u5904\u7406\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u5bf9\u8fd9\u4e2a",(0,t.jsx)(e.code,{children:"CallExpression"}),"\u66ff\u6362\u6210",(0,t.jsx)(e.code,{children:"double_b64_decode(Arr[0])"}),"\u8ba1\u7b97\u51fa\u7684\u5b57\u7b26\u4e32"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647070.png-.png",alt:"image-20250117103330075"})}),"\n",(0,t.jsxs)(e.p,{children:["\u7136\u800c\u8fd9\u91cc\u6709\u96be\u70b9\u5c31\u662f\uff0c\u8fdb\u5165",(0,t.jsx)(e.code,{children:"CallExpression"}),"\u65f6\uff0c",(0,t.jsx)(e.code,{children:"BinaryExpression"}),"\u7c7b\u578b\u8fd8\u6ca1\u6709\u8ba1\u7b97."]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647071.png-.png",alt:"image-20250117104929238"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e3a\u6b64\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u7b2c\u4e00\u79cd\uff1a\u4f7f\u7528enter\u5728\u6240\u6709\u8282\u70b9\u8fdb\u5165\u524d\uff0c\u5bf9BinaryExpression\u8fdb\u884c\u8ba1\u7b97"}),"\n",(0,t.jsxs)(e.li,{children:["\u7b2c\u4e8c\u79cd\uff0c\u5206\u6279\u6b21\u8fdb\u884c\u8ba1\u7b97\uff08\u5bf9\u751f\u6210\u7684\u4ee3\u7801\u591a\u5199\u51e0\u6b21",(0,t.jsx)(e.code,{children:"traverse(ast, visitor);"}),"\uff09"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u8fd9\u91cc\u6211\u4eec\u91c7\u7528\u7b2c\u7b2c\u4e8c\u79cd\uff0c\u5206\u9636\u6bb5\u8fd0\u884c\u3002\u5728\u7b2c\u4e00\u9636\u6bb5\u7684\u4ee3\u7801\u4e0b\u9762\u65b0\u589e\u5904\u7406",(0,t.jsx)(e.code,{children:"CallExpression"}),"\u7684\u903b\u8f91"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const fs = require(\'fs\');\nconst parser = require("@babel/parser");\nconst traverse = require("@babel/traverse").default\nconst generate = require("@babel/generator").default\nconst types = require("@babel/types");\nconst code = `\nfunction double_b64_decode(sss){return atob(atob(sss));}var Arr=["Ykc5bg=="];function _wYQm(j,k){return j-k;}function _sTFb(j,k){return j-k;}function _rSeS(j,k){return j+k;}function _EXMS(j,k){return j<=k;}function \\u0064\\u0069\\u0067\\u0075\\u0069(\\u006e){return \\u005f\\u0045\\u0058\\u004d\\u0053(\\u006e,(866095^871791)-(13812^20426))?(835770^145588)-(520846^592515):\\u005f\\u0072\\u0053\\u0065\\u0053(\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0073\\u0054\\u0046\\u0062(\\u006e,(846611^391233)-(844466^389603))),\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0077\\u0059\\u0051\\u006d(\\u006e,(372786^381554)-(538795^547477))));}\\u0063\\u006f\\u006e\\u0073\\u006f\\u006c\\u0065[\\u0064\\u006f\\u0075\\u0062\\u006c\\u0065\\u005f\\u0062\\u0036\\u0034\\u005f\\u0064\\u0065\\u0063\\u006f\\u0064\\u0065(\\u0041\\u0072\\u0072[(812069^947940)-(417221^282372)])](\\u0064\\u0069\\u0067\\u0075\\u0069((425420^179515)-(347329^101420)));\n`;\n\n// \u7b2c\u4e00\u9636\u6bb5\uff1a\u8ba1\u7b97 \u53ef\u6267\u884c\u7684\u4e8c\u9879\u5f0f\nconst ast = parser.parse(code, )\ntraverse(ast, {\n    BinaryExpression(path) {\n        const { confident, value } = path.evaluate();\n        if (confident) {\n            path.replaceInline(types.valueToNode(value));\n        }\n    },\n});\n// \u7b2c\u4e8c\u9636\u6bb5\uff1a\u5220\u9664 double_b64_decode \u51fd\u6570 \u5e76\u66ff\u6362\u6210 \u5bf9\u5e94\u7684\u503c\ntraverse(ast, {\n    CallExpression(path){\n        const callee = path.node.callee.name;\n\n        if (callee === \'double_b64_decode\') {\n            const functionBind = path.scope.getBinding(path.node.callee.name);\n            const arrayBind = path.scope.getBinding(path.node.arguments[0].object.name);\n            const arrayNum =  path.node.arguments[0].property.value;\n            const init = arrayBind.path.node.init;\n\n            let value = init.elements[arrayNum].value;\n\n            // \u83b7\u53d6\u51fd\u6570\u4f53\u4ee3\u7801\n            const functionCode = generate(functionBind.path.node).code;\n            const decodedFunction = new Function(`return (${functionCode})`)();\n\n            value = decodedFunction(value);\n            let node = types.valueToNode(value);\n            path.replaceInline(types.valueToNode(value));\n            functionBind.path.remove();\n            arrayBind.path.remove();\n        }\n    }\n});\nconst result = generate(ast);\nconsole.log(result.code);\n\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u7ed3\u679c"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'function _wYQm(j, k) {\n  return j - k;\n}\nfunction _sTFb(j, k) {\n  return j - k;\n}\nfunction _rSeS(j, k) {\n  return j + k;\n}\nfunction _EXMS(j, k) {\n  return j <= k;\n}\nfunction digui(n) {\n  return _EXMS(n, 2) ? 1 : _rSeS(digui(_sTFb(n, 1)), digui(_wYQm(n, 2)));\n}\nconsole["log"](digui(10));\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u7b2c\u4e09\u9636\u6bb5\uff0c\u5904\u7406\u4e00\u4e0b\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const fs = require(\'fs\');\nconst parser = require("@babel/parser");\nconst traverse = require("@babel/traverse").default\nconst generate = require("@babel/generator").default\nconst types = require("@babel/types");\nconst code = `\nfunction double_b64_decode(sss){return atob(atob(sss));}var Arr=["Ykc5bg=="];function _wYQm(j,k){return j-k;}function _sTFb(j,k){return j-k;}function _rSeS(j,k){return j+k;}function _EXMS(j,k){return j<=k;}function \\u0064\\u0069\\u0067\\u0075\\u0069(\\u006e){return \\u005f\\u0045\\u0058\\u004d\\u0053(\\u006e,(866095^871791)-(13812^20426))?(835770^145588)-(520846^592515):\\u005f\\u0072\\u0053\\u0065\\u0053(\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0073\\u0054\\u0046\\u0062(\\u006e,(846611^391233)-(844466^389603))),\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0077\\u0059\\u0051\\u006d(\\u006e,(372786^381554)-(538795^547477))));}\\u0063\\u006f\\u006e\\u0073\\u006f\\u006c\\u0065[\\u0064\\u006f\\u0075\\u0062\\u006c\\u0065\\u005f\\u0062\\u0036\\u0034\\u005f\\u0064\\u0065\\u0063\\u006f\\u0064\\u0065(\\u0041\\u0072\\u0072[(812069^947940)-(417221^282372)])](\\u0064\\u0069\\u0067\\u0075\\u0069((425420^179515)-(347329^101420)));\n`;\n\n// \u7b2c\u4e00\u9636\u6bb5\uff1a\u8ba1\u7b97 \u53ef\u6267\u884c\u7684\u4e8c\u9879\u5f0f\nconst ast = parser.parse(code, )\ntraverse(ast, {\n    BinaryExpression(path) {\n        const { confident, value } = path.evaluate();\n        if (confident) {\n            path.replaceInline(types.valueToNode(value));\n        }\n    },\n});\n// \u7b2c\u4e8c\u9636\u6bb5\uff1a\u5220\u9664 double_b64_decode \u51fd\u6570 \u5e76\u66ff\u6362\u6210 \u5bf9\u5e94\u7684\u503c\ntraverse(ast, {\n    CallExpression(path){\n        const callee = path.node.callee.name;\n\n        if (callee === \'double_b64_decode\') {\n            const functionBind = path.scope.getBinding(path.node.callee.name);\n            const arrayBind = path.scope.getBinding(path.node.arguments[0].object.name);\n            const arrayNum =  path.node.arguments[0].property.value;\n            const init = arrayBind.path.node.init;\n\n            let value = init.elements[arrayNum].value;\n\n            // \u83b7\u53d6\u51fd\u6570\u4f53\u4ee3\u7801\n            const functionCode = generate(functionBind.path.node).code;\n            const decodedFunction = new Function(`return (${functionCode})`)();\n\n            value = decodedFunction(value);\n            let node = types.valueToNode(value);\n            path.replaceInline(types.valueToNode(value));\n            functionBind.path.remove();\n            arrayBind.path.remove();\n        }\n    }\n});\n\n// \u7b2c\u4e09\u9636\u6bb5\uff1a\u5904\u7406\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f\ntraverse(ast, {\n    MemberExpression(path){\n        if(path.node.computed){\n            path.node.computed = false\n            const name = path.node.property.value\n            path.node.property = types.identifier(name);\n\n        }\n    }\n})\n\n\n\n\nconst result = generate(ast);\nconsole.log(result.code);\n\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u7b2c\u56db\u9636\u6bb5\uff0c\u5c06\u82b1\u6307\u4ee4\u51fd\u6570\u66ff\u6362\u6210\u4e8c\u9879\u5f0f"}),"\n",(0,t.jsxs)(e.p,{children:["\u4e8c\u9879\u5f0f \u6709\u4e09\u90e8\u5206\u6784\u6210",(0,t.jsx)(e.code,{children:"left"}),"\u3001",(0,t.jsx)(e.code,{children:"operator"}),"\u3001",(0,t.jsx)(e.code,{children:"right"})]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647072.png-.png",alt:"image-20250117111820315"})}),"\n",(0,t.jsxs)(e.p,{children:["\u5bf9\u51fa\u73b0\u7684",(0,t.jsx)(e.code,{children:"CallExpression"}),"\u4e3a\u82b1\u6307\u4ee4\u7684\u51fd\u6570\u8fdb\u884c\u66ff\u6362"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://cdn.wjlin0.com/img/202501171647073.png-.png",alt:"image-20250117111942151"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const fs = require(\'fs\');\nconst parser = require("@babel/parser");\nconst traverse = require("@babel/traverse").default\nconst generate = require("@babel/generator").default\nconst types = require("@babel/types");\nconst {binaryExpression} = require("@babel/types");\nconst code = `\nfunction double_b64_decode(sss){return atob(atob(sss));}var Arr=["Ykc5bg=="];function _wYQm(j,k){return j-k;}function _sTFb(j,k){return j-k;}function _rSeS(j,k){return j+k;}function _EXMS(j,k){return j<=k;}function \\u0064\\u0069\\u0067\\u0075\\u0069(\\u006e){return \\u005f\\u0045\\u0058\\u004d\\u0053(\\u006e,(866095^871791)-(13812^20426))?(835770^145588)-(520846^592515):\\u005f\\u0072\\u0053\\u0065\\u0053(\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0073\\u0054\\u0046\\u0062(\\u006e,(846611^391233)-(844466^389603))),\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0077\\u0059\\u0051\\u006d(\\u006e,(372786^381554)-(538795^547477))));}\\u0063\\u006f\\u006e\\u0073\\u006f\\u006c\\u0065[\\u0064\\u006f\\u0075\\u0062\\u006c\\u0065\\u005f\\u0062\\u0036\\u0034\\u005f\\u0064\\u0065\\u0063\\u006f\\u0064\\u0065(\\u0041\\u0072\\u0072[(812069^947940)-(417221^282372)])](\\u0064\\u0069\\u0067\\u0075\\u0069((425420^179515)-(347329^101420)));\n`;\n\n// \u7b2c\u4e00\u9636\u6bb5\uff1a\u8ba1\u7b97 \u53ef\u6267\u884c\u7684\u4e8c\u9879\u5f0f\nconst ast = parser.parse(code, )\ntraverse(ast, {\n    BinaryExpression(path) {\n        const { confident, value } = path.evaluate();\n        if (confident) {\n            path.replaceInline(types.valueToNode(value));\n        }\n    },\n});\n// \u7b2c\u4e8c\u9636\u6bb5\uff1a\u5220\u9664 double_b64_decode \u51fd\u6570 \u5e76\u66ff\u6362\u6210 \u5bf9\u5e94\u7684\u503c\ntraverse(ast, {\n    CallExpression(path){\n        const callee = path.node.callee.name;\n\n        if (callee === \'double_b64_decode\') {\n            const functionBind = path.scope.getBinding(path.node.callee.name);\n            const arrayBind = path.scope.getBinding(path.node.arguments[0].object.name);\n            const arrayNum =  path.node.arguments[0].property.value;\n            const init = arrayBind.path.node.init;\n\n            let value = init.elements[arrayNum].value;\n\n            // \u83b7\u53d6\u51fd\u6570\u4f53\u4ee3\u7801\n            const functionCode = generate(functionBind.path.node).code;\n            const decodedFunction = new Function(`return (${functionCode})`)();\n\n            value = decodedFunction(value);\n            let node = types.valueToNode(value);\n            path.replaceInline(types.valueToNode(value));\n            functionBind.path.remove();\n            arrayBind.path.remove();\n        }\n    }\n});\n\n// \u7b2c\u4e09\u9636\u6bb5\uff1a\u5904\u7406\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f\ntraverse(ast, {\n    MemberExpression(path){\n        if(path.node.computed){\n            path.node.computed = false\n            const name = path.node.property.value\n            path.node.property = types.identifier(name);\n\n        }\n    }\n})\n\n// \u7b2c\u56db\u9636\u6bb5\uff1a\u66ff\u6362\u6240\u6709\u51fa\u73b0\u7684\u82b1\u6307\u4ee4\u51fd\u6570\u8c03\u7528\uff0c\u5e76\u540c\u65f6\u51fd\u6570\u8282\u70b9\ntraverse(ast, {\n    CallExpression(path) {\n        const callee = path.node.callee;\n\n        if (/^_/.test(callee.name)) {\n            const functionName = callee.name;\n            const functionBind = path.scope.getBinding(functionName);\n            if (functionBind) {\n\n                const left = path.node.arguments[0];\n                const right = path.node.arguments[1];\n                const operator = functionBind.path.node.body.body[0].argument.operator;\n                const binaryExpression = types.binaryExpression(operator, left, right);\n                path.replaceInline(binaryExpression);\n                \n\n                functionBind.path.remove();\n            }\n\n        }\n    }\n})\n\n\nconst result = generate(ast);\nconsole.log(result.code);\n\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const fs = require(\'fs\');\nconst parser = require("@babel/parser");\nconst traverse = require("@babel/traverse").default\nconst generate = require("@babel/generator").default\nconst types = require("@babel/types");\nconst {binaryExpression} = require("@babel/types");\nconst code = `\nfunction double_b64_decode(sss){return atob(atob(sss));}var Arr=["Ykc5bg=="];function _wYQm(j,k){return j-k;}function _sTFb(j,k){return j-k;}function _rSeS(j,k){return j+k;}function _EXMS(j,k){return j<=k;}function \\u0064\\u0069\\u0067\\u0075\\u0069(\\u006e){return \\u005f\\u0045\\u0058\\u004d\\u0053(\\u006e,(866095^871791)-(13812^20426))?(835770^145588)-(520846^592515):\\u005f\\u0072\\u0053\\u0065\\u0053(\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0073\\u0054\\u0046\\u0062(\\u006e,(846611^391233)-(844466^389603))),\\u0064\\u0069\\u0067\\u0075\\u0069(\\u005f\\u0077\\u0059\\u0051\\u006d(\\u006e,(372786^381554)-(538795^547477))));}\\u0063\\u006f\\u006e\\u0073\\u006f\\u006c\\u0065[\\u0064\\u006f\\u0075\\u0062\\u006c\\u0065\\u005f\\u0062\\u0036\\u0034\\u005f\\u0064\\u0065\\u0063\\u006f\\u0064\\u0065(\\u0041\\u0072\\u0072[(812069^947940)-(417221^282372)])](\\u0064\\u0069\\u0067\\u0075\\u0069((425420^179515)-(347329^101420)));\n`;\n\n// \u7b2c\u4e00\u9636\u6bb5\uff1a\u8ba1\u7b97 \u53ef\u6267\u884c\u7684\u4e8c\u9879\u5f0f\nconst ast = parser.parse(code, )\ntraverse(ast, {\n    BinaryExpression(path) {\n        const { confident, value } = path.evaluate();\n        if (confident) {\n            path.replaceInline(types.valueToNode(value));\n        }\n    },\n});\n// \u7b2c\u4e8c\u9636\u6bb5\uff1a\u5220\u9664 double_b64_decode \u51fd\u6570 \u5e76\u66ff\u6362\u6210 \u5bf9\u5e94\u7684\u503c\ntraverse(ast, {\n    CallExpression(path){\n        const callee = path.node.callee.name;\n\n        if (callee === \'double_b64_decode\') {\n            const functionBind = path.scope.getBinding(path.node.callee.name);\n            const arrayBind = path.scope.getBinding(path.node.arguments[0].object.name);\n            const arrayNum =  path.node.arguments[0].property.value;\n            const init = arrayBind.path.node.init;\n\n            let value = init.elements[arrayNum].value;\n\n            // \u83b7\u53d6\u51fd\u6570\u4f53\u4ee3\u7801\n            const functionCode = generate(functionBind.path.node).code;\n            const decodedFunction = new Function(`return (${functionCode})`)();\n\n            value = decodedFunction(value);\n            let node = types.valueToNode(value);\n            path.replaceInline(types.valueToNode(value));\n            functionBind.path.remove();\n            arrayBind.path.remove();\n        }\n    }\n});\n\n// \u7b2c\u4e09\u9636\u6bb5\uff1a\u5904\u7406\u5bf9\u8c61\u8bbf\u95ee\u65b9\u5f0f\ntraverse(ast, {\n    MemberExpression(path){\n        if(path.node.computed){\n            path.node.computed = false\n            const name = path.node.property.value\n            path.node.property = types.identifier(name);\n\n        }\n    }\n})\n\n// \u7b2c\u56db\u9636\u6bb5\uff1a\u66ff\u6362\u6240\u6709\u51fa\u73b0\u7684\u82b1\u6307\u4ee4\u51fd\u6570\u8c03\u7528\uff0c\u5e76\u540c\u65f6\u51fd\u6570\u8282\u70b9\ntraverse(ast, {\n    CallExpression(path) {\n        const callee = path.node.callee;\n\n        if (/^_/.test(callee.name)) {\n            const functionName = callee.name;\n            const functionBind = path.scope.getBinding(functionName);\n            if (functionBind) {\n\n                const left = path.node.arguments[0];\n                const right = path.node.arguments[1];\n                const operator = functionBind.path.node.body.body[0].argument.operator;\n                const binaryExpression = types.binaryExpression(operator, left, right);\n                path.replaceInline(binaryExpression);\n                \n\n                functionBind.path.remove();\n            }\n\n        }\n    }\n})\n\n\nconst result = generate(ast);\nconsole.log(result.code);\n\n'})}),"\n",(0,t.jsx)(e.h3,{id:"switch-case-\u63a7\u5236\u6d41\u5e73\u5766\u5316",children:"switch-case \u63a7\u5236\u6d41\u5e73\u5766\u5316"}),"\n",(0,t.jsxs)(e.p,{children:["\u63a7\u5236\u6d41\u5e73\u5766\u5316\u662f\u6df7\u6dc6\u5f53\u4e2d\u6700\u5e38\u89c1\u7684\uff0c\u901a\u8fc7 ",(0,t.jsx)(e.code,{children:"if-else"})," \u6216\u8005 ",(0,t.jsx)(e.code,{children:"while-switch-case"})," \u8bed\u53e5\u5206\u89e3\u6b65\u9aa4\uff0c\u793a\u4f8b\u4ee3\u7801\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const CryptoJS = require(\'crypto-js\');\n\n// AES \u52a0\u5bc6\u51fd\u6570\nfunction aesEncrypt(data) {\n  let key = CryptoJS.enc.Utf8.parse("1234567890123456");\n  let iv = CryptoJS.enc.Utf8.parse("1234567890123456");\n  let lineOrder = ["5", "8", "9", "2", \'0\', "6", "10", "1", "7", "4", "3"];\n  let lineIndex = 0;\n  while (true) {\n    switch (lineOrder[lineIndex]) {\n      case "5":\n        key = CryptoJS.enc.Utf8.parse(\'1234567890123456\');\n        \n        \n      case "8":\n        key = CryptoJS.lib.WordArray.random(16);\n        \n      case "9":\n        key = CryptoJS.enc.Utf8.parse(\'454583r342342445\');\n        \n        \n      case "2":\n        key = CryptoJS.enc.Utf8.parse(\'cdscddde3wfdedww\');\n      case "0":\n        iv = CryptoJS.lib.WordArray.random(16);\n      case "6":\n        iv = CryptoJS.enc.Utf8.parse(\'1234567890123456\');\n        \n        \n      case "10":\n        iv = CryptoJS.enc.Utf8.parse(\'454583r342342445\');\n        \n        \n      case "1":\n        iv = CryptoJS.lib.WordArray.random(16);\n      case "7":\n        iv = CryptoJS.enc.Utf8.parse(\'cdscddde3wfdedww\');\n      case "4":\n        const encryptedData = CryptoJS.AES.encrypt(data, key, {\n          iv: iv,\n          mode: CryptoJS.mode.CBC,\n          padding: CryptoJS.pad.Pkcs7\n        });\n      case "3":\n        return {\n          encryptedData: encryptedData.toString(),\n          key: key.toString(),\n          iv: iv.toString()\n        };\n    }\n    lineIndex++;\n  }\n}\nconsole.log(aesEncrypt(\'1234567890123456\'));\n'})}),"\n",(0,t.jsx)(e.p,{children:"AST \u8fd8\u539f\u601d\u8def\uff1a"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\u83b7\u53d6\u63a7\u5236\u6d41\u539f\u59cb\u6570\u7ec4\uff0c\u5c06 ",(0,t.jsx)(e.code,{children:"'3,4,0,5,1,2'['split'](',')"})," \u4e4b\u7c7b\u7684\u8bed\u53e5\u8f6c\u5316\u6210 ",(0,t.jsx)(e.code,{children:"['3','4','0','5','1','2']"})," \u4e4b\u7c7b\u7684\u6570\u7ec4\uff0c\u5f97\u5230\u8be5\u6570\u7ec4\u4e4b\u540e\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u628a split \u8bed\u53e5\u5bf9\u5e94\u7684\u8282\u70b9\u5220\u9664\u6389\uff0c\u56e0\u4e3a\u6700\u7ec8\u4ee3\u7801\u91cc\u8fd9\u6761\u8bed\u53e5\u5c31\u6ca1\u7528\u4e86\uff1b"]}),"\n",(0,t.jsx)(e.li,{children:"\u904d\u5386\u7b2c\u4e00\u6b65\u5f97\u5230\u7684\u63a7\u5236\u6d41\u6570\u7ec4\uff0c\u4f9d\u6b21\u53d6\u51fa\u6bcf\u4e2a\u503c\u6240\u5bf9\u5e94\u7684 case \u8282\u70b9\uff1b"}),"\n",(0,t.jsxs)(e.li,{children:["\u5b9a\u4e49\u4e00\u4e2a\u6570\u7ec4\uff0c\u50a8\u5b58\u6bcf\u4e2a case \u8282\u70b9 ",(0,t.jsx)(e.code,{children:"consequent"})," \u6570\u7ec4\u91cc\u9762\u7684\u5185\u5bb9\uff0c\u5e76\u5220\u9664 ",(0,t.jsx)(e.code,{children:"continue"})," \u8bed\u53e5\u5bf9\u5e94\u7684\u8282\u70b9\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:["\u904d\u5386\u5b8c\u6210\u540e\uff0c\u5c06\u7b2c\u4e09\u6b65\u7684\u6570\u7ec4\u66ff\u6362\u6389\u6574\u4e2a while \u8282\u70b9\uff0c\u4e5f\u5c31\u662f ",(0,t.jsx)(e.code,{children:"WhileStatement"}),"\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u4e0d\u540c\u601d\u8def\uff0c\u5199\u6cd5\u591a\u6837\uff0c\u5bf9\u4e8e\u5982\u4f55\u83b7\u53d6\u63a7\u5236\u6d41\u6570\u7ec4\uff0c\u53ef\u4ee5\u6709\u4ee5\u4e0b\u601d\u8def\uff1a"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\u83b7\u53d6\u5230 ",(0,t.jsx)(e.code,{children:"While"})," \u8bed\u53e5\u8282\u70b9\uff0c\u7136\u540e\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"path.getAllPrevSiblings()"})," \u65b9\u6cd5\u83b7\u53d6\u5176\u524d\u9762\u7684\u6240\u6709\u5144\u5f1f\u8282\u70b9\uff0c\u904d\u5386\u6bcf\u4e2a\u5144\u5f1f\u8282\u70b9\uff0c\u627e\u5230\u4e0e ",(0,t.jsx)(e.code,{children:"switch()"})," \u91cc\u9762\u6570\u7ec4\u7684\u53d8\u91cf\u540d\u76f8\u540c\u7684\u8282\u70b9\uff0c\u7136\u540e\u518d\u53d6\u8282\u70b9\u7684\u503c\u8fdb\u884c\u540e\u7eed\u5904\u7406\uff1b"]}),"\n",(0,t.jsxs)(e.li,{children:["\u76f4\u63a5\u53d6 ",(0,t.jsx)(e.code,{children:"switch()"})," \u91cc\u9762\u6570\u7ec4\u7684\u53d8\u91cf\u540d\uff0c\u7136\u540e\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"scope.getBinding()"})," \u65b9\u6cd5\u83b7\u53d6\u5230\u5b83\u7ed1\u5b9a\u7684\u8282\u70b9\uff0c\u7136\u540e\u518d\u53d6\u8fd9\u4e2a\u8282\u70b9\u7684\u503c\u8fdb\u884c\u540e\u7eed\u5904\u7406\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const parser = require("@babel/parser");\n\nconst generate = require("@babel/generator").default\n\nconst traverse = require("@babel/traverse").default\n\nconst types = require("@babel/types")\n\nconst fs = require("fs");\n\n\n\nconst code = `\nconst CryptoJS = require(\'crypto-js\');\n\n// AES \u52a0\u5bc6\u51fd\u6570\nfunction aesEncrypt(data) {\n  let key = CryptoJS.enc.Utf8.parse("1234567890123456");\n  let iv = CryptoJS.enc.Utf8.parse("1234567890123456");\n  let lineOrder = ["5", "8", "9", "2", \'0\', "6", "10", "1", "7", "4", "3"];\n  let lineIndex = 0;\n  while (true) {\n    switch (lineOrder[lineIndex]) {\n      case "5":\n        key = CryptoJS.enc.Utf8.parse(\'1234567890123456\');\n        \n        \n      case "8":\n        key = CryptoJS.lib.WordArray.random(16);\n        \n      case "9":\n        key = CryptoJS.enc.Utf8.parse(\'454583r342342445\');\n        \n        \n      case "2":\n        key = CryptoJS.enc.Utf8.parse(\'cdscddde3wfdedww\');\n      case "0":\n        iv = CryptoJS.lib.WordArray.random(16);\n      case "6":\n        iv = CryptoJS.enc.Utf8.parse(\'1234567890123456\');\n        \n        \n      case "10":\n        iv = CryptoJS.enc.Utf8.parse(\'454583r342342445\');\n        \n        \n      case "1":\n        iv = CryptoJS.lib.WordArray.random(16);\n      case "7":\n        iv = CryptoJS.enc.Utf8.parse(\'cdscddde3wfdedww\');\n      case "4":\n        const encryptedData = CryptoJS.AES.encrypt(data, key, {\n          iv: iv,\n          mode: CryptoJS.mode.CBC,\n          padding: CryptoJS.pad.Pkcs7\n        });\n      case "3":\n        return {\n          encryptedData: encryptedData.toString(),\n          key: key.toString(),\n          iv: iv.toString()\n        };\n    }\n    lineIndex++;\n  }\n}\nconsole.log(aesEncrypt(\'1234567890123456\'));\n\n`;\n\nconst ast = parser.parse(code)\n\n\n\nconst visitor = {\n\n    WhileStatement(path) {\n\n\n\n        let switchNode = path.node.body.body[0];\n\n\n\n        let arrayName = switchNode.discriminant.object.name;\n\n        // \u83b7\u53d6\u63a7\u5236\u6d41\u6570\u7ec4\u7ed1\u5b9a\u7684\u8282\u70b9\n\n        let bindingArray = path.scope.getBinding(arrayName);\n        let arrayNode = bindingArray.path.node;\n        let array = arrayNode.init.elements;\n        array = array.map((item) => item.value);\n\n        // \u50a8\u5b58\u6b63\u786e\u987a\u5e8f\u7684\u63a7\u5236\u6d41\u8bed\u53e5\n\n        let replace = [];\n\n        // \u904d\u5386\u63a7\u5236\u6d41\u6570\u7ec4\uff0c\u6309\u6b63\u786e\u987a\u5e8f\u53d6 case \u5185\u5bb9\n\n        array.forEach(index => {\n\n\n                const a =switchNode.cases.find((item) => item.test.value === index);\n                let consequent = a.consequent;\n\n                // \u5982\u679c\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u662f continue \u8bed\u53e5\uff0c\u5219\u5220\u9664 ContinueStatement \u8282\u70b9\n\n                if (types.isContinueStatement(consequent[consequent.length - 1])) {\n\n                    consequent.pop();\n\n                }\n\n                // concat \u65b9\u6cd5\u62fc\u63a5\u591a\u4e2a\u6570\u7ec4\uff0c\u5373\u6b63\u786e\u987a\u5e8f\u7684 case \u5185\u5bb9\n\n                replace = replace.concat(consequent);\n\n            }\n\n        );\n\n        // \u66ff\u6362\u6574\u4e2a while \u8282\u70b9\uff0c\u4e24\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5\n\n        path.replaceWithMultiple(replace);\n\n        // path.replaceInline(replace);\n\n    }\n\n}\n\n\n\ntraverse(ast, visitor)\n\nconst result = generate(ast)\n\nconsole.log(result.code)\n\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u4ee5\u4e0a\u4ee3\u7801\u8fd0\u884c\u540e\uff0c\u539f\u6765\u7684 ",(0,t.jsx)(e.code,{children:"switch-case"})," \u63a7\u5236\u6d41\u5c31\u88ab\u8fd8\u539f\u4e86\uff0c\u53d8\u6210\u4e86\u6309\u987a\u5e8f\u4e00\u884c\u4e00\u884c\u7684\u4ee3\u7801\uff0c\u66f4\u52a0\u7b80\u6d01\u660e\u4e86\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const CryptoJS = require(\'crypto-js\');\n\n// AES \u52a0\u5bc6\u51fd\u6570\nfunction aesEncrypt(data) {\n  let key = CryptoJS.enc.Utf8.parse("1234567890123456");\n  let iv = CryptoJS.enc.Utf8.parse("1234567890123456");\n  let lineOrder = ["5", "8", "9", "2", \'0\', "6", "10", "1", "7", "4", "3"];\n  let lineIndex = 0;\n  key = CryptoJS.enc.Utf8.parse(\'1234567890123456\');\n  key = CryptoJS.lib.WordArray.random(16);\n  key = CryptoJS.enc.Utf8.parse(\'454583r342342445\');\n  key = CryptoJS.enc.Utf8.parse(\'cdscddde3wfdedww\');\n  iv = CryptoJS.lib.WordArray.random(16);\n  iv = CryptoJS.enc.Utf8.parse(\'1234567890123456\');\n  iv = CryptoJS.enc.Utf8.parse(\'454583r342342445\');\n  iv = CryptoJS.lib.WordArray.random(16);\n  iv = CryptoJS.enc.Utf8.parse(\'cdscddde3wfdedww\');\n  const encryptedData = CryptoJS.AES.encrypt(data, key, {\n    iv: iv,\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.Pkcs7\n  });\n  return {\n    encryptedData: encryptedData.toString(),\n    key: key.toString(),\n    iv: iv.toString()\n  };\n}\nconsole.log(aesEncrypt(\'1234567890123456\'));\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u5b98\u65b9\u624b\u518c Babel Handbook\uff1a",(0,t.jsx)(e.a,{href:"https://github.com/jamiebuilds/babel-handbook",children:"https://github.com/jamiebuilds/babel-handbook"})]}),"\n",(0,t.jsxs)(e.li,{children:["\u5b98\u65b9\u4e2d\u6587\u624b\u518c\uff1a",(0,t.jsx)(e.a,{href:"https://www.babeljs.cn/docs/",children:"https://www.babeljs.cn/docs/"})]}),"\n",(0,t.jsxs)(e.li,{children:["\u975e\u5b98\u65b9 Babel API \u4e2d\u6587\u6587\u6863\uff1a",(0,t.jsx)(e.a,{href:"https://evilrecluse.top/Babel-traverse-api-doc/",children:"https://evilrecluse.top/Babel-traverse-api-doc/"})]}),"\n",(0,t.jsxs)(e.li,{children:["k\u54e5\u722c\u866b\uff1a",(0,t.jsx)(e.a,{href:"https://www.cnblogs.com/ikdl",children:"https://www.cnblogs.com/ikdl"})]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>a,x:()=>i});var s=r(6540);const t={},c=s.createContext(t);function a(n){const e=s.useContext(c);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:a(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);